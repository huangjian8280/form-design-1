{"version":3,"sources":["webpack:///./demo/components/FormField/index.js","webpack:///./src/panels/DesignPanel/WidgetDropAccepter.js","webpack:///./demo/components/Form/FormContext.js","webpack:///./demo/components/Icon/index.js","webpack:///./demo/components/HTMLForm/SingleCheck.js","webpack:///./demo/index.js","webpack:///./src/index.js","webpack:///./src/Designer.js","webpack:///./src/DesignModel/index.js","webpack:///./src/DesignModel/Widget/index.js","webpack:///./src/DesignModel/Widget/Preview.js","webpack:///./src/DesignModel/Widget/DragPreview.js","webpack:///./src/DesignModel/Widget/PlaceholderPreview.js","webpack:///./src/DesignModel/Widget/WidgetProperty.js","webpack:///./src/panels/WidgetsPanel/index.js","webpack:///./src/panels/WidgetsPanel/WidgetItem.js","webpack:///./src/panels/PropertyPanel.js","webpack:///./src/panels/DesignPanel/index.js","webpack:///./src/panels/DesignPanel/PreviewItem.js","webpack:///./src/DesignContext.js","webpack:///./demo/widgets/index.js","webpack:///./demo/widgets/TextField/index.js","webpack:///./demo/utils/index.js","webpack:///./demo/widgets/TextField/PropertyPanel.js","webpack:///./demo/components/Form/Form.js","webpack:///./demo/components/Form/index.js","webpack:///./demo/components/Form/FormItem.js","webpack:///./demo/components/Form/NativeField.js","webpack:///./demo/components/FormField/MultipleInputField.js","webpack:///./demo/components/FormField/DisplayField.js","webpack:///./demo/components/FormField/WidthInputField.js","webpack:///./demo/widgets/TextField/icon.png","webpack:///./demo/widgets/TextareaField/index.js","webpack:///./demo/widgets/TextareaField/PropertyPanel.js","webpack:///./demo/widgets/TextareaField/icon.png","webpack:///./demo/widgets/SelectField/index.js","webpack:///./demo/widgets/SelectField/PropertyPanel.js","webpack:///./demo/widgets/SelectField/icon.png","webpack:///./demo/widgets/URLField/index.js","webpack:///./demo/widgets/URLField/PropertyPanel.js","webpack:///./demo/widgets/URLField/icon.png","webpack:///./demo/widgets/DetailedField/index.js","webpack:///./demo/widgets/DetailedField/PropertyPanel.js","webpack:///./demo/widgets/DetailedField/Preview.js","webpack:///./demo/widgets/DetailedField/icon.png","webpack:///./src/style/index.js","webpack:///./demo/widgets/common/data.js","webpack:///./demo/widgets/PropertyForm.js","webpack:///./demo/widgets/common/CommonPropertyPanel.js","webpack:///./demo/widgets/common/ValidatePropertyPanel.js","webpack:///./src/constants.js"],"names":["__webpack_require__","_MultipleInputField","_interopRequireDefault","_DisplayField","_WidthInputField","_react","_reactDnd","_classnames","_constants","_DesignContext","_PreviewItem","spec","canDrop","props","monitor","hover","component","isOver","shallow","designer","context","dragItem","getItem","pid","dragItemFieldId","item","fieldId","targetPids","getPids","push","indexOf","updateItemPid","drop","commitItem","fireEvent","WidgetDropAccepter","i","isHover","_this","shouldHide","isTmpItem","xtype","widget","getWidget","default","createElement","key","visible","this","PlaceholderPreview","_this$props","connectDropTarget","items","_this$props$style","style","ref","className","design-layout-container","drag-over","dropable","map","renderItem","React","Component","DesignContext","DropTarget","WIDGET_DRAG_DROP_SCOPE","connect","dropTarget","createContext","_extends2","type","checked","value","on","onChange","e","target","off","_reactDom","_src","_widgets","ReactDOM","render","_React$useState","useState","_React$useState2","_slicedToArray2","metadata","onMetadataChange","position","top","left","right","bottom","onDrop","console","log","widgets","document","getElementById","Designer","_propTypes","_reactDndHtml5Backend","_DesignModel","_WidgetsPanel","_PropertyPanel","_DesignPanel","_objectSpread2","_this$props2","renderWidgetList","platform","resetProps","_objectWithoutProperties2","DndProvider","backend","HTML5Backend","handleModelChange","PropTypes","array","oneOf","P_PC","P_MOBILE","P_IPAD","object","_Widget","_find","_findIndex","DesignModel","widgetsMap","activeId","state","Widget","title","concat","setState","arguments","length","undefined","getAllItems","filter","$pid","_toConsumableArray2","pids","node","pNode","currentFieldId","idx","getItemIndex","_this2","ret","shouldRemove","bItem","_idx","prevItem","oIdx","splice","nextItem","newItems","__tmp__","pidIndex","childs","getChildren","firstItem","lastItem","insertAfter","insertBefore","handler","bind","getWidgets","setActiveId","getActiveId","getActiveItem","addItem","updateItem","getItems","removeItem","clearTmpItems","children","Provider","getModel","w","_reactIs","_Preview","_DragPreview","_PlaceholderPreview","_WidgetProperty","fid","options","_classCallCheck2","$$widget","icon","Preview","isValidElementType","WPreview","DragPreview","WDragPreview","WPlaceholderPreview","WidgetProperty","WWidgetProperty","data","_now","name","classString","_defineProperty2","widget-preview-item-inner","placeholder","_ref","_WidgetItem","WidgetsPanel","WidgetItem","disabled","connectDragSource","isDragging","_widget$title","widget-item","widget-item-dragging","widget-item-disabled","src","DragSource","beginDrag","endDrag","dragSource","PropertyPanel","activeItem","padding","textAlign","onItemChange","_WidgetDropAccepter","DesignPanel","_flow","dropSpec","targetFieldId","dragOffset","getClientOffset","targetOffset","findDOMNode","getBoundingClientRect","middleY","height","y","WidgetPreviewItem","dom","isDefaultPrevented","preventDefault","handleDragAndDrop","widget-preview-item-wrapper","droppable","dragging","display","width","widget-preview-item","widget-preview-item-selected","onClick","handlePreviewClick","handleRemove","isWidgetDragging","isPreviewDragging","_TextField","_TextareaField","_SelectField","_URLField","_DetailedField","TextField","TextareaField","SelectField","URLField","DetailedField","_data2","_icon","Math","random","toString","slice","_PropertyForm","_CommonPropertyPanel","_ValidatePropertyPanel","_asyncValidator","_set","_get","_scrollIntoView","_FormContext","AsyncValidator","warning","Form","formError","validatingFields","formValue","formDefaultValue","field","fields","path2obj","event","cb","nextFormValue","_objectSpread5","_valiateCb","validateProcess","forEach","errors","fieldRules","fieldProps","rules","validator","_isArray","required","unshift","apply","_this$state","getValue","getFieldRules","descriptor","validate","firstFields","message","Function","callback","_this3","_keys","error","_this4","f","getDOM","set","form","prefixCls","onSubmit","getFormContext","nextProps","prevState","string","bool","validateDelay","number","validateTrigger","oneOfType","func","labelWidth","labelPosition","alignItems","inline","validateFieldsAndScroll","showMessage","getFormItemInputProps","_Form","_FormItem","_NativeField","Item","FormItem","NativeField","_classnames2","_dom","addField","removeField","isRequired","some","rule","getValidateTrigger","getValidateDelay","_validateTimer","clearTimeout","setTimeout","validateField","setValue","formProps","normalize","label","labelFor","help","_this$getLabelProps","getLabelProps","getError","validating","isValidatingField","Children","only","_children$props","onBlur","getInputProps","onFieldChange","onFieldBlur","InputComponent","cloneElement","saveDOM","htmlFor","FormContext","_props$component","inputRef","others","_Icon","MultipleInputField","defaultValue","sIndex","_assertThisInitialized2","onAddItem","onRemoveItem","index","text","max","getUnit","test","toValue","_parseFloat2","isNaN","WidthInputField","_getPrototypeOf2","_len","a","Array","_key","_possibleConstructorReturn2","_getPrototypeOf3","call","unit","min","v","onUnitChange","handleInputChange","renderSuffix","module","exports","_FormField","XType","widget-preview-item-detailed","minHeight","paddingBottom","border","_utils","uuid","fieldName","dataType","dataLength","DisplayField","_SingleCheck"],"mappings":"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","file":"js/index.bd23b37c.chunk.js","sourcesContent":["import \"./style/index.scss\"\r\n\r\nimport MultipleInputField from './MultipleInputField';\r\nimport DisplayField from './DisplayField';\r\nimport WidthInputField from './WidthInputField';\r\n\r\nexport {\r\n    MultipleInputField,\r\n    DisplayField,\r\n    WidthInputField,\r\n}","import React from \"react\";\r\nimport { DragSource, DropTarget } from \"react-dnd\";\r\nimport cx from \"classnames\";\r\nimport { WIDGET_DRAG_DROP_SCOPE } from \"../../constants\";\r\nimport DesignContext from \"../../DesignContext\";\r\n\r\nimport PreviewItem from \"./PreviewItem\";\r\n\r\nfunction canDrop(props, monitor, component) {\r\n    //子容器拖动过程中不再接受释放处理\r\n    const designer = component.context;\r\n    const dragItem = monitor.getItem();\r\n    const pid = props.pid;\r\n    const dragItemFieldId = dragItem.item.fieldId;\r\n    const targetPids = pid ? designer.getPids(pid) : [];\r\n    pid && targetPids.push(pid);\r\n    //解决父节点拖动到子节点的情况\r\n    return targetPids.indexOf(dragItemFieldId) === -1;\r\n}\r\n\r\nconst spec = {\r\n    canDrop(props, monitor) {\r\n        return true;\r\n    },\r\n    hover(props, monitor, component) {\r\n        const isOver = monitor.isOver({ shallow: true });\r\n        if (!isOver) return;\r\n\r\n        if (!monitor.canDrop() || !canDrop(props, monitor, component)) return;\r\n\r\n        const designer = component.context;\r\n        const pid = props.pid;\r\n        const dragItem = monitor.getItem();\r\n        const item = dragItem.item;\r\n\r\n        designer.updateItemPid(item, pid);\r\n    },\r\n    drop(props, monitor, component) {\r\n        const dragItem = monitor.getItem();\r\n        const designer = component.context;\r\n\r\n        //根节点统一commit\r\n        if (props.pid == null) {\r\n            designer.commitItem(dragItem.item);\r\n            designer.fireEvent(\"onDrop\", {\r\n                item: dragItem.item\r\n            });\r\n        }\r\n    }\r\n};\r\n\r\nconst collect = (connect, monitor) => {\r\n    return {\r\n        connectDropTarget: connect.dropTarget(),\r\n        isHover: monitor.isOver(),\r\n        isOver: monitor.isOver({ shallow: true }),\r\n        canDrop: monitor.canDrop(),\r\n        dragItem: monitor.getItem()\r\n    };\r\n};\r\n\r\nclass WidgetDropAccepter extends React.Component {\r\n    static contextType = DesignContext;\r\n\r\n    static defaultProps = {\r\n        pid: null\r\n    };\r\n\r\n    rendrePlaceholder() {\r\n        const { dragItem } = this.props;\r\n        const { widget, item } = dragItem;\r\n\r\n        return <widget.PlaceholderPreview widget={widget} item={item} />;\r\n    }\r\n\r\n    renderItem = (item, i) => {\r\n        const { isHover } = this.props;\r\n        const designer = this.context;\r\n        const shouldHide = !isHover && designer.isTmpItem(item);\r\n\r\n        const xtype = item.xtype;\r\n        const widget = designer.getWidget(xtype);\r\n\r\n        return (\r\n            <PreviewItem\r\n                designer={designer}\r\n                key={item.fieldId}\r\n                widget={widget}\r\n                item={item}\r\n                visible={!shouldHide}\r\n            />\r\n        );\r\n    };\r\n\r\n    // connectDropTarget = (dom) => {\r\n    //     const { connectDropTarget, pid } = this.props;\r\n    //     const designer = this.context;\r\n\r\n    //     if (pid) {\r\n    //         const pItem = designer.getItem(pid);\r\n    //         if (!designer.isTmpItem(pItem)) {\r\n    //             connectDropTarget(dom);\r\n    //         } else {\r\n    //             const tmpDOM = document.createElement('div');\r\n    //             connectDropTarget(tmpDOM);\r\n    //             console.log('x')\r\n    //         }\r\n    //     } else {\r\n    //         connectDropTarget(dom);\r\n    //     }\r\n    // }\r\n\r\n    render() {\r\n        const {\r\n            connectDropTarget,\r\n            isOver,\r\n            canDrop,\r\n            dragItem,\r\n            items,\r\n            style = {}\r\n        } = this.props;\r\n        // const designer = this.context;\r\n        // const items = designer.getItems(pid);\r\n\r\n        return (\r\n            <div\r\n                ref={connectDropTarget}\r\n                style={style}\r\n                className={cx({\r\n                    \"design-layout-container\": true,\r\n                    \"drag-over\": isOver,\r\n                    dropable: canDrop\r\n                })}\r\n            >\r\n                {items.map(this.renderItem)}\r\n                {/* {\r\n                    isOver && dragItem.isWidgetDragging ? this.rendrePlaceholder() : null\r\n                } */}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DropTarget(WIDGET_DRAG_DROP_SCOPE, spec, collect)(\r\n    WidgetDropAccepter\r\n);\r\n","import React from 'react';\r\n\r\nexport default React.createContext({});\r\n","import React from 'react';\r\nimport classNames from 'classnames';\r\n\r\nexport default (props) => {\r\n\r\n    return <span {...props} className={\r\n        classNames(props.className, 'icon-' + props.type)\r\n    } />\r\n}","import React from 'react';\r\nimport { FormItem, NativeField } from '../Form'\r\nimport classNames from 'classnames';\r\n\r\nexport default function Checkbox(props) {\r\n\r\n    const onChange = (e) => {\r\n        const target = e.target;\r\n        if (target.checked) {\r\n            props.onChange && props.onChange(props.on);\r\n        } else {\r\n            props.onChange && props.onChange(props.off);\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <input\r\n            {...props}\r\n            checked={props.value === props.on}\r\n            type=\"checkbox\"\r\n            onChange={onChange}\r\n        />\r\n    );\r\n}","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport FormDesigner from \"../src\";\r\n\r\nimport widgets from \"./widgets\";\r\n\r\nimport \"../src/style\";\r\n\r\nfunction App() {\r\n    const [metadata, onMetadataChange] = React.useState({\r\n        items: []\r\n    });\r\n\r\n    return (\r\n        <div\r\n            style={{\r\n                position: \"fixed\",\r\n                top: 0,\r\n                left: 0,\r\n                right: 0,\r\n                bottom: 0\r\n            }}\r\n        >\r\n            <FormDesigner\r\n                onDrop={console.log}\r\n                widgets={widgets}\r\n                metadata={metadata}\r\n                onChange={onMetadataChange}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n","\r\nimport Designer from './Designer';\r\nexport default Designer;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { DndProvider } from \"react-dnd\";\r\nimport HTML5Backend from \"react-dnd-html5-backend\";\r\n\r\nimport DesignModel from \"./DesignModel\";\r\nimport WidgetsPanel from \"./panels/WidgetsPanel\";\r\nimport PropertyPanel from \"./panels/PropertyPanel\";\r\nimport DesignPanel from \"./panels/DesignPanel\";\r\n\r\nimport { P_PC, P_MOBILE, P_IPAD } from \"./constants\";\r\n\r\nexport default class Designer extends React.Component {\r\n    static propTypes = {\r\n        widgets: PropTypes.array,\r\n        platform: PropTypes.oneOf([P_PC, P_MOBILE, P_IPAD]),\r\n        metadata: PropTypes.object\r\n    };\r\n\r\n    static defaultProps = {\r\n        onChange: null,\r\n        platform: P_PC,\r\n        widgets: [],\r\n        metadata: {\r\n            items: []\r\n        }\r\n    };\r\n\r\n    handleModelChange = items => {\r\n        const { onChange, metadata } = this.props;\r\n\r\n        onChange &&\r\n            onChange({\r\n                ...metadata,\r\n                items\r\n            });\r\n    };\r\n\r\n    render() {\r\n        const {\r\n            widgets,\r\n            renderWidgetList,\r\n            metadata,\r\n            platform,\r\n            ...resetProps\r\n        } = this.props;\r\n\r\n        return (\r\n            <DndProvider backend={HTML5Backend}>\r\n                <DesignModel\r\n                    {...resetProps}\r\n                    widgets={widgets}\r\n                    items={metadata.items}\r\n                    platform={platform}\r\n                    onChange={this.handleModelChange}\r\n                >\r\n                    <div className=\"csos-form-designer\">\r\n                        <div className=\"csos-form-designer-container\">\r\n                            <WidgetsPanel render={renderWidgetList} />\r\n                            <DesignPanel />\r\n                            <PropertyPanel />\r\n                        </div>\r\n                    </div>\r\n                </DesignModel>\r\n            </DndProvider>\r\n        );\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport DesignContext from \"../DesignContext\";\r\nimport Widget from \"./Widget\";\r\n\r\nimport find from \"lodash/find\";\r\nimport findIndex from \"lodash/findIndex\";\r\n\r\nexport default class DesignModel extends React.Component {\r\n    static getDerivedStateFromProps(props, state) {\r\n        const widgetsMap = {};\r\n        const widgets = props.widgets.map(widget => {\r\n            const w = new Widget(widget);\r\n            widgetsMap[widget.xtype] = w;\r\n            return w;\r\n        });\r\n\r\n        return {\r\n            widgets,\r\n            widgetsMap,\r\n            items: props.items || []\r\n        };\r\n    }\r\n\r\n    static defaultProps = {\r\n        onChange: null,\r\n        widgets: [],\r\n        items: []\r\n    };\r\n\r\n    state = {\r\n        widgets: [],\r\n        widgetsMap: {},\r\n        items: [],\r\n        activeId: null\r\n    };\r\n\r\n    onChange(items) {\r\n        const props = this.props;\r\n        const { onChange } = props;\r\n\r\n        if (onChange) {\r\n            onChange(items);\r\n        }\r\n    }\r\n\r\n    getWidget(xtype) {\r\n        const { widgetsMap } = this.state;\r\n        let widget = widgetsMap[xtype];\r\n\r\n        if (!widget) {\r\n            widget = new Widget({\r\n                xtype,\r\n                title: xtype\r\n            });\r\n        }\r\n        return widget;\r\n    }\r\n\r\n    getWidgets() {\r\n        const { widgets } = this.state;\r\n        return [].concat(widgets);\r\n    }\r\n\r\n    setActiveId(activeId) {\r\n        this.setState({\r\n            activeId\r\n        });\r\n    }\r\n\r\n    getActiveId() {\r\n        return this.state.activeId;\r\n    }\r\n\r\n    getActiveItem() {\r\n        const activeId = this.state.activeId;\r\n        return this.getItem(activeId) || null;\r\n    }\r\n\r\n    getItems(pid = null) {\r\n        const items = this.getAllItems();\r\n\r\n        return items.filter(item => item && item.$pid == pid);\r\n    }\r\n\r\n    getChildren(fieldId = null, items = this.state.items) {\r\n        return items.filter(item => item.$pid == fieldId);\r\n    }\r\n\r\n    getAllItems() {\r\n        return [...this.state.items];\r\n    }\r\n\r\n    //获取组件的所有父级ID\r\n    getPids(fieldId) {\r\n        const pids = [];\r\n        let node = this.getItem(fieldId);\r\n        if (!node.$pid) return pids;\r\n\r\n        let currentFieldId = node.$pid;\r\n        let pNode;\r\n        while ((pNode = this.getItem(currentFieldId))) {\r\n            pids.push(pNode.fieldId);\r\n            currentFieldId = pNode.$pid;\r\n            if (!currentFieldId) break;\r\n        }\r\n\r\n        return pids;\r\n    }\r\n\r\n    updateItem(item) {\r\n        const items = this.getAllItems();\r\n        const fieldId = item.fieldId;\r\n        const idx = this.getItemIndex(fieldId);\r\n\r\n        if (idx !== -1) {\r\n            items[idx] = item;\r\n        }\r\n\r\n        this.onChange(items);\r\n    }\r\n\r\n    addItem(item, pid = null) {\r\n        const items = this.getAllItems();\r\n\r\n        item.$pid = pid;\r\n\r\n        items.push(item);\r\n\r\n        this.onChange(items);\r\n    }\r\n\r\n    removeItem(fieldId) {\r\n        const items = this.getAllItems();\r\n        //移除指定项目及子项目\r\n        const ret = items.filter(item => {\r\n            let shouldRemove = item.fieldId === fieldId;\r\n\r\n            if (!shouldRemove) {\r\n                const pids = this.getPids(item.fieldId);\r\n                shouldRemove = pids.indexOf(fieldId) > -1;\r\n            }\r\n\r\n            return !shouldRemove;\r\n        });\r\n\r\n        this.onChange(ret);\r\n    }\r\n\r\n    getItemIndex(fieldId, items) {\r\n        items = items || this.getAllItems();\r\n        return findIndex(items, item => item.fieldId === fieldId);\r\n    }\r\n\r\n    getItem(fieldId) {\r\n        const items = this.getAllItems();\r\n        return find(items, item => item && item.fieldId === fieldId);\r\n    }\r\n\r\n    insertBefore(item, fieldId) {\r\n        const items = this.getAllItems();\r\n        const bItem = this.getItem(fieldId);\r\n\r\n        //判断是否需要移动\r\n        const _idx = this.getItemIndex(fieldId);\r\n        if (_idx !== 0) {\r\n            const prevItem = items[_idx - 1];\r\n            if (\r\n                prevItem.fieldId === item.fieldId &&\r\n                prevItem.$pid === bItem.$pid\r\n            ) {\r\n                return;\r\n            }\r\n        }\r\n\r\n        //判断当前item是否已经存在, 如果存在则先删除\r\n        const oIdx = this.getItemIndex(item.fieldId);\r\n        if (oIdx > -1) {\r\n            items.splice(oIdx, 1);\r\n        }\r\n\r\n        item.$pid = bItem.$pid;\r\n\r\n        //插入操作\r\n        const idx = this.getItemIndex(fieldId, items);\r\n        items.splice(idx, 0, item);\r\n\r\n        this.onChange(items);\r\n    }\r\n\r\n    insertAfter(item, fieldId) {\r\n        const items = this.getAllItems();\r\n        const prevItem = this.getItem(fieldId);\r\n\r\n        //判断是否需要移动\r\n        const _idx = this.getItemIndex(fieldId);\r\n        if (_idx !== items.length - 1) {\r\n            const nextItem = items[_idx + 1];\r\n            if (\r\n                nextItem.fieldId === item.fieldId &&\r\n                nextItem.$pid === prevItem.$pid\r\n            ) {\r\n                return;\r\n            }\r\n        }\r\n\r\n        //判断当前item是否已经存在, 如果存在则先删除\r\n        const oIdx = this.getItemIndex(item.fieldId);\r\n        if (oIdx > -1) {\r\n            items.splice(oIdx, 1);\r\n        }\r\n\r\n        item.$pid = prevItem.$pid;\r\n\r\n        //插入操作 之前有删除操作, 要重新查找index\r\n        const idx = findIndex(items, item => item.fieldId === fieldId);\r\n        items.splice(idx, 1, items[idx], item);\r\n\r\n        this.onChange(items);\r\n    }\r\n\r\n    clearTmpItems() {\r\n        const items = this.getAllItems();\r\n        const newItems = items.filter(item => !item.__tmp__);\r\n\r\n        this.onChange(newItems);\r\n    }\r\n\r\n    updateItemPid(item, pid = null) {\r\n        const fieldId = item.fieldId;\r\n        const idx = this.getItemIndex(fieldId);\r\n\r\n        if (item.$pid === pid) return;\r\n\r\n        //fix: 同级节点转变为子节点时顺序问题\r\n        if (pid) {\r\n            const pidIndex = this.getItemIndex(pid);\r\n            const childs = this.getChildren(pid);\r\n\r\n            if (childs.length) {\r\n                const firstItem = childs[0];\r\n                const lastItem = childs[childs.length - 1];\r\n\r\n                if (idx > pidIndex) {\r\n                    this.insertAfter(item, lastItem.fieldId);\r\n                } else {\r\n                    this.insertBefore(item, firstItem.fieldId);\r\n                }\r\n                return;\r\n            }\r\n        }\r\n\r\n        if (idx !== -1) {\r\n            item.$pid = pid;\r\n        }\r\n\r\n        this.onChange(this.getAllItems());\r\n    }\r\n\r\n    commitItem(item) {\r\n        const items = this.getAllItems();\r\n        const fieldId = item.fieldId;\r\n        const idx = this.getItemIndex(fieldId);\r\n\r\n        if (idx !== -1) {\r\n            item.__tmp__ = false;\r\n            delete item.__tmp__;\r\n            items[idx] = item;\r\n            this.setState({\r\n                activeId: item.fieldId\r\n            });\r\n        }\r\n\r\n        this.onChange(items);\r\n    }\r\n\r\n    isTmpItem(item) {\r\n        return !!item.__tmp__;\r\n    }\r\n\r\n    fireEvent(type, e) {\r\n        const props = this.props;\r\n        const handler = props[type];\r\n\r\n        if (handler) {\r\n            handler(e);\r\n        }\r\n    }\r\n\r\n    getModel() {\r\n        return {\r\n            getWidget: this.getWidget.bind(this),\r\n            getWidgets: this.getWidgets.bind(this),\r\n            setActiveId: this.setActiveId.bind(this),\r\n            getActiveId: this.getActiveId.bind(this),\r\n            getActiveItem: this.getActiveItem.bind(this),\r\n            addItem: this.addItem.bind(this),\r\n            getPids: this.getPids.bind(this),\r\n            updateItem: this.updateItem.bind(this),\r\n            getItems: this.getItems.bind(this),\r\n            getAllItems: this.getAllItems.bind(this),\r\n            removeItem: this.removeItem.bind(this),\r\n            getItemIndex: this.getItemIndex.bind(this),\r\n            getItem: this.getItem.bind(this),\r\n            insertBefore: this.insertBefore.bind(this),\r\n            insertAfter: this.insertAfter.bind(this),\r\n            clearTmpItems: this.clearTmpItems.bind(this),\r\n            commitItem: this.commitItem.bind(this),\r\n            isTmpItem: this.isTmpItem.bind(this),\r\n            updateItemPid: this.updateItemPid.bind(this),\r\n            fireEvent: this.fireEvent.bind(this)\r\n        };\r\n    }\r\n\r\n    render() {\r\n        const { children } = this.props;\r\n        return (\r\n            <DesignContext.Provider value={this.getModel()}>\r\n                {children}\r\n            </DesignContext.Provider>\r\n        );\r\n    }\r\n}\r\n","import { isValidElementType } from \"react-is\";\r\nimport WPreview from \"./Preview\";\r\nimport WDragPreview from \"./DragPreview\";\r\nimport WPlaceholderPreview from \"./PlaceholderPreview\";\r\nimport WWidgetProperty from \"./WidgetProperty\";\r\n\r\nlet fid = 1000;\r\n\r\nexport default class Widget {\r\n    /**\r\n     *\r\n     * @param {object} options 控件基本信息: 名称 图标 属性面板组件 预览组件 属性等\r\n     * @param {string} optopns.xtype 控件类\r\n     * @param {string} optopns.title 控件名称\r\n     * @param {string} optopns.icon  控件图标\r\n     * @param {ReactElementType} optopns.Preview  控件拖放后预览组件\r\n     * @param {ReactElementType} optopns.DragPreview  控件拖拽时预览组件\r\n     * @param {ReactElementType} optopns.PlaceholderPreview  控件拖拽时占位预览组件\r\n     * @param {ReactElementType} optopns.WidgetProperty  控件属性面板组件\r\n     * @param {function|object} optopns.data 控件属性\r\n     * @memberof WidgetManager\r\n     */\r\n    constructor(options = {}) {\r\n        this.$$widget = true;\r\n        this.options = options;\r\n\r\n        this.xtype = options.xtype;\r\n        this.title = options.title;\r\n        this.icon = options.icon;\r\n\r\n        this.Preview = isValidElementType(options.Preview)\r\n            ? options.Preview\r\n            : WPreview;\r\n        this.DragPreview = isValidElementType(options.DragPreview)\r\n            ? options.DragPreview\r\n            : WDragPreview;\r\n        this.PlaceholderPreview = isValidElementType(options.PlaceholderPreview)\r\n            ? options.PlaceholderPreview\r\n            : WPlaceholderPreview;\r\n        this.WidgetProperty = isValidElementType(options.WidgetProperty)\r\n            ? options.WidgetProperty\r\n            : WWidgetProperty;\r\n    }\r\n\r\n    getItem() {\r\n        const data = this.options.data;\r\n        const ret = typeof data === \"function\" ? data() : data;\r\n\r\n        return {\r\n            fieldId: `f_${Date.now()}_${fid++}`,\r\n            ...ret,\r\n            xtype: this.xtype,\r\n            $pid: null,\r\n            __tmp__: true\r\n        };\r\n    }\r\n\r\n    get(name) {\r\n        return this.options[name];\r\n    }\r\n\r\n    set(name, value) {\r\n        this.options[name] = value;\r\n\r\n        return this;\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport classNames from \"classnames\";\r\n\r\nexport default function(props) {\r\n    const item = props.item;\r\n    const classString = classNames({\r\n        \"widget-preview-item-inner\": true,\r\n        [props.className]: props.className\r\n    });\r\n\r\n    return (\r\n        <div className={classString}>\r\n            <label className=\"widget-preview-title\">{item.title}</label>\r\n            <span className=\"widget-preview-input\">{item.placeholder}</span>\r\n            {/* <span className=\"widget-preview-close\" onClick={onRemove}>x</span> */}\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\n\r\nexport default () => {\r\n    return null;\r\n}","import React from 'react';\r\n\r\nexport default function WidgetPlaceholderItem() {\r\n\r\n    return (\r\n        <div className=\"drag-item-placeholder\">\r\n            <div className=\"drag-item-placeholder-inner\">\r\n            </div>\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\n\r\nexport default ({\r\n    item,\r\n    onChange\r\n}) => {\r\n\r\n    return (\r\n        <div>\r\n            默认属性面板\r\n        </div>\r\n    );\r\n}","import React from \"react\";\r\nimport DesignContext from \"../../DesignContext\";\r\nimport WidgetItem from \"./WidgetItem\";\r\n\r\nexport default class WidgetsPanel extends React.Component {\r\n    static contextType = DesignContext;\r\n\r\n    render() {\r\n        const { render } = this.props;\r\n        const designer = this.context;\r\n        const widgets = designer.getWidgets();\r\n\r\n        let childs = widgets.map(widget => {\r\n            return (\r\n                <WidgetItem\r\n                    designer={designer}\r\n                    key={widget.xtype}\r\n                    widget={widget}\r\n                />\r\n            );\r\n        });\r\n\r\n        if (render) {\r\n            childs = render(childs);\r\n        }\r\n\r\n        return (\r\n            <div className=\"widgets-panel\">\r\n                <div className=\"widgets-panel-header\">控件列表</div>\r\n                <div className=\"widgets-panel-body\">{childs}</div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport { DragSource, DropTarget } from \"react-dnd\";\r\nimport cx from \"classnames\";\r\nimport { WIDGET_DRAG_DROP_SCOPE } from \"../../constants\";\r\n\r\nconst spec = {\r\n    beginDrag(props, monitor, component) {\r\n        const designer = props.designer;\r\n        const widget = props.widget;\r\n        const item = widget.getItem();\r\n        designer.addItem(item);\r\n\r\n        return {\r\n            widget,\r\n            item\r\n        };\r\n    },\r\n    endDrag(props, monitor, component) {\r\n        const designer = props.designer;\r\n        designer.clearTmpItems();\r\n    }\r\n    // canDrag(props) {\r\n    //     return !props.disabled;\r\n    // }\r\n};\r\n\r\nconst collect = (connect, monitor) => {\r\n    return {\r\n        connectDragSource: connect.dragSource(),\r\n        isDragging: monitor.isDragging()\r\n    };\r\n};\r\n\r\nclass WidgetItem extends React.Component {\r\n    render() {\r\n        const { disabled, widget, connectDragSource, isDragging } = this.props;\r\n        const { title = \"未知组件\", icon } = widget;\r\n        return connectDragSource(\r\n            <div\r\n                className={cx({\r\n                    \"widget-item\": true,\r\n                    \"widget-item-dragging\": isDragging,\r\n                    \"widget-item-disabled\": disabled\r\n                })}\r\n            >\r\n                <div className=\"widget-item-title\">\r\n                    <img src={icon} />\r\n                    <span className=\"widget-text\">{title}</span>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DragSource(WIDGET_DRAG_DROP_SCOPE, spec, collect)(WidgetItem);\r\n","import React from 'react';\r\nimport DesignContext from '../DesignContext';\r\n// import { getWidgetPropertyPanel } from './widgets';\r\n// import {\r\n//     Form,\r\n//     FormItem,\r\n//     NativeField,\r\n// } from 'components/Form';\r\n\r\nexport default class PropertyPanel extends React.Component {\r\n\r\n    static contextType = DesignContext;\r\n\r\n    onItemChange = (item) => {\r\n        const designer = this.context;\r\n        const activeItem = designer.getActiveItem();\r\n\r\n        designer.updateItem({\r\n            ...activeItem,\r\n            ...item,\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const designer = this.context;\r\n        const activeItem = designer.getActiveItem();\r\n        if (!activeItem) {\r\n            return (\r\n                <div className=\"property-panel\">\r\n                    <div style={{ padding: 30, textAlign: 'center' }}>请先选择控件</div>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        const widget = designer.getWidget(activeItem.xtype);\r\n\r\n        if (!widget) {\r\n            return (\r\n                <div className=\"property-panel\">\r\n                    <div style={{ padding: 30, textAlign: 'center' }}>无.</div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div className=\"property-panel\">\r\n                <widget.WidgetProperty\r\n                    widget={widget}\r\n                    onChange={this.onItemChange}\r\n                    item={{ ...activeItem }}\r\n                    key={activeItem.fieldId}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport DesignContext from '../../DesignContext';\r\nimport WidgetDropAccepter from './WidgetDropAccepter';\r\n\r\nexport default class DesignPanel extends React.Component {\r\n    static contextType = DesignContext;\r\n\r\n    render() {\r\n        const pid = null\r\n        const designer = this.context;\r\n        const items = designer.getItems(pid);\r\n\r\n        return (\r\n            <div className=\"design-panel\">\r\n                <WidgetDropAccepter items={items} pid={pid} />\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport { findDOMNode } from 'react-dom';\r\nimport flow from 'lodash/flow';\r\nimport {\r\n    DragSource,\r\n    DropTarget,\r\n} from 'react-dnd';\r\nimport cx from 'classnames';\r\nimport {\r\n    WIDGET_DRAG_DROP_SCOPE\r\n} from '../../constants';\r\nimport DesignContext from '../../DesignContext';\r\n\r\nconst dragSpec = {\r\n    beginDrag(props) {\r\n        const widget = props.widget;\r\n        const item = props.item;\r\n        return {\r\n            isWidgetDragging: false,\r\n            isPreviewDragging: false,\r\n            widget: widget,\r\n            item: item,\r\n        };\r\n    },\r\n    // endDrag(props, monitor, component) {\r\n    //     console.log('endDrag')\r\n    // }\r\n};\r\n\r\nconst dragCollect = (connect, monitor) => {\r\n    return {\r\n        connectDragSource: connect.dragSource(),\r\n        isDragging: monitor.isDragging(),\r\n    };\r\n}\r\n\r\nfunction canDrop(props, monitor) {\r\n    const designer = props.designer;\r\n    const dragItem = monitor.getItem();\r\n    const dragItemFieldId = dragItem.item.fieldId;\r\n    const targetFieldId = props.item.fieldId;\r\n\r\n    //解决父节点拖动到子节点的情况\r\n    const pids = designer.getPids(targetFieldId);\r\n\r\n    pids.push(targetFieldId);\r\n\r\n    if (pids.indexOf(dragItemFieldId) > -1) return false;\r\n\r\n    return true;\r\n}\r\n\r\nconst dropSpec = {\r\n    canDrop(props, monitor) {\r\n        return true;\r\n    },\r\n\r\n    hover(props, monitor, component) {\r\n        const isOver = monitor.isOver({ shallow: true });\r\n        if (!isOver) return;\r\n\r\n        if (!monitor.canDrop() || !canDrop(props, monitor, component)) return;\r\n\r\n        const designer = component.context;\r\n        const { item } = props;\r\n        const dragItem = monitor.getItem();\r\n        const dragOffset = monitor.getClientOffset();\r\n        const previewDOM = findDOMNode(component);\r\n\r\n        //顺序调整\r\n        const targetOffset = previewDOM.getBoundingClientRect();\r\n        const middleY = ~~(targetOffset.bottom - (targetOffset.height / 2));\r\n\r\n        if (dragOffset.y <= middleY) {\r\n            designer.insertBefore(dragItem.item, item.fieldId);\r\n        } else {\r\n            designer.insertAfter(dragItem.item, item.fieldId);\r\n        }\r\n\r\n    },\r\n\r\n    // drop(props, monitor, component) {\r\n    //     //TODO\r\n    // }\r\n};\r\n\r\nconst dropCollect = (connect, monitor) => {\r\n    return {\r\n        connectDropTarget: connect.dropTarget(),\r\n        isOver: monitor.isOver({ shallow: true }),\r\n        canDrop: monitor.canDrop(),\r\n        // dragItem: monitor.getItem(),\r\n    }\r\n}\r\n\r\nclass WidgetPreviewItem extends React.Component {\r\n\r\n    static contextType = DesignContext;\r\n\r\n    state = {\r\n        // placeholderPosition: 'none', //none after before top bottom\r\n    }\r\n\r\n    handlePreviewClick(item, e) {\r\n        if (e.isDefaultPrevented()) {\r\n            return;\r\n        }\r\n        e.preventDefault();\r\n        const designer = this.context;\r\n        designer.setActiveId(item.fieldId);\r\n    }\r\n\r\n    handleRemove = () => {\r\n        const designer = this.context;\r\n        const { item } = this.props;\r\n        designer.removeItem(item.fieldId)\r\n    }\r\n\r\n    handleDragAndDrop = (dom) => {\r\n        const {\r\n            connectDropTarget,\r\n            connectDragSource,\r\n        } = this.props;\r\n\r\n        connectDropTarget(dom);\r\n        connectDragSource(dom);\r\n\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            connectDropTarget,\r\n            connectDragSource,\r\n            isDragging,\r\n            isOver,\r\n            widget,\r\n            item,\r\n            // dragItem,\r\n            visible,\r\n        } = this.props;\r\n        // const { placeholderPosition } = this.state;\r\n        const designer = this.context;\r\n        const activeId = designer.getActiveId();\r\n        //如果来源不是组建面板,则是排序模式\r\n        // const isSortMode = dragItem && !dragItem.isWidgetDragging;\r\n        // const items = layout.getLayoutChildren(data.id);\r\n\r\n        return (\r\n            <div\r\n                ref={this.handleDragAndDrop}\r\n                className={cx({\r\n                    \"widget-preview-item-wrapper\": true,\r\n                    \"droppable\": isOver,\r\n                    \"dragging\": isDragging,\r\n                    // \"drop-tips\": canDrop,\r\n                })}\r\n\r\n                style={{\r\n                    display: visible ? 'inline-block' : 'none',\r\n                    width: item.width || '100%'\r\n                }}\r\n\r\n            >\r\n                <div\r\n                    className={cx({\r\n                        \"widget-preview-item\": true,\r\n                        \"widget-preview-item-selected\": activeId === item.fieldId,\r\n                    })}\r\n                    onClick={this.handlePreviewClick.bind(this, item)}\r\n                >\r\n                    <widget.Preview item={item} designer={designer} />\r\n                    <span className=\"widget-preview-close\" onClick={this.handleRemove}>x</span>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default flow(\r\n    DropTarget(WIDGET_DRAG_DROP_SCOPE, dropSpec, dropCollect),\r\n    DragSource(WIDGET_DRAG_DROP_SCOPE, dragSpec, dragCollect),\r\n)(WidgetPreviewItem)","import React from 'react';\r\n\r\nexport default React.createContext({});","import TextField from './TextField';\r\nimport TextareaField from './TextareaField';\r\nimport SelectField from './SelectField';\r\n// import MultiSelectField from './MultiSelectField';\r\n// import NumberField from './NumberField';\r\n// import DateField from './DateField';\r\nimport URLField from './URLField';\r\n// import FileField from './FileField';\r\nimport DetailedField from './DetailedField';\r\n\r\nexport default [\r\n    TextField,\r\n    TextareaField,\r\n    SelectField,\r\n    // MultiSelectField,\r\n    // NumberField,\r\n    // DateField,\r\n    URLField,\r\n    DetailedField,\r\n    // FileField,\r\n];","import data from '../common/data';\r\nimport PropertyPanel from './PropertyPanel';\r\nimport icon from './icon.png';\r\n\r\nconst XType = 'EX_TEXT_FIELD';\r\nconst Title = '文本';\r\n\r\nexport default {\r\n    xtype: \"EX_TEXT_FIELD\",\r\n    title: \"文本\",\r\n    icon: icon,\r\n    WidgetProperty: PropertyPanel,\r\n\r\n    data() {\r\n        return {\r\n            ...data(),\r\n            xtype: XType,\r\n            title: Title,\r\n        }\r\n    }\r\n};","export function uuid() {\r\n    return Math.random().toString(16).slice(2, 8);\r\n}\r\n","import React from 'react';\r\nimport PropertyForm from '../PropertyForm';\r\n// import {\r\n//     FormItem,\r\n//     NativeField,\r\n// } from 'components/Form';\r\n\r\nimport CommonPropertyPanel from '../common/CommonPropertyPanel';\r\nimport ValidatePropertyPanel from '../common/ValidatePropertyPanel';\r\n\r\nexport default function (props) {\r\n\r\n    return (\r\n        <PropertyForm {...props}>\r\n            <CommonPropertyPanel />\r\n            <ValidatePropertyPanel />\r\n        </PropertyForm>\r\n    );\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classnames from 'classnames';\r\nimport AsyncValidator from 'async-validator';\r\nimport set from 'lodash/set';\r\nimport get from 'lodash/get';\r\nimport scrollIntoView from 'bplokjs-dom-utils/scrollIntoView';\r\nimport FormContext from './FormContext';\r\n\r\nAsyncValidator.warning = function () { };\r\n\r\nexport default class Form extends React.Component {\r\n    static propTypes = {\r\n        prefixCls: PropTypes.string,\r\n        className: PropTypes.string,\r\n        style: PropTypes.object,\r\n        path2obj: PropTypes.bool,\r\n        formDefaultValue: PropTypes.object,\r\n        formValue: PropTypes.object,\r\n        validateDelay: PropTypes.number,\r\n        validateTrigger: PropTypes.string, //change blur none\r\n        component: PropTypes.node,\r\n        rules: PropTypes.oneOfType([PropTypes.object, PropTypes.array, PropTypes.func]),\r\n        labelWidth: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n        labelPosition: PropTypes.oneOf(['top', 'left', 'right']),\r\n        alignItems: PropTypes.oneOf(['top', 'center', 'bottom']),\r\n        inline: PropTypes.bool,\r\n        onSubmit: PropTypes.func,\r\n        onChange: PropTypes.func,\r\n        validateFieldsAndScroll: PropTypes.bool,\r\n        showMessage: PropTypes.bool,\r\n        getFormItemInputProps: PropTypes.func,\r\n    }\r\n\r\n    static defaultProps = {\r\n        prefixCls: 'rw-form',\r\n        className: '',\r\n        style: {},\r\n        rules: {},\r\n        path2obj: true,\r\n        component: 'form',\r\n        validateDelay: 0,\r\n        validateTrigger: 'none',\r\n        labelPosition: 'left',\r\n        alignItems: \"center\",\r\n        inline: false,\r\n        showMessage: true,\r\n    }\r\n\r\n    static getDerivedStateFromProps(nextProps, prevState) {\r\n        return {\r\n            formValue: nextProps.formValue || prevState.formValue,\r\n        }\r\n    }\r\n\r\n    fields = []\r\n    _valiateCb = []\r\n\r\n    state = {\r\n        formError: {},\r\n        validatingFields: {},\r\n        formValue: this.props.formDefaultValue || {},\r\n    }\r\n\r\n    addField(field) {\r\n        this.fields.push(field);\r\n    }\r\n\r\n    removeField(field) {\r\n        var idx = this.fields.indexOf(field);\r\n        if (idx !== -1) {\r\n            this.fields.splice(idx, 1);\r\n        }\r\n    }\r\n\r\n    getValue(name) {\r\n        const path2obj = this.props.path2obj;\r\n        const formValue = this.state.formValue;\r\n        if (path2obj) {\r\n            return get(formValue, name);\r\n        }\r\n        return formValue[name];\r\n    }\r\n\r\n    setValue(name, value, event, cb) {\r\n        const { path2obj, onChange } = this.props;\r\n        const formValue = this.state.formValue;\r\n\r\n        const nextFormValue = {\r\n            ...formValue\r\n        };\r\n\r\n        if (path2obj) {\r\n            set(nextFormValue, name, value);\r\n        } else {\r\n            nextFormValue[name] = value;\r\n        }\r\n\r\n        if (!('formValue' in this.props)) {\r\n            this.setState({\r\n                formValue: nextFormValue\r\n            });\r\n        }\r\n\r\n        if (onChange) {\r\n            onChange(nextFormValue, event);\r\n        }\r\n\r\n        if (cb) {\r\n            this._valiateCb.push(cb);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        const formValue = this.state.formValue;\r\n        const validateProcess = this._valiateCb;\r\n        this._valiateCb = [];\r\n        validateProcess.forEach(cb => {\r\n            cb(formValue);\r\n        });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._valiateCb = [];\r\n    }\r\n\r\n    getError(name) {\r\n        const { formError } = this.state;\r\n        if (!arguments.length) return formError;\r\n        return formError[name];\r\n    }\r\n\r\n    cleanErrors() {\r\n        this.setState({\r\n            validatingFields: {},\r\n            formError: {}\r\n        });\r\n    }\r\n\r\n    setErrors(errors) {\r\n        const { formError } = this.state;\r\n        this.setState({\r\n            ...formError,\r\n            ...errors\r\n        });\r\n    }\r\n\r\n    getFieldRules(name) {\r\n        const fieldRules = [];\r\n        this.fields\r\n            .filter(field => field.props.name === name)\r\n            .forEach(field => {\r\n                const fieldProps = field.props;\r\n                let rules = fieldProps.rules || [];\r\n                if (typeof rules === 'function') {\r\n                    rules = [\r\n                        {\r\n                            validator: rules\r\n                        }\r\n                    ]\r\n                } else if (!Array.isArray(rules)) {\r\n                    rules = [rules];\r\n                }\r\n                if (fieldProps.required) {\r\n                    rules.unshift({\r\n                        required: true\r\n                    });\r\n                }\r\n\r\n                fieldRules.push(...rules);\r\n            });\r\n\r\n        let rules = this.props.rules[name] || [];\r\n        if (rules) {\r\n            if (typeof rules === 'function') {\r\n                rules = [\r\n                    {\r\n                        validator: rules\r\n                    }\r\n                ]\r\n            } else if (!Array.isArray(rules)) {\r\n                rules = [rules];\r\n            }\r\n        }\r\n\r\n        return rules ? fieldRules.concat(rules) : fieldRules;\r\n    }\r\n\r\n    isValidatingField(name) {\r\n        const validatingFields = this.state.validatingFields;\r\n        return !!validatingFields[name];\r\n    }\r\n\r\n    validateField(name, cb) {\r\n        const { formError, validatingFields } = this.state;\r\n        const value = this.getValue(name);\r\n        const rules = this.getFieldRules(name);\r\n\r\n        if (!rules || rules.length === 0) {\r\n            if (cb instanceof Function) {\r\n                cb(null, value);\r\n            }\r\n            return;\r\n        }\r\n\r\n        this.setState({\r\n            validatingFields: {\r\n                ...validatingFields,\r\n                [name]: true,\r\n            }\r\n        });\r\n\r\n        const descriptor = { [name]: rules };\r\n        const validator = new AsyncValidator(descriptor);\r\n        const data = { [name]: value };\r\n\r\n        validator.validate(data, { firstFields: true }, errors => {\r\n            this.setState({\r\n                formError: {\r\n                    ...formError,\r\n                    [name]: errors ? errors[0].message : null\r\n                },\r\n                validatingFields: {\r\n                    ...validatingFields,\r\n                    [name]: false,\r\n                },\r\n            }, () => {\r\n                if (cb instanceof Function) {\r\n                    cb(errors, value);\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    validate(callback) {\r\n        const { formValue } = this.state;\r\n        const fields = this.fields;\r\n        const rules = {};\r\n\r\n        if (fields.length === 0 && callback) {\r\n            callback(null, formValue);\r\n            return;\r\n        }\r\n\r\n        fields.forEach(field => {\r\n            const name = field.props.name;\r\n            if (!name || name in rules) return;\r\n            const fieldRules = this.getFieldRules(name);\r\n            if (fieldRules && fieldRules.length) {\r\n                rules[name] = fieldRules;\r\n            }\r\n        });\r\n\r\n        const validatingFields = {};\r\n\r\n        const validator = new AsyncValidator(rules);\r\n        const data = {};\r\n        Object.keys(rules).forEach(key => {\r\n            data[key] = get(formValue, key);\r\n            validatingFields[key] = true;\r\n        });\r\n\r\n        this.setState({\r\n            validatingFields\r\n        });\r\n\r\n        validator.validate(data, { firstFields: true }, errors => {\r\n            const formError = {};\r\n            if (errors) {\r\n                errors.forEach(error => {\r\n                    formError[error.field] = error.message;\r\n                });\r\n            }\r\n            this.setState({\r\n                formError,\r\n                validatingFields: {},\r\n            }, () => {\r\n                if (callback instanceof Function) {\r\n                    callback(errors, formValue);\r\n                }\r\n            });\r\n\r\n        });\r\n    }\r\n\r\n    validateAndScroll(callback) {\r\n        this.validate((errors, formValue) => {\r\n            if (errors) {\r\n                let field;\r\n                const formError = this.state.formError;\r\n                const fields = this.fields;\r\n                fields.forEach(f => {\r\n                    const name = f.props.name;\r\n                    if (!name) return;\r\n                    if (!field && (name in formError)) {\r\n                        field = f;\r\n                    }\r\n                });\r\n\r\n                if (field) {\r\n                    scrollIntoView(field.getDOM());\r\n                }\r\n            }\r\n\r\n            callback(errors, formValue);\r\n        });\r\n    }\r\n\r\n    onFieldChange(name, value) {\r\n        const { formValue } = this.state;\r\n\r\n        formValue.set(name, value);\r\n    }\r\n\r\n    getFormContext() {\r\n        return {\r\n            form: this,\r\n        };\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            prefixCls,\r\n            style,\r\n            className,\r\n            onSubmit,\r\n            component: Component,\r\n            children\r\n        } = this.props;\r\n\r\n        return (\r\n            <FormContext.Provider value={this.getFormContext()}>\r\n                <Component\r\n                    style={style}\r\n                    className={classnames(prefixCls, className)}\r\n                    onSubmit={onSubmit}\r\n                >\r\n                    {typeof children === 'function' ? children(this) : children}\r\n                </Component>\r\n            </FormContext.Provider>\r\n        )\r\n    }\r\n}\r\n\r\n","import Form from './Form';\r\nimport FormItem from './FormItem';\r\nimport NativeField from './NativeField';\r\n\r\nexport {\r\n    Form,\r\n    FormItem,\r\n    NativeField,\r\n};\r\n\r\nForm.Item = FormItem;\r\nForm.NativeField = NativeField;\r\n\r\nexport default Form;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classnames from 'classnames';\r\nimport FormContext from './FormContext';\r\nexport default class FormItem extends React.Component {\r\n\r\n    static contextType = FormContext;\r\n\r\n    static propTypes = {\r\n        label: PropTypes.node,\r\n        labelFor: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n        labelWidth: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n        labelPosition: PropTypes.oneOf(['top', 'left', 'right']),\r\n        alignItems: PropTypes.oneOf(['top', 'center', 'bottom']),\r\n        name: PropTypes.string,\r\n        rules: PropTypes.oneOfType([PropTypes.object, PropTypes.array, PropTypes.func]),\r\n        required: PropTypes.bool,\r\n        normalize: PropTypes.func,\r\n        validateDelay: PropTypes.number,\r\n        validateTrigger: PropTypes.string, //change blur none\r\n        inline: PropTypes.bool,\r\n        showMessage: PropTypes.bool,\r\n        help: PropTypes.node,\r\n        style: PropTypes.object,\r\n        //extra: PropTypes.node,\r\n    }\r\n\r\n    static defaultProps = {\r\n        prefixCls: 'rw-form-item',\r\n        // labelPosition: 'left',\r\n        // alignItems: \"center\",\r\n        // inline: false,\r\n        //showMessage: true,\r\n    }\r\n\r\n    saveDOM = dom => {\r\n        this._dom = dom;\r\n    }\r\n\r\n    getDOM() {\r\n        return this._dom;\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { form } = this.context;\r\n        const { name } = this.props;\r\n\r\n        if (name) {\r\n            form.addField(this);\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        const { form } = this.context;\r\n        form.removeField(this);\r\n    }\r\n\r\n    isRequired() {\r\n        const { form } = this.context;\r\n        const { name } = this.props;\r\n        let rules = form.getFieldRules(name);\r\n        let isRequired = false;\r\n\r\n        if (rules && rules.length) {\r\n            isRequired = rules.some(rule => rule.required);\r\n        }\r\n\r\n        return isRequired;\r\n    }\r\n\r\n    _validateTimer = null\r\n\r\n    getValidateTrigger() {\r\n        const { form } = this.context;\r\n        const { validateTrigger } = form.props;\r\n        const props = this.props;\r\n\r\n        return 'validateTrigger' in props ? props.validateTrigger : validateTrigger;\r\n    }\r\n\r\n    getValidateDelay() {\r\n        const { form } = this.context;\r\n        const { validateDelay } = form.props;\r\n        const props = this.props;\r\n\r\n        return 'validateDelay' in props ? props.validateDelay : validateDelay;\r\n    }\r\n\r\n    onFieldBlur() {\r\n        const { form } = this.context;\r\n        const validateTrigger = this.getValidateTrigger();\r\n        const validateDelay = this.getValidateDelay();\r\n        const { name } = this.props;\r\n\r\n        if (validateTrigger === 'blur') {\r\n            if (validateDelay > 0) {\r\n                if (this._validateTimer) clearTimeout(this._validateTimer)\r\n                this._validateTimer = setTimeout(() => {\r\n                    form.validateField(name);\r\n                }, validateDelay);\r\n            } else {\r\n                form.validateField(name);\r\n            }\r\n        }\r\n    }\r\n\r\n    getValue() {\r\n        const { name } = this.props;\r\n        const { form } = this.context;\r\n\r\n        return form.getValue(name);\r\n    }\r\n\r\n    onFieldChange(value, e) {\r\n        const { form } = this.context;\r\n        const { name } = this.props;\r\n\r\n        form.setValue(name, value, e, () => {\r\n            const validateTrigger = this.getValidateTrigger();\r\n            const validateDelay = this.getValidateDelay();\r\n\r\n            if (validateTrigger === 'change') {\r\n                if (validateDelay > 0) {\r\n                    if (this._validateTimer) clearTimeout(this._validateTimer)\r\n                    this._validateTimer = setTimeout(() => {\r\n                        form.validateField(name);\r\n                    }, validateDelay);\r\n                } else {\r\n                    form.validateField(name);\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    getLabelProps() {\r\n        const { form } = this.context;\r\n        const formProps = form.props;\r\n        const props = this.props;\r\n\r\n        return {\r\n            inline: 'inline' in props ? props.inline : formProps.inline,\r\n            labelPosition: 'labelPosition' in props ? props.labelPosition : formProps.labelPosition,\r\n            labelWidth: 'labelWidth' in props ? props.labelWidth : formProps.labelWidth,\r\n            alignItems: 'alignItems' in props ? props.alignItems : formProps.alignItems,\r\n            showMessage: 'showMessage' in props ? props.showMessage : formProps.showMessage,\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { form } = this.context;\r\n        const {\r\n            normalize,\r\n            label,\r\n            required,\r\n            labelFor,\r\n            className,\r\n            prefixCls,\r\n            name,\r\n            help,\r\n            style,\r\n            //extra,\r\n        } = this.props;\r\n        const { inline, labelPosition, labelWidth, alignItems, showMessage } = this.getLabelProps();\r\n        const error = form.getError(name);\r\n        const validating = form.isValidatingField(name);\r\n\r\n        const children = React.Children.only(this.props.children);\r\n\r\n        const {\r\n            onChange,\r\n            onBlur\r\n        } = children.props;\r\n\r\n        const getFormItemInputProps = form.props.getInputProps || function () { return {} };\r\n\r\n        const onFieldChange = this.onFieldChange.bind(this);\r\n        const onFieldBlur = this.onFieldBlur.bind(this);\r\n\r\n        const InputComponent = React.cloneElement(children, {\r\n            ...getFormItemInputProps(name),\r\n            value: this.getValue(),\r\n            onChange: function (value, event) {\r\n                if (normalize) {\r\n                    value = normalize(value);\r\n                }\r\n\r\n                onChange && onChange(value, event);\r\n\r\n                onFieldChange(value, event)\r\n            },\r\n            onBlur: function (e) {\r\n                onBlur && onBlur(e);\r\n                onFieldBlur(e)\r\n            },\r\n        });\r\n\r\n        return (\r\n            <div\r\n                style={style}\r\n                ref={this.saveDOM}\r\n                className={classnames(prefixCls, {\r\n                    [`${prefixCls}-inline`]: inline,\r\n                    [`${prefixCls}-position-${labelPosition}`]: labelPosition,\r\n                    [`${prefixCls}-align-items-${alignItems}`]: alignItems !== 'center',\r\n                    [`${prefixCls}-error`]: error,\r\n                    [`${prefixCls}-validating`]: validating,\r\n                    [`${prefixCls}-required`]: this.isRequired() || required,\r\n                    [`${prefixCls}-with-help`]: help,\r\n                    [`${className}`]: className,\r\n                })}\r\n            >\r\n                {\r\n                    label && (\r\n                        <label\r\n                            htmlFor={labelFor}\r\n                            className={`${prefixCls}-label`}\r\n                            style={{\r\n                                width: labelWidth\r\n                            }}\r\n                        >\r\n                            {label}\r\n                        </label>\r\n                    )\r\n                }\r\n                <div className={`${prefixCls}-content`}>\r\n                    {InputComponent}\r\n                    {\r\n                        !help && showMessage && error ? (\r\n                            <div className={`${prefixCls}-error-tip`} >{error}</div>\r\n                        ) : null\r\n                    }\r\n                    {\r\n                        help ? (\r\n                            <div className={`${prefixCls}-help`} >{help}</div>\r\n                        ) : null\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\n\r\nexport default function NativeField(props) {\r\n    const {\r\n        component: Component = 'input',\r\n        value,\r\n        inputRef,\r\n        onChange,\r\n        ...others\r\n    } = props;\r\n\r\n    const onInputChange = (e) => {\r\n        const value = e.target.value;\r\n        onChange && onChange(value, e);\r\n    }\r\n\r\n    return (\r\n        <Component\r\n            ref={inputRef}\r\n            onChange={onInputChange}\r\n            value={value}\r\n            {...others}\r\n        />\r\n    );\r\n}","import React from 'react';\r\n// import { FormItem } from '../Form';\r\nimport Icon from '../Icon';\r\n\r\nexport default class MultipleInputField extends React.Component {\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n        let value = props.value || state.value;\r\n\r\n        if (!Array.isArray(value)) {\r\n            value = [];\r\n        }\r\n\r\n        if (!value.length) {\r\n            value.push({\r\n                value: '选项1',\r\n                label: '选项1',\r\n            });\r\n        }\r\n\r\n        return {\r\n            value: [...value],\r\n            sIndex: Math.max(value.length, state.sIndex),\r\n        }\r\n    }\r\n    state = {\r\n        value: this.props.defaultValue || [],\r\n        sIndex: 1,\r\n    }\r\n\r\n    onItemChange(index, e) {\r\n        const { onChange } = this.props;\r\n        const { value } = this.state;\r\n        value[index] = {\r\n            value: e.target.value,\r\n            label: e.target.value,\r\n        };\r\n\r\n        onChange && onChange(value);\r\n    }\r\n\r\n    onAddItem(index) {\r\n        const { onChange } = this.props;\r\n        const { value, sIndex } = this.state;\r\n\r\n        const text = '选项' + (1 + sIndex);\r\n\r\n        this.setState({\r\n            sIndex: sIndex + 1,\r\n        });\r\n\r\n        const item = {\r\n            value: text,\r\n            label: text,\r\n        };\r\n\r\n        value.splice(index, 1,\r\n            value[index],\r\n            item\r\n        )\r\n\r\n        onChange && onChange(value);\r\n    }\r\n\r\n    onRemoveItem(index) {\r\n        const { onChange } = this.props;\r\n        const { value } = this.state;\r\n\r\n        if (value.length <= 1) return;\r\n\r\n        value.splice(index, 1)\r\n\r\n        onChange && onChange(value);\r\n    }\r\n\r\n    renderItem = (item, i) => {\r\n\r\n        return (\r\n            <div className=\"multi-input-item\" key={i}>\r\n                <div className=\"multi-input\">\r\n                    <input\r\n                        value={item.label}\r\n                        placeholder=\"选项名称\"\r\n                        onChange={this.onItemChange.bind(this, i)}\r\n                    />\r\n                </div>\r\n                <div className=\"multi-input-tools\">\r\n                    <Icon type=\"add\" onClick={this.onAddItem.bind(this, i)}>+</Icon>\r\n                    <Icon type=\"remove\" onClick={this.onRemoveItem.bind(this, i)}>-</Icon>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const { value } = this.state;\r\n\r\n        return (\r\n            <div className=\"multi-input-wrapper\">\r\n                {\r\n                    value.map(this.renderItem)\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\n\r\nexport default props => {\r\n    return (\r\n        <span>{props.value}</span>\r\n    )\r\n}","import React from 'react';\r\nimport Icon from '../Icon';\r\n\r\nfunction getUnit(value) {\r\n\r\n    if (/px$/.test(value)) {\r\n        return 'px';\r\n    }\r\n\r\n    if (/%$/.test(value)) {\r\n        return '%';\r\n    }\r\n\r\n    return 'px';\r\n\r\n}\r\n\r\nfunction toValue(value) {\r\n    value = parseFloat(value);\r\n    return isNaN(value) ? 0 : value;\r\n}\r\n\r\nexport default class WidthInputField extends React.Component {\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if ('value' in props) {\r\n            return {\r\n                value: toValue(props.value),\r\n                unit: getUnit(props.value)\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    constructor(props, ...a) {\r\n        super(props, ...a);\r\n\r\n        const value = props.defaultValue || '';\r\n        this.state = {\r\n            value: toValue(value),\r\n            unit: getUnit(value),\r\n        }\r\n\r\n    }\r\n\r\n    renderSuffix() {\r\n        const { unit } = this.state;\r\n\r\n        return (\r\n            <div className=\"width-suffix\">\r\n                <div className=\"width-suffix-text\">\r\n                    <span>{unit}</span>\r\n                    <div className=\"width-suffix-unit\">\r\n                        <div className=\"width-suffix-unit-item\" onClick={this.onUnitChange.bind(this, 'px')}>px</div>\r\n                        <div className=\"width-suffix-unit-item\" onClick={this.onUnitChange.bind(this, '%')}>%</div>\r\n                    </div>\r\n                </div>\r\n                <Icon type=\"caret-down\" />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    onUnitChange(unit) {\r\n        const props = this.props;\r\n        let { value } = this.state;\r\n\r\n        if (unit === '%') {\r\n            value = Math.max(Math.min(value, 100), 0);\r\n        }\r\n\r\n        if (!('value' in props)) {\r\n            this.setState({\r\n                unit,\r\n                value\r\n            });\r\n        }\r\n\r\n        props.onChange && props.onChange(value + unit);\r\n    }\r\n\r\n    handleInputChange = e => {\r\n        const { unit } = this.state;\r\n        const props = this.props;\r\n\r\n        let value = toValue(e.target.value);\r\n\r\n        if (unit === '%') {\r\n            value = Math.max(Math.min(value, 100), 0);\r\n        }\r\n\r\n        if (!('value' in props)) {\r\n            this.setState({\r\n                value\r\n            });\r\n        }\r\n\r\n        const v = (value + unit);\r\n\r\n        props.onChange && props.onChange(v);\r\n    }\r\n\r\n    render() {\r\n        const { value } = this.state;\r\n\r\n        return (\r\n            <div className=\"width-input-field\">\r\n                <input\r\n                    onChange={this.handleInputChange}\r\n                    value={value}\r\n                />\r\n                {\r\n                    this.renderSuffix()\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAxklEQVRYR+2WXRHCMBCE9xwgAQfgAOrgogALSAAHOOk6AByAExwskw7w0FKGTmlaZnLvl+/L5tcwctnIfGSBnEBOYDoJuPsBwCLVvUCyiKxXAiGEE4BVKoGyLCv2O4GzpCgzRM3NbBMHbhWQtCe5G4Lu7mszO34t8GiQpCvJW1+pzgIhBEWopIJk72XJAjmBv0yg2vmStiQvyY9hX2C9v/MSjCLwa2jbeJ8eoyQODQF3XwKYJaEDeF7t0/kRpZp5nZMTyAncAYM54iEqZrwtAAAAAElFTkSuQmCC\"","import PropertyPanel from './PropertyPanel';\r\n\r\nimport data from '../common/data';\r\nimport icon from './icon.png';\r\n\r\nconst XType = 'EX_TEXTAREA_FIELD';\r\nconst Title = '多行文本';\r\n\r\nexport default {\r\n    xtype: \"EX_TEXTAREA_FIELD\",\r\n    title: \"多行文本\",\r\n    icon: icon,\r\n    WidgetProperty: PropertyPanel,\r\n\r\n    data() {\r\n        return {\r\n            ...data(),\r\n            xtype: XType,\r\n            title: Title,\r\n            height: '70'\r\n        }\r\n    }\r\n};","import React from 'react';\r\nimport {\r\n    FormItem,\r\n    NativeField,\r\n} from 'components/Form';\r\n\r\nimport PropertyForm from '../PropertyForm';\r\n\r\nimport CommonPropertyPanel from '../common/CommonPropertyPanel';\r\nimport ValidatePropertyPanel from '../common/ValidatePropertyPanel';\r\n\r\nexport default function (props) {\r\n\r\n    return (\r\n        <PropertyForm {...props}>\r\n            <CommonPropertyPanel />\r\n            <FormItem\r\n                className=\"design-property-field\"\r\n                label=\"高度\"\r\n                name=\"height\"\r\n            >\r\n                <NativeField\r\n                    component=\"input\"\r\n                />\r\n            </FormItem>\r\n            <ValidatePropertyPanel />\r\n        </PropertyForm>\r\n    );\r\n}","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAv0lEQVRYR+2W4QnCMBBGXzfpJuoG3cBuYEdwFN3EbtARHKEbKB80UDFIhGuOwgX6r+R7eXdpr8F5Nc75BEAYWBs4AodKTXkHnspaA1yBAZg2htAhT8AjByALerZcr90AdIum2VhHsYGPFw0hAiAM7MeArl+6ioaXgGIDbfpeW6ZDOYBxLj1w8wJQsIzqP1NcAisDCj8DowdACtdhXAByFn+W4FJhIFEfZAeSGsNIMqLSfI1kVk331z4xlocBdwNvGE5RIQon4uUAAAAASUVORK5CYII=\"","import PropertyPanel from './PropertyPanel';\r\n\r\nimport data from '../common/data';\r\nimport icon from './icon.png';\r\n\r\nconst XType = 'EX_SELECT_FIELD';\r\nconst Title = '单选列表';\r\n\r\nexport default {\r\n    xtype: XType,\r\n    title: Title,\r\n    icon: icon,\r\n    WidgetProperty: PropertyPanel,\r\n\r\n    data() {\r\n        return {\r\n            ...data(),\r\n            xtype: XType,\r\n            title: Title,\r\n            data: [\r\n                {\r\n                    value: '选项1',\r\n                    label: '选项1',\r\n                },\r\n                {\r\n                    value: '选项2',\r\n                    label: '选项2',\r\n                },\r\n                {\r\n                    value: '选项3',\r\n                    label: '选项3',\r\n                }\r\n            ]\r\n        }\r\n    }\r\n};\r\n","import React from 'react';\r\nimport {\r\n    FormItem,\r\n    NativeField,\r\n} from 'components/Form';\r\nimport {\r\n    MultipleInputField,\r\n} from 'components/FormField';\r\n\r\nimport PropertyForm from '../PropertyForm';\r\n\r\nimport CommonPropertyPanel from '../common/CommonPropertyPanel';\r\nimport ValidatePropertyPanel from '../common/ValidatePropertyPanel';\r\n\r\nexport default function (props) {\r\n\r\n    return (\r\n        <PropertyForm {...props}>\r\n            <CommonPropertyPanel />\r\n            <FormItem\r\n                className=\"design-property-field\"\r\n                label=\"选项值\"\r\n                name=\"data\"\r\n            >\r\n                <MultipleInputField />\r\n            </FormItem>\r\n            <ValidatePropertyPanel />\r\n        </PropertyForm>\r\n    );\r\n}","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAA0UlEQVRYR+2WURHCMBBE9xSAAyzgAHCQOKiESgAlgIKuBCSAA3CAg2XCUKZ0ypQPkv7cfaYz2deXm1wME5dNnA8HcANvAzHGK4BFqaaUtCO57QKoVHib0zSNDQHcACQbuWoJYJY2HwSQtCF5ypUeY0x7rxzADWQxEEIIZtb0G1jSkWSV1rM3YQihMrN9B+IiaU3yXgQghXQgPsKLAbwgagCH9s9bI9mPYOwCc4BfDKRBlHUYmdn86z0wdob//N6fhgTwJCtRks4ka38TugE34AYe7FjWIZhHzn8AAAAASUVORK5CYII=\"","import data from '../common/data';\r\nimport PropertyPanel from './PropertyPanel';\r\nimport icon from './icon.png';\r\n\r\nconst XType = 'EX_TEXT_FIELD';\r\nconst Title = '文本';\r\n\r\nexport default {\r\n    xtype: \"EX_URL_FIELD\",\r\n    title: \"URL\",\r\n    icon: icon,\r\n    WidgetProperty: PropertyPanel,\r\n\r\n    data() {\r\n        return {\r\n            ...data(),\r\n            xtype: XType,\r\n            title: Title,\r\n        }\r\n    }\r\n};","import React from 'react';\r\nimport PropertyForm from '../PropertyForm';\r\n\r\nimport CommonPropertyPanel from '../common/CommonPropertyPanel';\r\nimport ValidatePropertyPanel from '../common/ValidatePropertyPanel';\r\n\r\nexport default function (props) {\r\n\r\n    return (\r\n        <PropertyForm {...props}>\r\n            <CommonPropertyPanel />\r\n            <ValidatePropertyPanel />\r\n        </PropertyForm>\r\n    );\r\n}","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAxklEQVRYR+2WXRHCMBCE9xwgAQfgAOrgogALSAAHOOk6AByAExwskw7w0FKGTmlaZnLvl+/L5tcwctnIfGSBnEBOYDoJuPsBwCLVvUCyiKxXAiGEE4BVKoGyLCv2O4GzpCgzRM3NbBMHbhWQtCe5G4Lu7mszO34t8GiQpCvJW1+pzgIhBEWopIJk72XJAjmBv0yg2vmStiQvyY9hX2C9v/MSjCLwa2jbeJ8eoyQODQF3XwKYJaEDeF7t0/kRpZp5nZMTyAncAYM54iEqZrwtAAAAAElFTkSuQmCC\"","import PropertyPanel from './PropertyPanel';\r\nimport Preview from './Preview';\r\nimport data from '../common/data';\r\nimport icon from './icon.png';\r\n\r\nconst XType = 'EX_DETAILED_FIELD';\r\nconst Title = '明细';\r\n\r\nexport default {\r\n    xtype: XType,\r\n    title: Title,\r\n    icon: icon,\r\n    WidgetProperty: PropertyPanel,\r\n    Preview: Preview,\r\n    data() {\r\n        return {\r\n            ...data(),\r\n            xtype: XType,\r\n            title: Title,\r\n        }\r\n    }\r\n};","import React from 'react';\r\n\r\nimport PropertyForm from '../PropertyForm';\r\n\r\nimport CommonPropertyPanel from '../common/CommonPropertyPanel';\r\nimport ValidatePropertyPanel from '../common/ValidatePropertyPanel';\r\n\r\nexport default function (props) {\r\n\r\n    return (\r\n        <PropertyForm {...props}>\r\n            <CommonPropertyPanel />\r\n            <ValidatePropertyPanel />\r\n        </PropertyForm>\r\n    );\r\n}","import React from 'react';\r\nimport classNames from 'classnames';\r\nimport WidgetDropAccepter from '../../../src/panels/DesignPanel/WidgetDropAccepter';\r\nimport \"./Preview.scss\"\r\n\r\nexport default function (props) {\r\n    const item = props.item;\r\n    const designer = props.designer;\r\n    const classString = classNames({\r\n        // 'widget-preview-item-inner': true,\r\n        'widget-preview-item-detailed': true,\r\n        [props.className]: props.className\r\n    });\r\n    const items = designer.getItems(item.fieldId);\r\n\r\n    return (\r\n        <div\r\n            className={classString}\r\n        >\r\n            <label className=\"widget-preview-detailed-sub\">{item.title}</label>\r\n            <div className=\"widget-preview-detailed-list\">\r\n                <WidgetDropAccepter\r\n                    style={{\r\n                        width: 'auto',\r\n                        height: 'auto',\r\n                        minHeight: 150,\r\n                        paddingBottom: 10,\r\n                        border: 'none',\r\n                    }}\r\n                    items={items}\r\n                    pid={item.fieldId}\r\n                />\r\n            </div>\r\n        </div>\r\n    )\r\n}","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAv0lEQVRYR+2W4QnCMBBGXzfpJuoG3cBuYEdwFN3EbtARHKEbKB80UDFIhGuOwgX6r+R7eXdpr8F5Nc75BEAYWBs4AodKTXkHnspaA1yBAZg2htAhT8AjByALerZcr90AdIum2VhHsYGPFw0hAiAM7MeArl+6ioaXgGIDbfpeW6ZDOYBxLj1w8wJQsIzqP1NcAisDCj8DowdACtdhXAByFn+W4FJhIFEfZAeSGsNIMqLSfI1kVk331z4xlocBdwNvGE5RIQon4uUAAAAASUVORK5CYII=\"","import \"./index.scss\";","import { uuid } from '../../utils';\r\n\r\nexport default () => {\r\n    return {\r\n        $pid: null,\r\n        fieldId: uuid(),\r\n        fieldName: 'field_' + uuid(),\r\n        placeholder: \"请输入\",\r\n        dataType: 'varchar',\r\n        dataLength: '255',\r\n        required: '0',\r\n        defaultValue: '',\r\n        width: '100%',\r\n    }\r\n}","import React from 'react';\r\nimport {\r\n    Form,\r\n    FormItem,\r\n    NativeField,\r\n} from 'components/Form';\r\n\r\nimport 'components/Form/style/index.scss';\r\n\r\nexport default class PropertyPanel extends React.Component {\r\n\r\n    render() {\r\n        const { item, onChange, children } = this.props;\r\n\r\n        return (\r\n            <Form\r\n                onChange={onChange}\r\n                formValue={item}\r\n                labelWidth={60}\r\n            >\r\n                {children}\r\n            </Form>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport {\r\n    FormItem,\r\n    NativeField,\r\n} from 'components/Form';\r\nimport 'components/Form/style/index.scss';\r\nimport {\r\n    MultipleInputField,\r\n    DisplayField,\r\n    WidthInputField\r\n} from 'components/FormField';\r\nimport SingleCheck from 'components/HTMLForm/SingleCheck';\r\n\r\nexport default function () {\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"property-header-title\">基础属性</div>\r\n            <FormItem\r\n                className=\"design-property-field\"\r\n                label=\"控件ID\"\r\n                name=\"fieldId\"\r\n            >\r\n                <DisplayField />\r\n            </FormItem>\r\n            {/* <FormItem\r\n                className=\"design-property-field\"\r\n                label=\"字段名称\"\r\n                name=\"titlex\"\r\n            >\r\n                <MultipleInputField />\r\n            </FormItem> */}\r\n            <FormItem\r\n                className=\"design-property-field\"\r\n                label=\"字段名称\"\r\n                name=\"title\"\r\n            >\r\n                <NativeField\r\n                    component=\"input\"\r\n                />\r\n            </FormItem>\r\n            <FormItem\r\n                className=\"design-property-field\"\r\n                label=\"提示文本\"\r\n                name=\"placeholder\"\r\n            >\r\n                <NativeField\r\n                    component=\"input\"\r\n                />\r\n            </FormItem>\r\n            <FormItem\r\n                className=\"design-property-field\"\r\n                label=\"默认值\"\r\n                name=\"defaultValue\"\r\n            >\r\n                <NativeField\r\n                    component=\"input\"\r\n                />\r\n            </FormItem>\r\n            {/* <FormItem\r\n                className=\"design-property-field\"\r\n                label=\"宽度\"\r\n                name=\"width\"\r\n            >\r\n                <WidthInputField />\r\n            </FormItem> */}\r\n            {/* <FormItem\r\n                className=\"design-property-field\"\r\n                label=\"必填\"\r\n                name=\"required\"\r\n            >\r\n                <SingleCheck\r\n                    on=\"1\"\r\n                    off=\"0\"\r\n                />\r\n            </FormItem> */}\r\n        </div >\r\n    );\r\n}","import React from 'react';\r\nimport {\r\n    FormItem,\r\n    NativeField,\r\n} from 'components/Form';\r\nimport 'components/Form/style/index.scss';\r\nimport {\r\n    MultipleInputField,\r\n    DisplayField,\r\n    WidthInputField\r\n} from 'components/FormField';\r\nimport SingleCheck from 'components/HTMLForm/SingleCheck';\r\n\r\nexport default function () {\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"property-header-title\">输入校验</div>\r\n            <FormItem\r\n                className=\"design-property-field\"\r\n                label=\"必填\"\r\n                name=\"required\"\r\n            >\r\n                <SingleCheck\r\n                    on=\"1\"\r\n                    off=\"0\"\r\n                />\r\n            </FormItem>\r\n        </div >\r\n    );\r\n}","\r\n//设计平台\r\nconst P_PC = 1;\r\nconst P_MOBILE = 2;\r\nconst P_IPAD = 3;\r\n\r\nconst WIDGET_DRAG_DROP_SCOPE = '__WIDGET_DRAG_DROP_SCOPE__';\r\n\r\nexport {\r\n    P_PC,\r\n    P_MOBILE,\r\n    P_IPAD,\r\n    WIDGET_DRAG_DROP_SCOPE,\r\n}\r\n\r\n"],"sourceRoot":""}