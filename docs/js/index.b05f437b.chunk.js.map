{"version":3,"sources":["webpack:///./demo/components/FormField/index.js","webpack:///./src/panels/DesignPanel/WidgetDropAccepter.js","webpack:///./demo/components/Form/FormContext.js","webpack:///./demo/components/Icon/index.js","webpack:///./demo/components/HTMLForm/SingleCheck.js","webpack:///./demo/index.js","webpack:///./src/index.js","webpack:///./src/Designer.js","webpack:///./src/DesignModel/index.js","webpack:///./src/DesignModel/Widget/index.js","webpack:///./src/DesignModel/Widget/Preview.js","webpack:///./src/DesignModel/Widget/DragPreview.js","webpack:///./src/DesignModel/Widget/PlaceholderPreview.js","webpack:///./src/DesignModel/Widget/WidgetProperty.js","webpack:///./src/DesignContext.js","webpack:///./src/panels/WidgetsPanel/index.js","webpack:///./src/panels/WidgetsPanel/WidgetItem.js","webpack:///./src/panels/PropertyPanel.js","webpack:///./src/panels/DesignPanel/index.js","webpack:///./src/panels/DesignPanel/PreviewItem.js","webpack:///./demo/widgets/index.js","webpack:///./demo/widgets/TextField/index.js","webpack:///./demo/utils/index.js","webpack:///./demo/widgets/TextField/PropertyPanel.js","webpack:///./demo/components/Form/Form.js","webpack:///./demo/components/Form/index.js","webpack:///./demo/components/Form/FormItem.js","webpack:///./demo/components/Form/NativeField.js","webpack:///./demo/components/FormField/MultipleInputField.js","webpack:///./demo/components/FormField/DisplayField.js","webpack:///./demo/components/FormField/WidthInputField.js","webpack:///./demo/widgets/TextField/icon.png","webpack:///./demo/widgets/TextareaField/index.js","webpack:///./demo/widgets/TextareaField/PropertyPanel.js","webpack:///./demo/widgets/TextareaField/icon.png","webpack:///./demo/widgets/SelectField/index.js","webpack:///./demo/widgets/SelectField/PropertyPanel.js","webpack:///./demo/widgets/SelectField/icon.png","webpack:///./demo/widgets/URLField/index.js","webpack:///./demo/widgets/URLField/PropertyPanel.js","webpack:///./demo/widgets/URLField/icon.png","webpack:///./demo/widgets/DetailedField/index.js","webpack:///./demo/widgets/DetailedField/PropertyPanel.js","webpack:///./demo/widgets/DetailedField/Preview.js","webpack:///./demo/widgets/DetailedField/icon.png","webpack:///./src/style/index.js","webpack:///./demo/widgets/common/data.js","webpack:///./demo/widgets/PropertyForm.js","webpack:///./demo/widgets/common/CommonPropertyPanel.js","webpack:///./demo/widgets/common/ValidatePropertyPanel.js","webpack:///./src/constants.js"],"names":["__webpack_require__","_MultipleInputField","_interopRequireDefault","_DisplayField","_WidthInputField","_react","_reactDnd","_classnames","_constants","_DesignContext","_PreviewItem","spec","canDrop","props","monitor","hover","component","isOver","shallow","designer","context","dragItem","getItem","pid","dragItemFieldId","item","fieldId","targetPids","getPids","push","indexOf","updateItemPid","drop","commitItem","WidgetDropAccepter","i","isHover","_this","shouldHide","isTmpItem","xtype","widget","getWidget","default","createElement","key","visible","this","PlaceholderPreview","_this$props","connectDropTarget","items","_this$props$style","style","ref","className","design-layout-container","drag-over","dropable","map","renderItem","React","Component","DesignContext","DropTarget","WIDGET_DRAG_DROP_SCOPE","connect","dropTarget","createContext","_extends2","type","checked","value","on","onChange","e","target","off","_reactDom","_src","_widgets","ReactDOM","render","_React$useState","useState","_React$useState2","_slicedToArray2","metadata","onMetadataChange","position","top","left","right","bottom","widgets","document","getElementById","Designer","_propTypes","_reactDndHtml5Backend","_DesignModel","_WidgetsPanel","_PropertyPanel","_DesignPanel","_objectSpread2","_this$props2","platform","DndProvider","backend","HTML5Backend","handleModelChange","PropTypes","array","oneOf","P_PC","P_MOBILE","P_IPAD","object","_Widget","_find","_findIndex","DesignModel","widgetsMap","activeId","state","Widget","title","concat","setState","arguments","length","undefined","getAllItems","filter","$pid","_toConsumableArray2","pids","node","pNode","currentFieldId","idx","getItemIndex","_this2","ret","shouldRemove","bItem","_idx","prevItem","oIdx","splice","nextItem","newItems","__tmp__","pidIndex","childs","getChildren","firstItem","lastItem","insertAfter","insertBefore","bind","getWidgets","setActiveId","getActiveId","getActiveItem","addItem","updateItem","getItems","removeItem","clearTmpItems","children","Provider","getModel","w","_reactIs","_Preview","_DragPreview","_PlaceholderPreview","_WidgetProperty","fid","options","_classCallCheck2","$$widget","icon","Preview","isValidElementType","WPreview","DragPreview","WDragPreview","WPlaceholderPreview","WidgetProperty","WWidgetProperty","data","_now","name","classString","_defineProperty2","widget-preview-item-inner","placeholder","_ref","_WidgetItem","WidgetsPanel","WidgetItem","disabled","connectDragSource","isDragging","_widget$title","widget-item","widget-item-dragging","widget-item-disabled","src","DragSource","beginDrag","endDrag","dragSource","PropertyPanel","activeItem","padding","textAlign","onItemChange","_WidgetDropAccepter","DesignPanel","_flow","dropSpec","targetFieldId","dragOffset","getClientOffset","targetOffset","findDOMNode","getBoundingClientRect","middleY","height","y","WidgetPreviewItem","dom","isDefaultPrevented","preventDefault","handleDragAndDrop","widget-preview-item-wrapper","droppable","dragging","display","width","widget-preview-item","widget-preview-item-selected","onClick","handlePreviewClick","handleRemove","isWidgetDragging","isPreviewDragging","_TextField","_TextareaField","_SelectField","_URLField","_DetailedField","TextField","TextareaField","SelectField","URLField","DetailedField","_data2","_icon","Math","random","toString","slice","_PropertyForm","_CommonPropertyPanel","_ValidatePropertyPanel","_asyncValidator","_set","_get","_scrollIntoView","_FormContext","AsyncValidator","warning","Form","formError","validatingFields","formValue","formDefaultValue","field","fields","path2obj","event","cb","nextFormValue","_objectSpread5","_valiateCb","validateProcess","forEach","errors","fieldRules","fieldProps","rules","validator","_isArray","required","unshift","apply","_this$state","getValue","getFieldRules","descriptor","validate","firstFields","message","Function","callback","_this3","_keys","error","_this4","f","getDOM","set","form","prefixCls","onSubmit","getFormContext","nextProps","prevState","string","bool","validateDelay","number","validateTrigger","oneOfType","func","labelWidth","labelPosition","alignItems","inline","validateFieldsAndScroll","showMessage","getFormItemInputProps","_Form","_FormItem","_NativeField","Item","FormItem","NativeField","_classnames2","_dom","addField","removeField","isRequired","some","rule","getValidateTrigger","getValidateDelay","_validateTimer","clearTimeout","setTimeout","validateField","setValue","formProps","normalize","label","labelFor","help","_this$getLabelProps","getLabelProps","getError","validating","isValidatingField","Children","only","_children$props","onBlur","getInputProps","onFieldChange","onFieldBlur","InputComponent","cloneElement","saveDOM","htmlFor","FormContext","_props$component","inputRef","others","_objectWithoutProperties2","_Icon","MultipleInputField","defaultValue","sIndex","_assertThisInitialized2","onAddItem","onRemoveItem","index","text","max","getUnit","test","toValue","_parseFloat2","isNaN","WidthInputField","_getPrototypeOf2","_len","a","Array","_key","_possibleConstructorReturn2","_getPrototypeOf3","call","unit","min","v","onUnitChange","handleInputChange","renderSuffix","module","exports","_FormField","XType","widget-preview-item-detailed","minHeight","paddingBottom","border","_utils","uuid","fieldName","dataType","dataLength","DisplayField","_SingleCheck"],"mappings":"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","file":"js/index.b05f437b.chunk.js","sourcesContent":["import \"./style/index.scss\"\r\n\r\nimport MultipleInputField from './MultipleInputField';\r\nimport DisplayField from './DisplayField';\r\nimport WidthInputField from './WidthInputField';\r\n\r\nexport {\r\n    MultipleInputField,\r\n    DisplayField,\r\n    WidthInputField,\r\n}","import React from \"react\";\r\nimport { DragSource, DropTarget } from \"react-dnd\";\r\nimport cx from \"classnames\";\r\nimport { WIDGET_DRAG_DROP_SCOPE } from \"../../constants\";\r\nimport DesignContext from \"../../DesignContext\";\r\n\r\nimport PreviewItem from \"./PreviewItem\";\r\n\r\nfunction canDrop(props, monitor, component) {\r\n    //子容器拖动过程中不再接受释放处理\r\n    const designer = component.context;\r\n    const dragItem = monitor.getItem();\r\n    const pid = props.pid;\r\n    const dragItemFieldId = dragItem.item.fieldId;\r\n    const targetPids = pid ? designer.getPids(pid) : [];\r\n    pid && targetPids.push(pid);\r\n    //解决父节点拖动到子节点的情况\r\n    return targetPids.indexOf(dragItemFieldId) === -1;\r\n}\r\n\r\nconst spec = {\r\n    canDrop(props, monitor) {\r\n        return true;\r\n    },\r\n    hover(props, monitor, component) {\r\n        const isOver = monitor.isOver({ shallow: true });\r\n        if (!isOver) return;\r\n\r\n        if (!monitor.canDrop() || !canDrop(props, monitor, component)) return;\r\n\r\n        const designer = component.context;\r\n        const pid = props.pid;\r\n        const dragItem = monitor.getItem();\r\n        const item = dragItem.item;\r\n\r\n        designer.updateItemPid(item, pid);\r\n    },\r\n    drop(props, monitor, component) {\r\n        const dragItem = monitor.getItem();\r\n        const designer = component.context;\r\n\r\n        //根节点统一commit\r\n        if (props.pid == null) {\r\n            designer.commitItem(dragItem.item);\r\n        }\r\n    }\r\n};\r\n\r\nconst collect = (connect, monitor) => {\r\n    return {\r\n        connectDropTarget: connect.dropTarget(),\r\n        isHover: monitor.isOver(),\r\n        isOver: monitor.isOver({ shallow: true }),\r\n        canDrop: monitor.canDrop(),\r\n        dragItem: monitor.getItem()\r\n    };\r\n};\r\n\r\nclass WidgetDropAccepter extends React.Component {\r\n    static contextType = DesignContext;\r\n\r\n    static defaultProps = {\r\n        pid: null\r\n    };\r\n\r\n    rendrePlaceholder() {\r\n        const { dragItem } = this.props;\r\n        const { widget, item } = dragItem;\r\n\r\n        return <widget.PlaceholderPreview widget={widget} item={item} />;\r\n    }\r\n\r\n    renderItem = (item, i) => {\r\n        const { isHover } = this.props;\r\n        const designer = this.context;\r\n        const shouldHide = !isHover && designer.isTmpItem(item);\r\n\r\n        const xtype = item.xtype;\r\n        const widget = designer.getWidget(xtype);\r\n\r\n        return (\r\n            <PreviewItem\r\n                designer={designer}\r\n                key={item.fieldId}\r\n                widget={widget}\r\n                item={item}\r\n                visible={!shouldHide}\r\n            />\r\n        );\r\n    };\r\n\r\n    // connectDropTarget = (dom) => {\r\n    //     const { connectDropTarget, pid } = this.props;\r\n    //     const designer = this.context;\r\n\r\n    //     if (pid) {\r\n    //         const pItem = designer.getItem(pid);\r\n    //         if (!designer.isTmpItem(pItem)) {\r\n    //             connectDropTarget(dom);\r\n    //         } else {\r\n    //             const tmpDOM = document.createElement('div');\r\n    //             connectDropTarget(tmpDOM);\r\n    //             console.log('x')\r\n    //         }\r\n    //     } else {\r\n    //         connectDropTarget(dom);\r\n    //     }\r\n    // }\r\n\r\n    render() {\r\n        const {\r\n            connectDropTarget,\r\n            isOver,\r\n            canDrop,\r\n            dragItem,\r\n            items,\r\n            style = {}\r\n        } = this.props;\r\n        // const designer = this.context;\r\n        // const items = designer.getItems(pid);\r\n\r\n        return (\r\n            <div\r\n                ref={connectDropTarget}\r\n                style={style}\r\n                className={cx({\r\n                    \"design-layout-container\": true,\r\n                    \"drag-over\": isOver,\r\n                    dropable: canDrop\r\n                })}\r\n            >\r\n                {items.map(this.renderItem)}\r\n                {/* {\r\n                    isOver && dragItem.isWidgetDragging ? this.rendrePlaceholder() : null\r\n                } */}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DropTarget(WIDGET_DRAG_DROP_SCOPE, spec, collect)(\r\n    WidgetDropAccepter\r\n);\r\n","import React from 'react';\r\n\r\nexport default React.createContext({});\r\n","import React from 'react';\r\nimport classNames from 'classnames';\r\n\r\nexport default (props) => {\r\n\r\n    return <span {...props} className={\r\n        classNames(props.className, 'icon-' + props.type)\r\n    } />\r\n}","import React from 'react';\r\nimport { FormItem, NativeField } from '../Form'\r\nimport classNames from 'classnames';\r\n\r\nexport default function Checkbox(props) {\r\n\r\n    const onChange = (e) => {\r\n        const target = e.target;\r\n        if (target.checked) {\r\n            props.onChange && props.onChange(props.on);\r\n        } else {\r\n            props.onChange && props.onChange(props.off);\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <input\r\n            {...props}\r\n            checked={props.value === props.on}\r\n            type=\"checkbox\"\r\n            onChange={onChange}\r\n        />\r\n    );\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport FormDesigner from '../src';\r\n\r\nimport widgets from './widgets';\r\n\r\nimport '../src/style';\r\n\r\nfunction App() {\r\n    const [metadata, onMetadataChange] = React.useState({\r\n        items: []\r\n    })\r\n\r\n    return (\r\n        <div style={{\r\n            position: 'fixed',\r\n            top: 0,\r\n            left: 0,\r\n            right: 0,\r\n            bottom: 0,\r\n        }}>\r\n            <FormDesigner\r\n                widgets={widgets}\r\n                metadata={metadata}\r\n                onChange={onMetadataChange}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))","\r\nimport Designer from './Designer';\r\nexport default Designer;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { DndProvider } from 'react-dnd';\r\nimport HTML5Backend from 'react-dnd-html5-backend';\r\n\r\nimport DesignModel from './DesignModel';\r\nimport WidgetsPanel from './panels/WidgetsPanel';\r\nimport PropertyPanel from './panels/PropertyPanel';\r\nimport DesignPanel from './panels/DesignPanel';\r\n\r\nimport {\r\n    P_PC,\r\n    P_MOBILE,\r\n    P_IPAD,\r\n} from './constants';\r\n\r\nexport default class Designer extends React.Component {\r\n    static propTypes = {\r\n        widgets: PropTypes.array,\r\n        platform: PropTypes.oneOf([P_PC, P_MOBILE, P_IPAD]),\r\n        metadata: PropTypes.object,\r\n    }\r\n\r\n    static defaultProps = {\r\n        onChange: null,\r\n        platform: P_PC,\r\n        widgets: [],\r\n        metadata: {\r\n            items: [],\r\n        }\r\n    }\r\n\r\n    handleModelChange = (items) => {\r\n        const { onChange, metadata } = this.props;\r\n\r\n        onChange && onChange({\r\n            ...metadata,\r\n            items,\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { widgets, metadata, platform } = this.props;\r\n\r\n        return (\r\n            <DndProvider backend={HTML5Backend}>\r\n                <DesignModel\r\n                    widgets={widgets}\r\n                    items={metadata.items}\r\n                    platform={platform}\r\n                    onChange={this.handleModelChange}\r\n                >\r\n                    <div className=\"csos-form-designer\">\r\n                        <div className=\"csos-form-designer-container\">\r\n                            <WidgetsPanel />\r\n                            <DesignPanel />\r\n                            <PropertyPanel />\r\n                        </div>\r\n                    </div>\r\n                </DesignModel>\r\n            </DndProvider>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport DesignContext from \"../DesignContext\";\r\nimport Widget from \"./Widget\";\r\n\r\nimport find from \"lodash/find\";\r\nimport findIndex from \"lodash/findIndex\";\r\n\r\nexport default class DesignModel extends React.Component {\r\n    static getDerivedStateFromProps(props, state) {\r\n        const widgetsMap = {};\r\n        const widgets = props.widgets.map(widget => {\r\n            const w = new Widget(widget);\r\n            widgetsMap[widget.xtype] = w;\r\n            return w;\r\n        });\r\n\r\n        return {\r\n            widgets,\r\n            widgetsMap,\r\n            items: props.items || []\r\n        };\r\n    }\r\n\r\n    static defaultProps = {\r\n        onChange: null,\r\n        widgets: [],\r\n        items: []\r\n    };\r\n\r\n    state = {\r\n        widgets: [],\r\n        widgetsMap: {},\r\n        items: [],\r\n        activeId: null\r\n    };\r\n\r\n    onChange(items) {\r\n        const props = this.props;\r\n        const { onChange } = props;\r\n\r\n        if (onChange) {\r\n            onChange(items);\r\n        }\r\n    }\r\n\r\n    getWidget(xtype) {\r\n        const { widgetsMap } = this.state;\r\n        let widget = widgetsMap[xtype];\r\n\r\n        if (!widget) {\r\n            widget = new Widget({\r\n                xtype,\r\n                title: xtype\r\n            });\r\n        }\r\n        return widget;\r\n    }\r\n\r\n    getWidgets() {\r\n        const { widgets } = this.state;\r\n        return [].concat(widgets);\r\n    }\r\n\r\n    setActiveId(activeId) {\r\n        this.setState({\r\n            activeId\r\n        });\r\n    }\r\n\r\n    getActiveId() {\r\n        return this.state.activeId;\r\n    }\r\n\r\n    getActiveItem() {\r\n        const activeId = this.state.activeId;\r\n        return this.getItem(activeId) || null;\r\n    }\r\n\r\n    getItems(pid = null) {\r\n        const items = this.getAllItems();\r\n\r\n        return items.filter(item => item && item.$pid == pid);\r\n    }\r\n\r\n    getChildren(fieldId = null, items = this.state.items) {\r\n        return items.filter(item => item.$pid == fieldId);\r\n    }\r\n\r\n    getAllItems() {\r\n        return [...this.state.items];\r\n    }\r\n\r\n    //获取组件的所有父级ID\r\n    getPids(fieldId) {\r\n        const pids = [];\r\n        let node = this.getItem(fieldId);\r\n        if (!node.$pid) return pids;\r\n\r\n        let currentFieldId = node.$pid;\r\n        let pNode;\r\n        while ((pNode = this.getItem(currentFieldId))) {\r\n            pids.push(pNode.fieldId);\r\n            currentFieldId = pNode.$pid;\r\n            if (!currentFieldId) break;\r\n        }\r\n\r\n        return pids;\r\n    }\r\n\r\n    updateItem(item) {\r\n        const items = this.getAllItems();\r\n        const fieldId = item.fieldId;\r\n        const idx = this.getItemIndex(fieldId);\r\n\r\n        if (idx !== -1) {\r\n            items[idx] = item;\r\n        }\r\n\r\n        this.onChange(items);\r\n    }\r\n\r\n    addItem(item, pid = null) {\r\n        const items = this.getAllItems();\r\n\r\n        item.$pid = pid;\r\n\r\n        items.push(item);\r\n\r\n        this.onChange(items);\r\n    }\r\n\r\n    removeItem(fieldId) {\r\n        const items = this.getAllItems();\r\n        //移除指定项目及子项目\r\n        const ret = items.filter(item => {\r\n            let shouldRemove = item.fieldId === fieldId;\r\n\r\n            if (!shouldRemove) {\r\n                const pids = this.getPids(item.fieldId);\r\n                shouldRemove = pids.indexOf(fieldId) > -1;\r\n            }\r\n\r\n            return !shouldRemove;\r\n        });\r\n\r\n        this.onChange(ret);\r\n    }\r\n\r\n    getItemIndex(fieldId, items) {\r\n        items = items || this.getAllItems();\r\n        return findIndex(items, item => item.fieldId === fieldId);\r\n    }\r\n\r\n    getItem(fieldId) {\r\n        const items = this.getAllItems();\r\n        return find(items, item => item && item.fieldId === fieldId);\r\n    }\r\n\r\n    insertBefore(item, fieldId) {\r\n        const items = this.getAllItems();\r\n        const bItem = this.getItem(fieldId);\r\n\r\n        //判断是否需要移动\r\n        const _idx = this.getItemIndex(fieldId);\r\n        if (_idx !== 0) {\r\n            const prevItem = items[_idx - 1];\r\n            if (\r\n                prevItem.fieldId === item.fieldId &&\r\n                prevItem.$pid === bItem.$pid\r\n            ) {\r\n                return;\r\n            }\r\n        }\r\n\r\n        //判断当前item是否已经存在, 如果存在则先删除\r\n        const oIdx = this.getItemIndex(item.fieldId);\r\n        if (oIdx > -1) {\r\n            items.splice(oIdx, 1);\r\n        }\r\n\r\n        item.$pid = bItem.$pid;\r\n\r\n        //插入操作\r\n        const idx = this.getItemIndex(fieldId, items);\r\n        items.splice(idx, 0, item);\r\n\r\n        this.onChange(items);\r\n    }\r\n\r\n    insertAfter(item, fieldId) {\r\n        const items = this.getAllItems();\r\n        const prevItem = this.getItem(fieldId);\r\n\r\n        //判断是否需要移动\r\n        const _idx = this.getItemIndex(fieldId);\r\n        if (_idx !== items.length - 1) {\r\n            const nextItem = items[_idx + 1];\r\n            if (\r\n                nextItem.fieldId === item.fieldId &&\r\n                nextItem.$pid === prevItem.$pid\r\n            ) {\r\n                return;\r\n            }\r\n        }\r\n\r\n        //判断当前item是否已经存在, 如果存在则先删除\r\n        const oIdx = this.getItemIndex(item.fieldId);\r\n        if (oIdx > -1) {\r\n            items.splice(oIdx, 1);\r\n        }\r\n\r\n        item.$pid = prevItem.$pid;\r\n\r\n        //插入操作 之前有删除操作, 要重新查找index\r\n        const idx = findIndex(items, item => item.fieldId === fieldId);\r\n        items.splice(idx, 1, items[idx], item);\r\n\r\n        this.onChange(items);\r\n    }\r\n\r\n    clearTmpItems() {\r\n        const items = this.getAllItems();\r\n        const newItems = items.filter(item => !item.__tmp__);\r\n\r\n        this.onChange(newItems);\r\n    }\r\n\r\n    updateItemPid(item, pid = null) {\r\n        const fieldId = item.fieldId;\r\n        const idx = this.getItemIndex(fieldId);\r\n\r\n        if (item.$pid === pid) return;\r\n\r\n        //fix: 同级节点转变为子节点时顺序问题\r\n        if (pid) {\r\n            const pidIndex = this.getItemIndex(pid);\r\n            const childs = this.getChildren(pid);\r\n\r\n            if (childs.length) {\r\n                const firstItem = childs[0];\r\n                const lastItem = childs[childs.length - 1];\r\n\r\n                if (idx > pidIndex) {\r\n                    this.insertAfter(item, lastItem.fieldId);\r\n                } else {\r\n                    this.insertBefore(item, firstItem.fieldId);\r\n                }\r\n                return;\r\n            }\r\n        }\r\n\r\n        if (idx !== -1) {\r\n            item.$pid = pid;\r\n        }\r\n\r\n        this.onChange(this.getAllItems());\r\n    }\r\n\r\n    commitItem(item) {\r\n        const items = this.getAllItems();\r\n        const fieldId = item.fieldId;\r\n        const idx = this.getItemIndex(fieldId);\r\n\r\n        if (idx !== -1) {\r\n            item.__tmp__ = false;\r\n            delete item.__tmp__;\r\n            items[idx] = item;\r\n            this.setState({\r\n                activeId: item.fieldId\r\n            });\r\n        }\r\n\r\n        this.onChange(items);\r\n    }\r\n\r\n    isTmpItem(item) {\r\n        return !!item.__tmp__;\r\n    }\r\n\r\n    getModel() {\r\n        return {\r\n            getWidget: this.getWidget.bind(this),\r\n            getWidgets: this.getWidgets.bind(this),\r\n            setActiveId: this.setActiveId.bind(this),\r\n            getActiveId: this.getActiveId.bind(this),\r\n            getActiveItem: this.getActiveItem.bind(this),\r\n            addItem: this.addItem.bind(this),\r\n            getPids: this.getPids.bind(this),\r\n            updateItem: this.updateItem.bind(this),\r\n            getItems: this.getItems.bind(this),\r\n            getAllItems: this.getAllItems.bind(this),\r\n            removeItem: this.removeItem.bind(this),\r\n            getItemIndex: this.getItemIndex.bind(this),\r\n            getItem: this.getItem.bind(this),\r\n            insertBefore: this.insertBefore.bind(this),\r\n            insertAfter: this.insertAfter.bind(this),\r\n            clearTmpItems: this.clearTmpItems.bind(this),\r\n            commitItem: this.commitItem.bind(this),\r\n            isTmpItem: this.isTmpItem.bind(this),\r\n            updateItemPid: this.updateItemPid.bind(this)\r\n        };\r\n    }\r\n\r\n    render() {\r\n        const { children } = this.props;\r\n        return (\r\n            <DesignContext.Provider value={this.getModel()}>\r\n                {children}\r\n            </DesignContext.Provider>\r\n        );\r\n    }\r\n}\r\n","\r\nimport { isValidElementType } from 'react-is';\r\nimport WPreview from './Preview';\r\nimport WDragPreview from './DragPreview';\r\nimport WPlaceholderPreview from './PlaceholderPreview';\r\nimport WWidgetProperty from './WidgetProperty';\r\n\r\nlet fid = 1000;\r\n\r\nexport default class Widget {\r\n    /**\r\n         *\r\n         * @param {object} options 控件基本信息: 名称 图标 属性面板组件 预览组件 属性等\r\n         * @param {string} optopns.xtype 控件类\r\n         * @param {string} optopns.title 控件名称\r\n         * @param {string} optopns.icon  控件图标\r\n         * @param {ReactElementType} optopns.Preview  控件拖放后预览组件\r\n         * @param {ReactElementType} optopns.DragPreview  控件拖拽时预览组件\r\n         * @param {ReactElementType} optopns.PlaceholderPreview  控件拖拽时占位预览组件\r\n         * @param {ReactElementType} optopns.WidgetProperty  控件属性面板组件\r\n         * @param {function|object} optopns.data 控件属性\r\n         * @memberof WidgetManager\r\n         */\r\n    constructor(options = {}) {\r\n        this.$$widget = true;\r\n        this.options = options;\r\n\r\n        this.xtype = options.xtype;\r\n        this.title = options.title;\r\n        this.icon = options.icon;\r\n\r\n        this.Preview = isValidElementType(options.Preview) ? options.Preview : WPreview;\r\n        this.DragPreview = isValidElementType(options.DragPreview) ? options.DragPreview : WDragPreview;\r\n        this.PlaceholderPreview = isValidElementType(options.PlaceholderPreview) ? options.PlaceholderPreview : WPlaceholderPreview;\r\n        this.WidgetProperty = isValidElementType(options.WidgetProperty) ? options.WidgetProperty : WWidgetProperty;\r\n\r\n    }\r\n\r\n    getItem() {\r\n        const data = this.options.data;\r\n        const ret = typeof data === 'function' ? data() : data;\r\n\r\n        return {\r\n            fieldId: `f_${Date.now()}_${fid++}`,\r\n            ...ret,\r\n            xtype: this.xtype,\r\n            $pid: null,\r\n            __tmp__: true,\r\n        }\r\n    }\r\n\r\n    get(name) {\r\n        return this.options[name];\r\n    }\r\n\r\n    set(name, value) {\r\n        this.options[name] = value;\r\n\r\n        return this;\r\n    }\r\n\r\n}","import React from \"react\";\r\nimport classNames from \"classnames\";\r\n\r\nexport default function(props) {\r\n    const item = props.item;\r\n    const classString = classNames({\r\n        \"widget-preview-item-inner\": true,\r\n        [props.className]: props.className\r\n    });\r\n\r\n    return (\r\n        <div className={classString}>\r\n            <label className=\"widget-preview-title\">{item.title}</label>\r\n            <span className=\"widget-preview-input\">{item.placeholder}</span>\r\n            {/* <span className=\"widget-preview-close\" onClick={onRemove}>x</span> */}\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\n\r\nexport default () => {\r\n    return null;\r\n}","import React from 'react';\r\n\r\nexport default function WidgetPlaceholderItem() {\r\n\r\n    return (\r\n        <div className=\"drag-item-placeholder\">\r\n            <div className=\"drag-item-placeholder-inner\">\r\n            </div>\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\n\r\nexport default ({\r\n    item,\r\n    onChange\r\n}) => {\r\n\r\n    return (\r\n        <div>\r\n            默认属性面板\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\n\r\nexport default React.createContext({});","import React from 'react';\r\nimport DesignContext from '../../DesignContext';\r\nimport WidgetItem from './WidgetItem';\r\n\r\nexport default class WidgetsPanel extends React.Component {\r\n\r\n    static contextType = DesignContext;\r\n\r\n    render() {\r\n        const designer = this.context;\r\n        const widgets = designer.getWidgets();\r\n\r\n        return (\r\n            <div className=\"widgets-panel\">\r\n                <div className=\"widgets-panel-header\">\r\n                    控件列表\r\n                </div>\r\n                <div className=\"widgets-panel-body\">\r\n                    {\r\n                        widgets.map(widget => {\r\n                            return (\r\n                                <WidgetItem\r\n                                    designer={designer}\r\n                                    key={widget.xtype}\r\n                                    widget={widget}\r\n                                />\r\n                            );\r\n                        })\r\n                    }\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport {\r\n    DragSource,\r\n    DropTarget,\r\n} from 'react-dnd';\r\nimport cx from 'classnames';\r\nimport {\r\n    WIDGET_DRAG_DROP_SCOPE\r\n} from '../../constants';\r\n\r\nconst spec = {\r\n    beginDrag(props, monitor, component) {\r\n        const designer = props.designer;\r\n        const widget = props.widget;\r\n        const item = widget.getItem();\r\n        designer.addItem(item);\r\n\r\n        return {\r\n            widget,\r\n            item,\r\n        };\r\n    },\r\n    endDrag(props, monitor, component) {\r\n        const designer = props.designer;\r\n        designer.clearTmpItems();\r\n    },\r\n    // canDrag(props) {\r\n    //     return !props.disabled;\r\n    // }\r\n};\r\n\r\nconst collect = (connect, monitor) => {\r\n    return {\r\n        connectDragSource: connect.dragSource(),\r\n        isDragging: monitor.isDragging(),\r\n    };\r\n};\r\n\r\nclass WidgetItem extends React.Component {\r\n\r\n    render() {\r\n        const { disabled, widget, connectDragSource, isDragging } = this.props;\r\n        const { title = \"未知组件\", icon } = widget;\r\n        return connectDragSource(\r\n            <div className={cx({\r\n                \"widget-item\": true,\r\n                \"widget-item-dragging\": isDragging,\r\n                \"widget-item-disabled\": disabled,\r\n            })}>\r\n                <div className=\"widget-item-title\">\r\n                    <img src={icon} />\r\n                    <span className=\"widget-text\">{title}</span>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DragSource(WIDGET_DRAG_DROP_SCOPE, spec, collect)(WidgetItem);","import React from 'react';\r\nimport DesignContext from '../DesignContext';\r\n// import { getWidgetPropertyPanel } from './widgets';\r\n// import {\r\n//     Form,\r\n//     FormItem,\r\n//     NativeField,\r\n// } from 'components/Form';\r\n\r\nexport default class PropertyPanel extends React.Component {\r\n\r\n    static contextType = DesignContext;\r\n\r\n    onItemChange = (item) => {\r\n        const designer = this.context;\r\n        const activeItem = designer.getActiveItem();\r\n\r\n        designer.updateItem({\r\n            ...activeItem,\r\n            ...item,\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const designer = this.context;\r\n        const activeItem = designer.getActiveItem();\r\n        if (!activeItem) {\r\n            return (\r\n                <div className=\"property-panel\">\r\n                    <div style={{ padding: 30, textAlign: 'center' }}>请先选择控件</div>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        const widget = designer.getWidget(activeItem.xtype);\r\n\r\n        if (!widget) {\r\n            return (\r\n                <div className=\"property-panel\">\r\n                    <div style={{ padding: 30, textAlign: 'center' }}>无.</div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div className=\"property-panel\">\r\n                <widget.WidgetProperty\r\n                    widget={widget}\r\n                    onChange={this.onItemChange}\r\n                    item={{ ...activeItem }}\r\n                    key={activeItem.fieldId}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport DesignContext from '../../DesignContext';\r\nimport WidgetDropAccepter from './WidgetDropAccepter';\r\n\r\nexport default class DesignPanel extends React.Component {\r\n    static contextType = DesignContext;\r\n\r\n    render() {\r\n        const pid = null\r\n        const designer = this.context;\r\n        const items = designer.getItems(pid);\r\n\r\n        return (\r\n            <div className=\"design-panel\">\r\n                <WidgetDropAccepter items={items} pid={pid} />\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport { findDOMNode } from 'react-dom';\r\nimport flow from 'lodash/flow';\r\nimport {\r\n    DragSource,\r\n    DropTarget,\r\n} from 'react-dnd';\r\nimport cx from 'classnames';\r\nimport {\r\n    WIDGET_DRAG_DROP_SCOPE\r\n} from '../../constants';\r\nimport DesignContext from '../../DesignContext';\r\n\r\nconst dragSpec = {\r\n    beginDrag(props) {\r\n        const widget = props.widget;\r\n        const item = props.item;\r\n        return {\r\n            isWidgetDragging: false,\r\n            isPreviewDragging: false,\r\n            widget: widget,\r\n            item: item,\r\n        };\r\n    },\r\n    // endDrag(props, monitor, component) {\r\n    //     console.log('endDrag')\r\n    // }\r\n};\r\n\r\nconst dragCollect = (connect, monitor) => {\r\n    return {\r\n        connectDragSource: connect.dragSource(),\r\n        isDragging: monitor.isDragging(),\r\n    };\r\n}\r\n\r\nfunction canDrop(props, monitor) {\r\n    const designer = props.designer;\r\n    const dragItem = monitor.getItem();\r\n    const dragItemFieldId = dragItem.item.fieldId;\r\n    const targetFieldId = props.item.fieldId;\r\n\r\n    //解决父节点拖动到子节点的情况\r\n    const pids = designer.getPids(targetFieldId);\r\n\r\n    pids.push(targetFieldId);\r\n\r\n    if (pids.indexOf(dragItemFieldId) > -1) return false;\r\n\r\n    return true;\r\n}\r\n\r\nconst dropSpec = {\r\n    canDrop(props, monitor) {\r\n        return true;\r\n    },\r\n\r\n    hover(props, monitor, component) {\r\n        const isOver = monitor.isOver({ shallow: true });\r\n        if (!isOver) return;\r\n\r\n        if (!monitor.canDrop() || !canDrop(props, monitor, component)) return;\r\n\r\n        const designer = component.context;\r\n        const { item } = props;\r\n        const dragItem = monitor.getItem();\r\n        const dragOffset = monitor.getClientOffset();\r\n        const previewDOM = findDOMNode(component);\r\n\r\n        //顺序调整\r\n        const targetOffset = previewDOM.getBoundingClientRect();\r\n        const middleY = ~~(targetOffset.bottom - (targetOffset.height / 2));\r\n\r\n        if (dragOffset.y <= middleY) {\r\n            designer.insertBefore(dragItem.item, item.fieldId);\r\n        } else {\r\n            designer.insertAfter(dragItem.item, item.fieldId);\r\n        }\r\n\r\n    },\r\n\r\n    // drop(props, monitor, component) {\r\n    //     //TODO\r\n    // }\r\n};\r\n\r\nconst dropCollect = (connect, monitor) => {\r\n    return {\r\n        connectDropTarget: connect.dropTarget(),\r\n        isOver: monitor.isOver({ shallow: true }),\r\n        canDrop: monitor.canDrop(),\r\n        // dragItem: monitor.getItem(),\r\n    }\r\n}\r\n\r\nclass WidgetPreviewItem extends React.Component {\r\n\r\n    static contextType = DesignContext;\r\n\r\n    state = {\r\n        // placeholderPosition: 'none', //none after before top bottom\r\n    }\r\n\r\n    handlePreviewClick(item, e) {\r\n        if (e.isDefaultPrevented()) {\r\n            return;\r\n        }\r\n        e.preventDefault();\r\n        const designer = this.context;\r\n        designer.setActiveId(item.fieldId);\r\n    }\r\n\r\n    handleRemove = () => {\r\n        const designer = this.context;\r\n        const { item } = this.props;\r\n        designer.removeItem(item.fieldId)\r\n    }\r\n\r\n    handleDragAndDrop = (dom) => {\r\n        const {\r\n            connectDropTarget,\r\n            connectDragSource,\r\n        } = this.props;\r\n\r\n        connectDropTarget(dom);\r\n        connectDragSource(dom);\r\n\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            connectDropTarget,\r\n            connectDragSource,\r\n            isDragging,\r\n            isOver,\r\n            widget,\r\n            item,\r\n            // dragItem,\r\n            visible,\r\n        } = this.props;\r\n        // const { placeholderPosition } = this.state;\r\n        const designer = this.context;\r\n        const activeId = designer.getActiveId();\r\n        //如果来源不是组建面板,则是排序模式\r\n        // const isSortMode = dragItem && !dragItem.isWidgetDragging;\r\n        // const items = layout.getLayoutChildren(data.id);\r\n\r\n        return (\r\n            <div\r\n                ref={this.handleDragAndDrop}\r\n                className={cx({\r\n                    \"widget-preview-item-wrapper\": true,\r\n                    \"droppable\": isOver,\r\n                    \"dragging\": isDragging,\r\n                    // \"drop-tips\": canDrop,\r\n                })}\r\n\r\n                style={{\r\n                    display: visible ? 'inline-block' : 'none',\r\n                    width: item.width || '100%'\r\n                }}\r\n\r\n            >\r\n                <div\r\n                    className={cx({\r\n                        \"widget-preview-item\": true,\r\n                        \"widget-preview-item-selected\": activeId === item.fieldId,\r\n                    })}\r\n                    onClick={this.handlePreviewClick.bind(this, item)}\r\n                >\r\n                    <widget.Preview item={item} designer={designer} />\r\n                    <span className=\"widget-preview-close\" onClick={this.handleRemove}>x</span>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default flow(\r\n    DropTarget(WIDGET_DRAG_DROP_SCOPE, dropSpec, dropCollect),\r\n    DragSource(WIDGET_DRAG_DROP_SCOPE, dragSpec, dragCollect),\r\n)(WidgetPreviewItem)","import TextField from './TextField';\r\nimport TextareaField from './TextareaField';\r\nimport SelectField from './SelectField';\r\n// import MultiSelectField from './MultiSelectField';\r\n// import NumberField from './NumberField';\r\n// import DateField from './DateField';\r\nimport URLField from './URLField';\r\n// import FileField from './FileField';\r\nimport DetailedField from './DetailedField';\r\n\r\nexport default [\r\n    TextField,\r\n    TextareaField,\r\n    SelectField,\r\n    // MultiSelectField,\r\n    // NumberField,\r\n    // DateField,\r\n    URLField,\r\n    DetailedField,\r\n    // FileField,\r\n];","import data from '../common/data';\r\nimport PropertyPanel from './PropertyPanel';\r\nimport icon from './icon.png';\r\n\r\nconst XType = 'EX_TEXT_FIELD';\r\nconst Title = '文本';\r\n\r\nexport default {\r\n    xtype: \"EX_TEXT_FIELD\",\r\n    title: \"文本\",\r\n    icon: icon,\r\n    WidgetProperty: PropertyPanel,\r\n\r\n    data() {\r\n        return {\r\n            ...data(),\r\n            xtype: XType,\r\n            title: Title,\r\n        }\r\n    }\r\n};","export function uuid() {\r\n    return Math.random().toString(16).slice(2, 8);\r\n}\r\n","import React from 'react';\r\nimport PropertyForm from '../PropertyForm';\r\n// import {\r\n//     FormItem,\r\n//     NativeField,\r\n// } from 'components/Form';\r\n\r\nimport CommonPropertyPanel from '../common/CommonPropertyPanel';\r\nimport ValidatePropertyPanel from '../common/ValidatePropertyPanel';\r\n\r\nexport default function (props) {\r\n\r\n    return (\r\n        <PropertyForm {...props}>\r\n            <CommonPropertyPanel />\r\n            <ValidatePropertyPanel />\r\n        </PropertyForm>\r\n    );\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classnames from 'classnames';\r\nimport AsyncValidator from 'async-validator';\r\nimport set from 'lodash/set';\r\nimport get from 'lodash/get';\r\nimport scrollIntoView from 'bplokjs-dom-utils/scrollIntoView';\r\nimport FormContext from './FormContext';\r\n\r\nAsyncValidator.warning = function () { };\r\n\r\nexport default class Form extends React.Component {\r\n    static propTypes = {\r\n        prefixCls: PropTypes.string,\r\n        className: PropTypes.string,\r\n        style: PropTypes.object,\r\n        path2obj: PropTypes.bool,\r\n        formDefaultValue: PropTypes.object,\r\n        formValue: PropTypes.object,\r\n        validateDelay: PropTypes.number,\r\n        validateTrigger: PropTypes.string, //change blur none\r\n        component: PropTypes.node,\r\n        rules: PropTypes.oneOfType([PropTypes.object, PropTypes.array, PropTypes.func]),\r\n        labelWidth: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n        labelPosition: PropTypes.oneOf(['top', 'left', 'right']),\r\n        alignItems: PropTypes.oneOf(['top', 'center', 'bottom']),\r\n        inline: PropTypes.bool,\r\n        onSubmit: PropTypes.func,\r\n        onChange: PropTypes.func,\r\n        validateFieldsAndScroll: PropTypes.bool,\r\n        showMessage: PropTypes.bool,\r\n        getFormItemInputProps: PropTypes.func,\r\n    }\r\n\r\n    static defaultProps = {\r\n        prefixCls: 'rw-form',\r\n        className: '',\r\n        style: {},\r\n        rules: {},\r\n        path2obj: true,\r\n        component: 'form',\r\n        validateDelay: 0,\r\n        validateTrigger: 'none',\r\n        labelPosition: 'left',\r\n        alignItems: \"center\",\r\n        inline: false,\r\n        showMessage: true,\r\n    }\r\n\r\n    static getDerivedStateFromProps(nextProps, prevState) {\r\n        return {\r\n            formValue: nextProps.formValue || prevState.formValue,\r\n        }\r\n    }\r\n\r\n    fields = []\r\n    _valiateCb = []\r\n\r\n    state = {\r\n        formError: {},\r\n        validatingFields: {},\r\n        formValue: this.props.formDefaultValue || {},\r\n    }\r\n\r\n    addField(field) {\r\n        this.fields.push(field);\r\n    }\r\n\r\n    removeField(field) {\r\n        var idx = this.fields.indexOf(field);\r\n        if (idx !== -1) {\r\n            this.fields.splice(idx, 1);\r\n        }\r\n    }\r\n\r\n    getValue(name) {\r\n        const path2obj = this.props.path2obj;\r\n        const formValue = this.state.formValue;\r\n        if (path2obj) {\r\n            return get(formValue, name);\r\n        }\r\n        return formValue[name];\r\n    }\r\n\r\n    setValue(name, value, event, cb) {\r\n        const { path2obj, onChange } = this.props;\r\n        const formValue = this.state.formValue;\r\n\r\n        const nextFormValue = {\r\n            ...formValue\r\n        };\r\n\r\n        if (path2obj) {\r\n            set(nextFormValue, name, value);\r\n        } else {\r\n            nextFormValue[name] = value;\r\n        }\r\n\r\n        if (!('formValue' in this.props)) {\r\n            this.setState({\r\n                formValue: nextFormValue\r\n            });\r\n        }\r\n\r\n        if (onChange) {\r\n            onChange(nextFormValue, event);\r\n        }\r\n\r\n        if (cb) {\r\n            this._valiateCb.push(cb);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        const formValue = this.state.formValue;\r\n        const validateProcess = this._valiateCb;\r\n        this._valiateCb = [];\r\n        validateProcess.forEach(cb => {\r\n            cb(formValue);\r\n        });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._valiateCb = [];\r\n    }\r\n\r\n    getError(name) {\r\n        const { formError } = this.state;\r\n        if (!arguments.length) return formError;\r\n        return formError[name];\r\n    }\r\n\r\n    cleanErrors() {\r\n        this.setState({\r\n            validatingFields: {},\r\n            formError: {}\r\n        });\r\n    }\r\n\r\n    setErrors(errors) {\r\n        const { formError } = this.state;\r\n        this.setState({\r\n            ...formError,\r\n            ...errors\r\n        });\r\n    }\r\n\r\n    getFieldRules(name) {\r\n        const fieldRules = [];\r\n        this.fields\r\n            .filter(field => field.props.name === name)\r\n            .forEach(field => {\r\n                const fieldProps = field.props;\r\n                let rules = fieldProps.rules || [];\r\n                if (typeof rules === 'function') {\r\n                    rules = [\r\n                        {\r\n                            validator: rules\r\n                        }\r\n                    ]\r\n                } else if (!Array.isArray(rules)) {\r\n                    rules = [rules];\r\n                }\r\n                if (fieldProps.required) {\r\n                    rules.unshift({\r\n                        required: true\r\n                    });\r\n                }\r\n\r\n                fieldRules.push(...rules);\r\n            });\r\n\r\n        let rules = this.props.rules[name] || [];\r\n        if (rules) {\r\n            if (typeof rules === 'function') {\r\n                rules = [\r\n                    {\r\n                        validator: rules\r\n                    }\r\n                ]\r\n            } else if (!Array.isArray(rules)) {\r\n                rules = [rules];\r\n            }\r\n        }\r\n\r\n        return rules ? fieldRules.concat(rules) : fieldRules;\r\n    }\r\n\r\n    isValidatingField(name) {\r\n        const validatingFields = this.state.validatingFields;\r\n        return !!validatingFields[name];\r\n    }\r\n\r\n    validateField(name, cb) {\r\n        const { formError, validatingFields } = this.state;\r\n        const value = this.getValue(name);\r\n        const rules = this.getFieldRules(name);\r\n\r\n        if (!rules || rules.length === 0) {\r\n            if (cb instanceof Function) {\r\n                cb(null, value);\r\n            }\r\n            return;\r\n        }\r\n\r\n        this.setState({\r\n            validatingFields: {\r\n                ...validatingFields,\r\n                [name]: true,\r\n            }\r\n        });\r\n\r\n        const descriptor = { [name]: rules };\r\n        const validator = new AsyncValidator(descriptor);\r\n        const data = { [name]: value };\r\n\r\n        validator.validate(data, { firstFields: true }, errors => {\r\n            this.setState({\r\n                formError: {\r\n                    ...formError,\r\n                    [name]: errors ? errors[0].message : null\r\n                },\r\n                validatingFields: {\r\n                    ...validatingFields,\r\n                    [name]: false,\r\n                },\r\n            }, () => {\r\n                if (cb instanceof Function) {\r\n                    cb(errors, value);\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    validate(callback) {\r\n        const { formValue } = this.state;\r\n        const fields = this.fields;\r\n        const rules = {};\r\n\r\n        if (fields.length === 0 && callback) {\r\n            callback(null, formValue);\r\n            return;\r\n        }\r\n\r\n        fields.forEach(field => {\r\n            const name = field.props.name;\r\n            if (!name || name in rules) return;\r\n            const fieldRules = this.getFieldRules(name);\r\n            if (fieldRules && fieldRules.length) {\r\n                rules[name] = fieldRules;\r\n            }\r\n        });\r\n\r\n        const validatingFields = {};\r\n\r\n        const validator = new AsyncValidator(rules);\r\n        const data = {};\r\n        Object.keys(rules).forEach(key => {\r\n            data[key] = get(formValue, key);\r\n            validatingFields[key] = true;\r\n        });\r\n\r\n        this.setState({\r\n            validatingFields\r\n        });\r\n\r\n        validator.validate(data, { firstFields: true }, errors => {\r\n            const formError = {};\r\n            if (errors) {\r\n                errors.forEach(error => {\r\n                    formError[error.field] = error.message;\r\n                });\r\n            }\r\n            this.setState({\r\n                formError,\r\n                validatingFields: {},\r\n            }, () => {\r\n                if (callback instanceof Function) {\r\n                    callback(errors, formValue);\r\n                }\r\n            });\r\n\r\n        });\r\n    }\r\n\r\n    validateAndScroll(callback) {\r\n        this.validate((errors, formValue) => {\r\n            if (errors) {\r\n                let field;\r\n                const formError = this.state.formError;\r\n                const fields = this.fields;\r\n                fields.forEach(f => {\r\n                    const name = f.props.name;\r\n                    if (!name) return;\r\n                    if (!field && (name in formError)) {\r\n                        field = f;\r\n                    }\r\n                });\r\n\r\n                if (field) {\r\n                    scrollIntoView(field.getDOM());\r\n                }\r\n            }\r\n\r\n            callback(errors, formValue);\r\n        });\r\n    }\r\n\r\n    onFieldChange(name, value) {\r\n        const { formValue } = this.state;\r\n\r\n        formValue.set(name, value);\r\n    }\r\n\r\n    getFormContext() {\r\n        return {\r\n            form: this,\r\n        };\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            prefixCls,\r\n            style,\r\n            className,\r\n            onSubmit,\r\n            component: Component,\r\n            children\r\n        } = this.props;\r\n\r\n        return (\r\n            <FormContext.Provider value={this.getFormContext()}>\r\n                <Component\r\n                    style={style}\r\n                    className={classnames(prefixCls, className)}\r\n                    onSubmit={onSubmit}\r\n                >\r\n                    {typeof children === 'function' ? children(this) : children}\r\n                </Component>\r\n            </FormContext.Provider>\r\n        )\r\n    }\r\n}\r\n\r\n","import Form from './Form';\r\nimport FormItem from './FormItem';\r\nimport NativeField from './NativeField';\r\n\r\nexport {\r\n    Form,\r\n    FormItem,\r\n    NativeField,\r\n};\r\n\r\nForm.Item = FormItem;\r\nForm.NativeField = NativeField;\r\n\r\nexport default Form;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classnames from 'classnames';\r\nimport FormContext from './FormContext';\r\nexport default class FormItem extends React.Component {\r\n\r\n    static contextType = FormContext;\r\n\r\n    static propTypes = {\r\n        label: PropTypes.node,\r\n        labelFor: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n        labelWidth: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n        labelPosition: PropTypes.oneOf(['top', 'left', 'right']),\r\n        alignItems: PropTypes.oneOf(['top', 'center', 'bottom']),\r\n        name: PropTypes.string,\r\n        rules: PropTypes.oneOfType([PropTypes.object, PropTypes.array, PropTypes.func]),\r\n        required: PropTypes.bool,\r\n        normalize: PropTypes.func,\r\n        validateDelay: PropTypes.number,\r\n        validateTrigger: PropTypes.string, //change blur none\r\n        inline: PropTypes.bool,\r\n        showMessage: PropTypes.bool,\r\n        help: PropTypes.node,\r\n        style: PropTypes.object,\r\n        //extra: PropTypes.node,\r\n    }\r\n\r\n    static defaultProps = {\r\n        prefixCls: 'rw-form-item',\r\n        // labelPosition: 'left',\r\n        // alignItems: \"center\",\r\n        // inline: false,\r\n        //showMessage: true,\r\n    }\r\n\r\n    saveDOM = dom => {\r\n        this._dom = dom;\r\n    }\r\n\r\n    getDOM() {\r\n        return this._dom;\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { form } = this.context;\r\n        const { name } = this.props;\r\n\r\n        if (name) {\r\n            form.addField(this);\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        const { form } = this.context;\r\n        form.removeField(this);\r\n    }\r\n\r\n    isRequired() {\r\n        const { form } = this.context;\r\n        const { name } = this.props;\r\n        let rules = form.getFieldRules(name);\r\n        let isRequired = false;\r\n\r\n        if (rules && rules.length) {\r\n            isRequired = rules.some(rule => rule.required);\r\n        }\r\n\r\n        return isRequired;\r\n    }\r\n\r\n    _validateTimer = null\r\n\r\n    getValidateTrigger() {\r\n        const { form } = this.context;\r\n        const { validateTrigger } = form.props;\r\n        const props = this.props;\r\n\r\n        return 'validateTrigger' in props ? props.validateTrigger : validateTrigger;\r\n    }\r\n\r\n    getValidateDelay() {\r\n        const { form } = this.context;\r\n        const { validateDelay } = form.props;\r\n        const props = this.props;\r\n\r\n        return 'validateDelay' in props ? props.validateDelay : validateDelay;\r\n    }\r\n\r\n    onFieldBlur() {\r\n        const { form } = this.context;\r\n        const validateTrigger = this.getValidateTrigger();\r\n        const validateDelay = this.getValidateDelay();\r\n        const { name } = this.props;\r\n\r\n        if (validateTrigger === 'blur') {\r\n            if (validateDelay > 0) {\r\n                if (this._validateTimer) clearTimeout(this._validateTimer)\r\n                this._validateTimer = setTimeout(() => {\r\n                    form.validateField(name);\r\n                }, validateDelay);\r\n            } else {\r\n                form.validateField(name);\r\n            }\r\n        }\r\n    }\r\n\r\n    getValue() {\r\n        const { name } = this.props;\r\n        const { form } = this.context;\r\n\r\n        return form.getValue(name);\r\n    }\r\n\r\n    onFieldChange(value, e) {\r\n        const { form } = this.context;\r\n        const { name } = this.props;\r\n\r\n        form.setValue(name, value, e, () => {\r\n            const validateTrigger = this.getValidateTrigger();\r\n            const validateDelay = this.getValidateDelay();\r\n\r\n            if (validateTrigger === 'change') {\r\n                if (validateDelay > 0) {\r\n                    if (this._validateTimer) clearTimeout(this._validateTimer)\r\n                    this._validateTimer = setTimeout(() => {\r\n                        form.validateField(name);\r\n                    }, validateDelay);\r\n                } else {\r\n                    form.validateField(name);\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    getLabelProps() {\r\n        const { form } = this.context;\r\n        const formProps = form.props;\r\n        const props = this.props;\r\n\r\n        return {\r\n            inline: 'inline' in props ? props.inline : formProps.inline,\r\n            labelPosition: 'labelPosition' in props ? props.labelPosition : formProps.labelPosition,\r\n            labelWidth: 'labelWidth' in props ? props.labelWidth : formProps.labelWidth,\r\n            alignItems: 'alignItems' in props ? props.alignItems : formProps.alignItems,\r\n            showMessage: 'showMessage' in props ? props.showMessage : formProps.showMessage,\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { form } = this.context;\r\n        const {\r\n            normalize,\r\n            label,\r\n            required,\r\n            labelFor,\r\n            className,\r\n            prefixCls,\r\n            name,\r\n            help,\r\n            style,\r\n            //extra,\r\n        } = this.props;\r\n        const { inline, labelPosition, labelWidth, alignItems, showMessage } = this.getLabelProps();\r\n        const error = form.getError(name);\r\n        const validating = form.isValidatingField(name);\r\n\r\n        const children = React.Children.only(this.props.children);\r\n\r\n        const {\r\n            onChange,\r\n            onBlur\r\n        } = children.props;\r\n\r\n        const getFormItemInputProps = form.props.getInputProps || function () { return {} };\r\n\r\n        const onFieldChange = this.onFieldChange.bind(this);\r\n        const onFieldBlur = this.onFieldBlur.bind(this);\r\n\r\n        const InputComponent = React.cloneElement(children, {\r\n            ...getFormItemInputProps(name),\r\n            value: this.getValue(),\r\n            onChange: function (value, event) {\r\n                if (normalize) {\r\n                    value = normalize(value);\r\n                }\r\n\r\n                onChange && onChange(value, event);\r\n\r\n                onFieldChange(value, event)\r\n            },\r\n            onBlur: function (e) {\r\n                onBlur && onBlur(e);\r\n                onFieldBlur(e)\r\n            },\r\n        });\r\n\r\n        return (\r\n            <div\r\n                style={style}\r\n                ref={this.saveDOM}\r\n                className={classnames(prefixCls, {\r\n                    [`${prefixCls}-inline`]: inline,\r\n                    [`${prefixCls}-position-${labelPosition}`]: labelPosition,\r\n                    [`${prefixCls}-align-items-${alignItems}`]: alignItems !== 'center',\r\n                    [`${prefixCls}-error`]: error,\r\n                    [`${prefixCls}-validating`]: validating,\r\n                    [`${prefixCls}-required`]: this.isRequired() || required,\r\n                    [`${prefixCls}-with-help`]: help,\r\n                    [`${className}`]: className,\r\n                })}\r\n            >\r\n                {\r\n                    label && (\r\n                        <label\r\n                            htmlFor={labelFor}\r\n                            className={`${prefixCls}-label`}\r\n                            style={{\r\n                                width: labelWidth\r\n                            }}\r\n                        >\r\n                            {label}\r\n                        </label>\r\n                    )\r\n                }\r\n                <div className={`${prefixCls}-content`}>\r\n                    {InputComponent}\r\n                    {\r\n                        !help && showMessage && error ? (\r\n                            <div className={`${prefixCls}-error-tip`} >{error}</div>\r\n                        ) : null\r\n                    }\r\n                    {\r\n                        help ? (\r\n                            <div className={`${prefixCls}-help`} >{help}</div>\r\n                        ) : null\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\n\r\nexport default function NativeField(props) {\r\n    const {\r\n        component: Component = 'input',\r\n        value,\r\n        inputRef,\r\n        onChange,\r\n        ...others\r\n    } = props;\r\n\r\n    const onInputChange = (e) => {\r\n        const value = e.target.value;\r\n        onChange && onChange(value, e);\r\n    }\r\n\r\n    return (\r\n        <Component\r\n            ref={inputRef}\r\n            onChange={onInputChange}\r\n            value={value}\r\n            {...others}\r\n        />\r\n    );\r\n}","import React from 'react';\r\n// import { FormItem } from '../Form';\r\nimport Icon from '../Icon';\r\n\r\nexport default class MultipleInputField extends React.Component {\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n        let value = props.value || state.value;\r\n\r\n        if (!Array.isArray(value)) {\r\n            value = [];\r\n        }\r\n\r\n        if (!value.length) {\r\n            value.push({\r\n                value: '选项1',\r\n                label: '选项1',\r\n            });\r\n        }\r\n\r\n        return {\r\n            value: [...value],\r\n            sIndex: Math.max(value.length, state.sIndex),\r\n        }\r\n    }\r\n    state = {\r\n        value: this.props.defaultValue || [],\r\n        sIndex: 1,\r\n    }\r\n\r\n    onItemChange(index, e) {\r\n        const { onChange } = this.props;\r\n        const { value } = this.state;\r\n        value[index] = {\r\n            value: e.target.value,\r\n            label: e.target.value,\r\n        };\r\n\r\n        onChange && onChange(value);\r\n    }\r\n\r\n    onAddItem(index) {\r\n        const { onChange } = this.props;\r\n        const { value, sIndex } = this.state;\r\n\r\n        const text = '选项' + (1 + sIndex);\r\n\r\n        this.setState({\r\n            sIndex: sIndex + 1,\r\n        });\r\n\r\n        const item = {\r\n            value: text,\r\n            label: text,\r\n        };\r\n\r\n        value.splice(index, 1,\r\n            value[index],\r\n            item\r\n        )\r\n\r\n        onChange && onChange(value);\r\n    }\r\n\r\n    onRemoveItem(index) {\r\n        const { onChange } = this.props;\r\n        const { value } = this.state;\r\n\r\n        if (value.length <= 1) return;\r\n\r\n        value.splice(index, 1)\r\n\r\n        onChange && onChange(value);\r\n    }\r\n\r\n    renderItem = (item, i) => {\r\n\r\n        return (\r\n            <div className=\"multi-input-item\" key={i}>\r\n                <div className=\"multi-input\">\r\n                    <input\r\n                        value={item.label}\r\n                        placeholder=\"选项名称\"\r\n                        onChange={this.onItemChange.bind(this, i)}\r\n                    />\r\n                </div>\r\n                <div className=\"multi-input-tools\">\r\n                    <Icon type=\"add\" onClick={this.onAddItem.bind(this, i)}>+</Icon>\r\n                    <Icon type=\"remove\" onClick={this.onRemoveItem.bind(this, i)}>-</Icon>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const { value } = this.state;\r\n\r\n        return (\r\n            <div className=\"multi-input-wrapper\">\r\n                {\r\n                    value.map(this.renderItem)\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\n\r\nexport default props => {\r\n    return (\r\n        <span>{props.value}</span>\r\n    )\r\n}","import React from 'react';\r\nimport Icon from '../Icon';\r\n\r\nfunction getUnit(value) {\r\n\r\n    if (/px$/.test(value)) {\r\n        return 'px';\r\n    }\r\n\r\n    if (/%$/.test(value)) {\r\n        return '%';\r\n    }\r\n\r\n    return 'px';\r\n\r\n}\r\n\r\nfunction toValue(value) {\r\n    value = parseFloat(value);\r\n    return isNaN(value) ? 0 : value;\r\n}\r\n\r\nexport default class WidthInputField extends React.Component {\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if ('value' in props) {\r\n            return {\r\n                value: toValue(props.value),\r\n                unit: getUnit(props.value)\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    constructor(props, ...a) {\r\n        super(props, ...a);\r\n\r\n        const value = props.defaultValue || '';\r\n        this.state = {\r\n            value: toValue(value),\r\n            unit: getUnit(value),\r\n        }\r\n\r\n    }\r\n\r\n    renderSuffix() {\r\n        const { unit } = this.state;\r\n\r\n        return (\r\n            <div className=\"width-suffix\">\r\n                <div className=\"width-suffix-text\">\r\n                    <span>{unit}</span>\r\n                    <div className=\"width-suffix-unit\">\r\n                        <div className=\"width-suffix-unit-item\" onClick={this.onUnitChange.bind(this, 'px')}>px</div>\r\n                        <div className=\"width-suffix-unit-item\" onClick={this.onUnitChange.bind(this, '%')}>%</div>\r\n                    </div>\r\n                </div>\r\n                <Icon type=\"caret-down\" />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    onUnitChange(unit) {\r\n        const props = this.props;\r\n        let { value } = this.state;\r\n\r\n        if (unit === '%') {\r\n            value = Math.max(Math.min(value, 100), 0);\r\n        }\r\n\r\n        if (!('value' in props)) {\r\n            this.setState({\r\n                unit,\r\n                value\r\n            });\r\n        }\r\n\r\n        props.onChange && props.onChange(value + unit);\r\n    }\r\n\r\n    handleInputChange = e => {\r\n        const { unit } = this.state;\r\n        const props = this.props;\r\n\r\n        let value = toValue(e.target.value);\r\n\r\n        if (unit === '%') {\r\n            value = Math.max(Math.min(value, 100), 0);\r\n        }\r\n\r\n        if (!('value' in props)) {\r\n            this.setState({\r\n                value\r\n            });\r\n        }\r\n\r\n        const v = (value + unit);\r\n\r\n        props.onChange && props.onChange(v);\r\n    }\r\n\r\n    render() {\r\n        const { value } = this.state;\r\n\r\n        return (\r\n            <div className=\"width-input-field\">\r\n                <input\r\n                    onChange={this.handleInputChange}\r\n                    value={value}\r\n                />\r\n                {\r\n                    this.renderSuffix()\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAxklEQVRYR+2WXRHCMBCE9xwgAQfgAOrgogALSAAHOOk6AByAExwskw7w0FKGTmlaZnLvl+/L5tcwctnIfGSBnEBOYDoJuPsBwCLVvUCyiKxXAiGEE4BVKoGyLCv2O4GzpCgzRM3NbBMHbhWQtCe5G4Lu7mszO34t8GiQpCvJW1+pzgIhBEWopIJk72XJAjmBv0yg2vmStiQvyY9hX2C9v/MSjCLwa2jbeJ8eoyQODQF3XwKYJaEDeF7t0/kRpZp5nZMTyAncAYM54iEqZrwtAAAAAElFTkSuQmCC\"","import PropertyPanel from './PropertyPanel';\r\n\r\nimport data from '../common/data';\r\nimport icon from './icon.png';\r\n\r\nconst XType = 'EX_TEXTAREA_FIELD';\r\nconst Title = '多行文本';\r\n\r\nexport default {\r\n    xtype: \"EX_TEXTAREA_FIELD\",\r\n    title: \"多行文本\",\r\n    icon: icon,\r\n    WidgetProperty: PropertyPanel,\r\n\r\n    data() {\r\n        return {\r\n            ...data(),\r\n            xtype: XType,\r\n            title: Title,\r\n            height: '70'\r\n        }\r\n    }\r\n};","import React from 'react';\r\nimport {\r\n    FormItem,\r\n    NativeField,\r\n} from 'components/Form';\r\n\r\nimport PropertyForm from '../PropertyForm';\r\n\r\nimport CommonPropertyPanel from '../common/CommonPropertyPanel';\r\nimport ValidatePropertyPanel from '../common/ValidatePropertyPanel';\r\n\r\nexport default function (props) {\r\n\r\n    return (\r\n        <PropertyForm {...props}>\r\n            <CommonPropertyPanel />\r\n            <FormItem\r\n                className=\"design-property-field\"\r\n                label=\"高度\"\r\n                name=\"height\"\r\n            >\r\n                <NativeField\r\n                    component=\"input\"\r\n                />\r\n            </FormItem>\r\n            <ValidatePropertyPanel />\r\n        </PropertyForm>\r\n    );\r\n}","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAv0lEQVRYR+2W4QnCMBBGXzfpJuoG3cBuYEdwFN3EbtARHKEbKB80UDFIhGuOwgX6r+R7eXdpr8F5Nc75BEAYWBs4AodKTXkHnspaA1yBAZg2htAhT8AjByALerZcr90AdIum2VhHsYGPFw0hAiAM7MeArl+6ioaXgGIDbfpeW6ZDOYBxLj1w8wJQsIzqP1NcAisDCj8DowdACtdhXAByFn+W4FJhIFEfZAeSGsNIMqLSfI1kVk331z4xlocBdwNvGE5RIQon4uUAAAAASUVORK5CYII=\"","import PropertyPanel from './PropertyPanel';\r\n\r\nimport data from '../common/data';\r\nimport icon from './icon.png';\r\n\r\nconst XType = 'EX_SELECT_FIELD';\r\nconst Title = '单选列表';\r\n\r\nexport default {\r\n    xtype: XType,\r\n    title: Title,\r\n    icon: icon,\r\n    WidgetProperty: PropertyPanel,\r\n\r\n    data() {\r\n        return {\r\n            ...data(),\r\n            xtype: XType,\r\n            title: Title,\r\n            data: [\r\n                {\r\n                    value: '选项1',\r\n                    label: '选项1',\r\n                },\r\n                {\r\n                    value: '选项2',\r\n                    label: '选项2',\r\n                },\r\n                {\r\n                    value: '选项3',\r\n                    label: '选项3',\r\n                }\r\n            ]\r\n        }\r\n    }\r\n};\r\n","import React from 'react';\r\nimport {\r\n    FormItem,\r\n    NativeField,\r\n} from 'components/Form';\r\nimport {\r\n    MultipleInputField,\r\n} from 'components/FormField';\r\n\r\nimport PropertyForm from '../PropertyForm';\r\n\r\nimport CommonPropertyPanel from '../common/CommonPropertyPanel';\r\nimport ValidatePropertyPanel from '../common/ValidatePropertyPanel';\r\n\r\nexport default function (props) {\r\n\r\n    return (\r\n        <PropertyForm {...props}>\r\n            <CommonPropertyPanel />\r\n            <FormItem\r\n                className=\"design-property-field\"\r\n                label=\"选项值\"\r\n                name=\"data\"\r\n            >\r\n                <MultipleInputField />\r\n            </FormItem>\r\n            <ValidatePropertyPanel />\r\n        </PropertyForm>\r\n    );\r\n}","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAA0UlEQVRYR+2WURHCMBBE9xSAAyzgAHCQOKiESgAlgIKuBCSAA3CAg2XCUKZ0ypQPkv7cfaYz2deXm1wME5dNnA8HcANvAzHGK4BFqaaUtCO57QKoVHib0zSNDQHcACQbuWoJYJY2HwSQtCF5ypUeY0x7rxzADWQxEEIIZtb0G1jSkWSV1rM3YQihMrN9B+IiaU3yXgQghXQgPsKLAbwgagCH9s9bI9mPYOwCc4BfDKRBlHUYmdn86z0wdob//N6fhgTwJCtRks4ka38TugE34AYe7FjWIZhHzn8AAAAASUVORK5CYII=\"","import data from '../common/data';\r\nimport PropertyPanel from './PropertyPanel';\r\nimport icon from './icon.png';\r\n\r\nconst XType = 'EX_TEXT_FIELD';\r\nconst Title = '文本';\r\n\r\nexport default {\r\n    xtype: \"EX_URL_FIELD\",\r\n    title: \"URL\",\r\n    icon: icon,\r\n    WidgetProperty: PropertyPanel,\r\n\r\n    data() {\r\n        return {\r\n            ...data(),\r\n            xtype: XType,\r\n            title: Title,\r\n        }\r\n    }\r\n};","import React from 'react';\r\nimport PropertyForm from '../PropertyForm';\r\n\r\nimport CommonPropertyPanel from '../common/CommonPropertyPanel';\r\nimport ValidatePropertyPanel from '../common/ValidatePropertyPanel';\r\n\r\nexport default function (props) {\r\n\r\n    return (\r\n        <PropertyForm {...props}>\r\n            <CommonPropertyPanel />\r\n            <ValidatePropertyPanel />\r\n        </PropertyForm>\r\n    );\r\n}","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAxklEQVRYR+2WXRHCMBCE9xwgAQfgAOrgogALSAAHOOk6AByAExwskw7w0FKGTmlaZnLvl+/L5tcwctnIfGSBnEBOYDoJuPsBwCLVvUCyiKxXAiGEE4BVKoGyLCv2O4GzpCgzRM3NbBMHbhWQtCe5G4Lu7mszO34t8GiQpCvJW1+pzgIhBEWopIJk72XJAjmBv0yg2vmStiQvyY9hX2C9v/MSjCLwa2jbeJ8eoyQODQF3XwKYJaEDeF7t0/kRpZp5nZMTyAncAYM54iEqZrwtAAAAAElFTkSuQmCC\"","import PropertyPanel from './PropertyPanel';\r\nimport Preview from './Preview';\r\nimport data from '../common/data';\r\nimport icon from './icon.png';\r\n\r\nconst XType = 'EX_DETAILED_FIELD';\r\nconst Title = '明细';\r\n\r\nexport default {\r\n    xtype: XType,\r\n    title: Title,\r\n    icon: icon,\r\n    WidgetProperty: PropertyPanel,\r\n    Preview: Preview,\r\n    data() {\r\n        return {\r\n            ...data(),\r\n            xtype: XType,\r\n            title: Title,\r\n        }\r\n    }\r\n};","import React from 'react';\r\n\r\nimport PropertyForm from '../PropertyForm';\r\n\r\nimport CommonPropertyPanel from '../common/CommonPropertyPanel';\r\nimport ValidatePropertyPanel from '../common/ValidatePropertyPanel';\r\n\r\nexport default function (props) {\r\n\r\n    return (\r\n        <PropertyForm {...props}>\r\n            <CommonPropertyPanel />\r\n            <ValidatePropertyPanel />\r\n        </PropertyForm>\r\n    );\r\n}","import React from 'react';\r\nimport classNames from 'classnames';\r\nimport WidgetDropAccepter from '../../../src/panels/DesignPanel/WidgetDropAccepter';\r\nimport \"./Preview.scss\"\r\n\r\nexport default function (props) {\r\n    const item = props.item;\r\n    const designer = props.designer;\r\n    const classString = classNames({\r\n        // 'widget-preview-item-inner': true,\r\n        'widget-preview-item-detailed': true,\r\n        [props.className]: props.className\r\n    });\r\n    const items = designer.getItems(item.fieldId);\r\n\r\n    return (\r\n        <div\r\n            className={classString}\r\n        >\r\n            <label className=\"widget-preview-detailed-sub\">{item.title}</label>\r\n            <div className=\"widget-preview-detailed-list\">\r\n                <WidgetDropAccepter\r\n                    style={{\r\n                        width: 'auto',\r\n                        height: 'auto',\r\n                        minHeight: 150,\r\n                        paddingBottom: 10,\r\n                        border: 'none',\r\n                    }}\r\n                    items={items}\r\n                    pid={item.fieldId}\r\n                />\r\n            </div>\r\n        </div>\r\n    )\r\n}","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAv0lEQVRYR+2W4QnCMBBGXzfpJuoG3cBuYEdwFN3EbtARHKEbKB80UDFIhGuOwgX6r+R7eXdpr8F5Nc75BEAYWBs4AodKTXkHnspaA1yBAZg2htAhT8AjByALerZcr90AdIum2VhHsYGPFw0hAiAM7MeArl+6ioaXgGIDbfpeW6ZDOYBxLj1w8wJQsIzqP1NcAisDCj8DowdACtdhXAByFn+W4FJhIFEfZAeSGsNIMqLSfI1kVk331z4xlocBdwNvGE5RIQon4uUAAAAASUVORK5CYII=\"","import \"./index.scss\";","import { uuid } from '../../utils';\r\n\r\nexport default () => {\r\n    return {\r\n        $pid: null,\r\n        fieldId: uuid(),\r\n        fieldName: 'field_' + uuid(),\r\n        placeholder: \"请输入\",\r\n        dataType: 'varchar',\r\n        dataLength: '255',\r\n        required: '0',\r\n        defaultValue: '',\r\n        width: '100%',\r\n    }\r\n}","import React from 'react';\r\nimport {\r\n    Form,\r\n    FormItem,\r\n    NativeField,\r\n} from 'components/Form';\r\n\r\nimport 'components/Form/style/index.scss';\r\n\r\nexport default class PropertyPanel extends React.Component {\r\n\r\n    render() {\r\n        const { item, onChange, children } = this.props;\r\n\r\n        return (\r\n            <Form\r\n                onChange={onChange}\r\n                formValue={item}\r\n                labelWidth={60}\r\n            >\r\n                {children}\r\n            </Form>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport {\r\n    FormItem,\r\n    NativeField,\r\n} from 'components/Form';\r\nimport 'components/Form/style/index.scss';\r\nimport {\r\n    MultipleInputField,\r\n    DisplayField,\r\n    WidthInputField\r\n} from 'components/FormField';\r\nimport SingleCheck from 'components/HTMLForm/SingleCheck';\r\n\r\nexport default function () {\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"property-header-title\">基础属性</div>\r\n            <FormItem\r\n                className=\"design-property-field\"\r\n                label=\"控件ID\"\r\n                name=\"fieldId\"\r\n            >\r\n                <DisplayField />\r\n            </FormItem>\r\n            {/* <FormItem\r\n                className=\"design-property-field\"\r\n                label=\"字段名称\"\r\n                name=\"titlex\"\r\n            >\r\n                <MultipleInputField />\r\n            </FormItem> */}\r\n            <FormItem\r\n                className=\"design-property-field\"\r\n                label=\"字段名称\"\r\n                name=\"title\"\r\n            >\r\n                <NativeField\r\n                    component=\"input\"\r\n                />\r\n            </FormItem>\r\n            <FormItem\r\n                className=\"design-property-field\"\r\n                label=\"提示文本\"\r\n                name=\"placeholder\"\r\n            >\r\n                <NativeField\r\n                    component=\"input\"\r\n                />\r\n            </FormItem>\r\n            <FormItem\r\n                className=\"design-property-field\"\r\n                label=\"默认值\"\r\n                name=\"defaultValue\"\r\n            >\r\n                <NativeField\r\n                    component=\"input\"\r\n                />\r\n            </FormItem>\r\n            {/* <FormItem\r\n                className=\"design-property-field\"\r\n                label=\"宽度\"\r\n                name=\"width\"\r\n            >\r\n                <WidthInputField />\r\n            </FormItem> */}\r\n            {/* <FormItem\r\n                className=\"design-property-field\"\r\n                label=\"必填\"\r\n                name=\"required\"\r\n            >\r\n                <SingleCheck\r\n                    on=\"1\"\r\n                    off=\"0\"\r\n                />\r\n            </FormItem> */}\r\n        </div >\r\n    );\r\n}","import React from 'react';\r\nimport {\r\n    FormItem,\r\n    NativeField,\r\n} from 'components/Form';\r\nimport 'components/Form/style/index.scss';\r\nimport {\r\n    MultipleInputField,\r\n    DisplayField,\r\n    WidthInputField\r\n} from 'components/FormField';\r\nimport SingleCheck from 'components/HTMLForm/SingleCheck';\r\n\r\nexport default function () {\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"property-header-title\">输入校验</div>\r\n            <FormItem\r\n                className=\"design-property-field\"\r\n                label=\"必填\"\r\n                name=\"required\"\r\n            >\r\n                <SingleCheck\r\n                    on=\"1\"\r\n                    off=\"0\"\r\n                />\r\n            </FormItem>\r\n        </div >\r\n    );\r\n}","\r\n//设计平台\r\nconst P_PC = 1;\r\nconst P_MOBILE = 2;\r\nconst P_IPAD = 3;\r\n\r\nconst WIDGET_DRAG_DROP_SCOPE = '__WIDGET_DRAG_DROP_SCOPE__';\r\n\r\nexport {\r\n    P_PC,\r\n    P_MOBILE,\r\n    P_IPAD,\r\n    WIDGET_DRAG_DROP_SCOPE,\r\n}\r\n\r\n"],"sourceRoot":""}