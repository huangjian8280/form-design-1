{"version":3,"sources":["webpack:///./demo/components/FormField/index.js","webpack:///./demo/components/Form/FormContext.js","webpack:///./demo/components/Icon/index.js","webpack:///./demo/components/HTMLForm/SingleCheck.js","webpack:///./demo/index.js","webpack:///./src/index.js","webpack:///./src/Designer.js","webpack:///./src/DesignModel/index.js","webpack:///./src/DesignModel/Widget/index.js","webpack:///./src/DesignModel/Widget/Preview.js","webpack:///./src/DesignModel/Widget/DragPreview.js","webpack:///./src/DesignModel/Widget/PlaceholderPreview.js","webpack:///./src/DesignModel/Widget/WidgetProperty.js","webpack:///./demo/components/Form/index.js","webpack:///./src/panels/WidgetsPanel/index.js","webpack:///./src/panels/WidgetsPanel/WidgetItem.js","webpack:///./src/panels/PropertyPanel.js","webpack:///./src/panels/DesignPanel/index.js","webpack:///./src/panels/DesignPanel/WidgetDropAccepter.js","webpack:///./src/panels/DesignPanel/PreviewItem.js","webpack:///./demo/widgets/index.js","webpack:///./demo/widgets/TextField/index.js","webpack:///./demo/utils/index.js","webpack:///./demo/widgets/TextField/PropertyPanel.js","webpack:///./demo/components/Form/Form.js","webpack:///./src/DesignContext.js","webpack:///./demo/components/Form/FormItem.js","webpack:///./demo/components/Form/NativeField.js","webpack:///./demo/components/FormField/MultipleInputField.js","webpack:///./demo/components/FormField/DisplayField.js","webpack:///./demo/components/FormField/WidthInputField.js","webpack:///./demo/widgets/TextField/icon.png","webpack:///./demo/widgets/TextareaField/index.js","webpack:///./demo/widgets/TextareaField/PropertyPanel.js","webpack:///./demo/widgets/TextareaField/icon.png","webpack:///./demo/widgets/SelectField/index.js","webpack:///./demo/widgets/SelectField/PropertyPanel.js","webpack:///./demo/widgets/SelectField/icon.png","webpack:///./demo/widgets/URLField/index.js","webpack:///./demo/widgets/URLField/PropertyPanel.js","webpack:///./demo/widgets/URLField/icon.png","webpack:///./src/style/index.js","webpack:///./src/constants.js","webpack:///./demo/widgets/common/data.js","webpack:///./demo/widgets/PropertyForm.js","webpack:///./demo/widgets/common/CommonPropertyPanel.js","webpack:///./demo/widgets/common/ValidatePropertyPanel.js"],"names":["__webpack_require__","_MultipleInputField","_interopRequireDefault","_DisplayField","_WidthInputField","React","createContext","_react","_classnames","props","default","createElement","_extends2","className","type","checked","value","on","onChange","e","target","off","_reactDom","_src","_widgets","ReactDOM","render","_React$useState","useState","items","_React$useState2","_slicedToArray2","metadata","onMetadataChange","style","margin","width","minHeight","widgets","document","getElementById","_reactDnd","_reactDndHtml5Backend","_Designer","DragDropContext","HTML5Backend","Designer","_propTypes","_DesignModel","_WidgetsPanel","_PropertyPanel","_DesignPanel","_constants","_this$props","_this","_objectSpread2","_this$props2","this","platform","handleModelChange","Component","PropTypes","array","oneOf","P_PC","P_MOBILE","P_IPAD","object","_DesignContext","_Widget","_find","_findIndex","DesignModel","widgetsMap","activeId","xtype","state","concat","setState","getItem","_toConsumableArray2","item","getItems","fieldId","idx","getItemIndex","push","ret","filter","oIdx","splice","getWidget","bind","getWidgets","setActiveId","getActiveId","getActiveItem","addItem","updateItem","removeItem","insertBefore","insertAfter","children","Provider","getModel","map","widget","w","Widget","_reactIs","_Preview","_DragPreview","_PlaceholderPreview","_WidgetProperty","options","arguments","length","undefined","_classCallCheck2","$$widget","title","icon","Preview","isValidElementType","WPreview","DragPreview","WDragPreview","PlaceholderPreview","WPlaceholderPreview","WidgetProperty","WWidgetProperty","data","name","classString","_defineProperty2","widget-preview-item-inner","placeholder","_ref","_Form","_FormItem","_NativeField","Form","Item","FormItem","NativeField","_WidgetItem","WidgetsPanel","context","key","DesignContext","WidgetItem","disabled","connectDragSource","isDragging","_widget$title","widget-item","widget-item-dragging","widget-item-disabled","src","DragSource","WIDGET_DRAG_DROP_SCOPE","beginDrag","isWidgetDragging","connect","monitor","dragSource","PropertyPanel","designer","activeItem","padding","textAlign","onItemChange","_WidgetDropAccepter","DesignPanel","_PreviewItem","WidgetDropAccepter","i","dragItem","connectDropTarget","isOver","canDrop","design-layout-container","drag-over","dropable","renderItem","rendrePlaceholder","DropTarget","drop","component","didDrop","dropTarget","shallow","_flow","_get","dropSpec","hover","placeholderPosition","dragItemFieldId","isSortMode","dragOffset","getClientOffset","previewDOM","findDOMNode","targetOffset","querySelector","getBoundingClientRect","middleY","bottom","height","y","pos","_dropTarget","id","dropId","dropPos","WidgetPreviewItem","widget-preview-item-wrapper","droppable","dragging","ref","widget-preview-item","widget-preview-item-selected","onClick","handlePreviewClick","handleRemove","isPreviewDragging","_TextField","_TextareaField","_SelectField","_URLField","TextField","TextareaField","SelectField","URLField","_data2","_icon","Math","random","toString","slice","_PropertyForm","_CommonPropertyPanel","_ValidatePropertyPanel","_asyncValidator","_set","_scrollIntoView","_FormContext","AsyncValidator","warning","formError","validatingFields","formValue","formDefaultValue","field","fields","indexOf","path2obj","event","cb","nextFormValue","_objectSpread5","_valiateCb","validateProcess","forEach","errors","fieldRules","fieldProps","rules","validator","_isArray","required","unshift","apply","_this2","_this$state","getValue","getFieldRules","descriptor","validate","firstFields","message","Function","callback","_this3","_keys","error","_this4","f","getDOM","set","form","prefixCls","onSubmit","getFormContext","nextProps","prevState","string","bool","validateDelay","number","validateTrigger","node","oneOfType","func","labelWidth","labelPosition","alignItems","inline","validateFieldsAndScroll","showMessage","getFormItemInputProps","_classnames2","dom","_dom","addField","removeField","isRequired","some","rule","getValidateTrigger","getValidateDelay","_validateTimer","clearTimeout","setTimeout","validateField","setValue","formProps","normalize","label","labelFor","help","_this$getLabelProps","getLabelProps","getError","validating","isValidatingField","Children","only","_children$props","onBlur","getInputProps","onFieldChange","onFieldBlur","InputComponent","cloneElement","saveDOM","htmlFor","FormContext","_props$component","inputRef","others","_objectWithoutProperties2","_Icon","MultipleInputField","defaultValue","sIndex","_assertThisInitialized2","onAddItem","onRemoveItem","index","text","max","getUnit","test","toValue","_parseFloat2","isNaN","WidthInputField","_getPrototypeOf2","_len","a","Array","_key","_possibleConstructorReturn2","_getPrototypeOf3","call","unit","min","v","onUnitChange","handleInputChange","renderSuffix","module","exports","_FormField","_utils","uuid","fieldName","dataType","dataLength","DisplayField","_SingleCheck"],"mappings":"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","file":"js/index.0d6ad247.chunk.js","sourcesContent":["import \"./style/index.scss\"\r\n\r\nimport MultipleInputField from './MultipleInputField';\r\nimport DisplayField from './DisplayField';\r\nimport WidthInputField from './WidthInputField';\r\n\r\nexport {\r\n    MultipleInputField,\r\n    DisplayField,\r\n    WidthInputField,\r\n}","import React from 'react';\r\n\r\nexport default React.createContext({});\r\n","import React from 'react';\r\nimport classNames from 'classnames';\r\n\r\nexport default (props) => {\r\n\r\n    return <span {...props} className={\r\n        classNames(props.className, 'icon-' + props.type)\r\n    } />\r\n}","import React from 'react';\r\nimport { FormItem, NativeField } from '../Form'\r\nimport classNames from 'classnames';\r\n\r\nexport default function Checkbox(props) {\r\n\r\n    const onChange = (e) => {\r\n        const target = e.target;\r\n        if (target.checked) {\r\n            props.onChange && props.onChange(props.on);\r\n        } else {\r\n            props.onChange && props.onChange(props.off);\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <input\r\n            {...props}\r\n            checked={props.value === props.on}\r\n            type=\"checkbox\"\r\n            onChange={onChange}\r\n        />\r\n    );\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport FormDesigner from '../src';\r\n\r\nimport widgets from './widgets';\r\n\r\nimport '../src/style';\r\n\r\nfunction App() {\r\n    const [metadata, onMetadataChange] = React.useState({\r\n        items: []\r\n    })\r\n\r\n    return (\r\n        <div style={{\r\n            margin: \"30px auto\",\r\n            width: 1400,\r\n            minHeight: 500\r\n        }}>\r\n            <FormDesigner\r\n                widgets={widgets}\r\n                metadata={metadata}\r\n                onChange={onMetadataChange}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))","import { DragDropContext } from 'react-dnd'\r\nimport HTML5Backend from 'react-dnd-html5-backend'\r\nimport Designer from './Designer';\r\n\r\nexport default DragDropContext(HTML5Backend)(Designer);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport DesignModel from './DesignModel';\r\nimport WidgetsPanel from './panels/WidgetsPanel';\r\nimport PropertyPanel from './panels/PropertyPanel';\r\nimport DesignPanel from './panels/DesignPanel';\r\n\r\nimport {\r\n    P_PC,\r\n    P_MOBILE,\r\n    P_IPAD,\r\n} from './constants';\r\n\r\nexport default class Designer extends React.Component {\r\n    static propTypes = {\r\n        widgets: PropTypes.array,\r\n        platform: PropTypes.oneOf([P_PC, P_MOBILE, P_IPAD]),\r\n        metadata: PropTypes.object,\r\n    }\r\n\r\n    static defaultProps = {\r\n        onChange: null,\r\n        platform: P_PC,\r\n        widgets: [],\r\n        metadata: {\r\n            items: [],\r\n        }\r\n    }\r\n\r\n    handleModelChange = (items) => {\r\n        const { onChange, metadata } = this.props;\r\n\r\n        onChange && onChange({\r\n            ...metadata,\r\n            items,\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { widgets, metadata, platform } = this.props;\r\n\r\n        return (\r\n            <DesignModel\r\n                widgets={widgets}\r\n                items={metadata.items}\r\n                platform={platform}\r\n                onChange={this.handleModelChange}\r\n            >\r\n                <div className=\"csos-form-designer\">\r\n                    <div className=\"csos-form-designer-container\">\r\n                        <WidgetsPanel />\r\n                        <DesignPanel />\r\n                        <PropertyPanel />\r\n                    </div>\r\n                </div>\r\n            </DesignModel>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport DesignContext from '../DesignContext';\r\nimport Widget from './Widget';\r\n\r\nimport find from 'lodash/find';\r\nimport findIndex from 'lodash/findIndex';\r\n\r\nexport default class DesignModel extends React.Component {\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        const widgetsMap = {};\r\n        const widgets = props.widgets.map(widget => {\r\n            const w = new Widget(widget);\r\n            widgetsMap[widget.xtype] = w;\r\n            return w;\r\n        });\r\n\r\n        return {\r\n            widgets,\r\n            widgetsMap,\r\n            items: props.items || [],\r\n        }\r\n    }\r\n\r\n    static defaultProps = {\r\n        onChange: null,\r\n        widgets: [],\r\n        items: [],\r\n    }\r\n\r\n    state = {\r\n        widgets: [],\r\n        widgetsMap: {},\r\n        items: [],\r\n        activeId: null\r\n    }\r\n\r\n    onChange(items) {\r\n        const props = this.props;\r\n        const { onChange } = props;\r\n\r\n        if (onChange) {\r\n            onChange(items);\r\n        }\r\n    }\r\n\r\n    getWidget(xtype) {\r\n        const { widgetsMap } = this.state;\r\n        return widgetsMap[xtype] || null;\r\n    }\r\n\r\n    // isWidget(widget) {\r\n    //     return !!widget.$$widget;\r\n    // }\r\n\r\n    getWidgets() {\r\n        const { widgets } = this.state;\r\n        return [].concat(widgets);\r\n    }\r\n\r\n    setActiveId(activeId) {\r\n        this.setState({\r\n            activeId\r\n        });\r\n    }\r\n\r\n    getActiveId() {\r\n        return this.state.activeId;\r\n    }\r\n\r\n    getActiveItem() {\r\n        const activeId = this.state.activeId;\r\n\r\n        return this.getItem(activeId) || null;\r\n    }\r\n\r\n    getItems() {\r\n        return [...this.state.items];\r\n    }\r\n\r\n    updateItem(item) {\r\n        const items = this.getItems();\r\n        const fieldId = item.fieldId;\r\n        const idx = this.getItemIndex(fieldId);\r\n\r\n        if (idx !== -1) {\r\n            items[idx] = item;\r\n        }\r\n\r\n        this.onChange(items);\r\n    }\r\n\r\n    addItem(item) {\r\n        const items = this.getItems();\r\n\r\n        items.push(item);\r\n\r\n        this.onChange(items);\r\n    }\r\n\r\n    removeItem(fieldId) {\r\n        const items = this.getItems();\r\n        const ret = items.filter(item => item.fieldId !== fieldId);\r\n\r\n        this.onChange(ret);\r\n    }\r\n\r\n    getItemIndex(fieldId) {\r\n        const items = this.getItems();\r\n        return findIndex(items, item => item.fieldId === fieldId)\r\n    }\r\n\r\n    getItem(fieldId) {\r\n        const items = this.getItems();\r\n        return find(items, item => item.fieldId === fieldId)\r\n    }\r\n\r\n    insertBefore(item, fieldId) {\r\n        const items = this.getItems();\r\n\r\n        //判断当前item是否已经存在, 如果存在则先删除\r\n        const oIdx = this.getItemIndex(item.fieldId);\r\n        if (oIdx > -1) {\r\n            items.splice(oIdx, 1);\r\n        }\r\n\r\n        //插入操作\r\n        const idx = this.getItemIndex(fieldId);\r\n        items.splice(idx, 0, item);\r\n\r\n        this.onChange(items);\r\n    }\r\n\r\n    insertAfter(item, fieldId) {\r\n        const items = this.getItems();\r\n\r\n        //判断当前item是否已经存在, 如果存在则先删除\r\n        const oIdx = this.getItemIndex(item.fieldId);\r\n        if (oIdx > -1) {\r\n            items.splice(oIdx, 1);\r\n        }\r\n\r\n        //插入操作\r\n        const idx = this.getItemIndex(fieldId);\r\n        items.splice(idx, 1, items[idx], item);\r\n\r\n        this.onChange(items);\r\n    }\r\n\r\n    getModel() {\r\n        return {\r\n            //   isWidget: this.isWidget.bind(this),\r\n            getWidget: this.getWidget.bind(this),\r\n            getWidgets: this.getWidgets.bind(this),\r\n            setActiveId: this.setActiveId.bind(this),\r\n            getActiveId: this.getActiveId.bind(this),\r\n            getActiveItem: this.getActiveItem.bind(this),\r\n            addItem: this.addItem.bind(this),\r\n            updateItem: this.updateItem.bind(this),\r\n            getItems: this.getItems.bind(this),\r\n            removeItem: this.removeItem.bind(this),\r\n            getItemIndex: this.getItemIndex.bind(this),\r\n            getItem: this.getItem.bind(this),\r\n            insertBefore: this.insertBefore.bind(this),\r\n            insertAfter: this.insertAfter.bind(this),\r\n        };\r\n    }\r\n\r\n    render() {\r\n        const { children } = this.props;\r\n        return (\r\n            <DesignContext.Provider value={this.getModel()}>\r\n                {children}\r\n            </DesignContext.Provider>\r\n        )\r\n    }\r\n}","\r\nimport React from 'react';\r\nimport { isValidElementType } from 'react-is';\r\nimport WPreview from './Preview';\r\nimport WDragPreview from './DragPreview';\r\nimport WPlaceholderPreview from './PlaceholderPreview';\r\nimport WWidgetProperty from './WidgetProperty';\r\n\r\nexport default class Widget {\r\n    /**\r\n         *\r\n         * @param {object} options 控件基本信息: 名称 图标 属性面板组件 预览组件 属性等\r\n         * @param {string} optopns.xtype 控件ID\r\n         * @param {string} optopns.title 控件名称\r\n         * @param {string} optopns.icon  控件图标\r\n         * @param {ReactElementType} optopns.Preview  控件拖放后预览组件\r\n         * @param {ReactElementType} optopns.DragPreview  控件拖拽时预览组件\r\n         * @param {ReactElementType} optopns.PlaceholderPreview  控件拖拽时占位预览组件\r\n         * @param {ReactElementType} optopns.WidgetProperty  控件属性面板组件\r\n         * @param {function|object} optopns.data 控件属性\r\n         * @memberof WidgetManager\r\n         */\r\n    constructor(options = {}) {\r\n        this.$$widget = true;\r\n        this.options = options;\r\n\r\n        this.xtype = options.xtype;\r\n        this.title = options.title;\r\n        this.icon = options.icon;\r\n\r\n        this.Preview = isValidElementType(options.Preview) ? options.Preview : WPreview;\r\n        this.DragPreview = isValidElementType(options.DragPreview) ? options.DragPreview : WDragPreview;\r\n        this.PlaceholderPreview = isValidElementType(options.PlaceholderPreview) ? options.PlaceholderPreview : WPlaceholderPreview;\r\n        this.WidgetProperty = isValidElementType(options.WidgetProperty) ? options.WidgetProperty : WWidgetProperty;\r\n\r\n    }\r\n\r\n    getItem() {\r\n        const data = this.options.data;\r\n        const ret = typeof data === 'function' ? data() : data;\r\n\r\n        return {\r\n            ...ret,\r\n            xtype: this.xtype,\r\n        }\r\n    }\r\n\r\n    get(name) {\r\n        return this.options[name];\r\n    }\r\n\r\n    set(name, value) {\r\n        this.options[name] = value;\r\n\r\n        return this;\r\n    }\r\n\r\n}","import React from 'react';\r\nimport classNames from 'classnames';\r\n\r\nexport default function (props) {\r\n    const item = props.item;\r\n    const classString = classNames({\r\n        'widget-preview-item-inner': true,\r\n        [props.className]: props.className\r\n    });\r\n\r\n    return (\r\n        <div\r\n            className={classString}\r\n        >\r\n            <label className=\"widget-preview-title\">{item.title}</label>\r\n            <span className=\"widget-preview-input\">{item.placeholder}</span>\r\n            {/* <span className=\"widget-preview-close\" onClick={onRemove}>x</span> */}\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\n\r\nexport default () => {\r\n    return null;\r\n}","import React from 'react';\r\n\r\nexport default function WidgetPlaceholderItem() {\r\n\r\n    return (\r\n        <div className=\"drag-item-placeholder\">\r\n            <div className=\"drag-item-placeholder-inner\">\r\n            </div>\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\n\r\nexport default ({\r\n    item,\r\n    onChange\r\n}) => {\r\n\r\n    return (\r\n        <div>\r\n            默认属性面板\r\n        </div>\r\n    );\r\n}","import Form from './Form';\r\nimport FormItem from './FormItem';\r\nimport NativeField from './NativeField';\r\n\r\nexport {\r\n    Form,\r\n    FormItem,\r\n    NativeField,\r\n};\r\n\r\nForm.Item = FormItem;\r\nForm.NativeField = NativeField;\r\n\r\nexport default Form;","import React from 'react';\r\nimport DesignContext from '../../DesignContext';\r\nimport WidgetItem from './WidgetItem';\r\n\r\nexport default class WidgetsPanel extends React.Component {\r\n\r\n    static contextType = DesignContext;\r\n\r\n    render() {\r\n        const designer = this.context;\r\n        const widgets = designer.getWidgets();\r\n\r\n        return (\r\n            <div className=\"widgets-panel\">\r\n                <div className=\"widgets-panel-header\">\r\n                    控件列表\r\n                </div>\r\n                <div className=\"widgets-panel-body\">\r\n                    {\r\n                        widgets.map(widget => {\r\n                            return (\r\n                                <WidgetItem key={widget.xtype} widget={widget} />\r\n                            );\r\n                        })\r\n                    }\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport {\r\n    DragSource,\r\n    DropTarget,\r\n} from 'react-dnd';\r\nimport cx from 'classnames';\r\nimport {\r\n    WIDGET_DRAG_DROP_SCOPE\r\n} from '../../constants';\r\n\r\nconst spec = {\r\n    beginDrag(props) {\r\n        const widget = props.widget;\r\n        const item = widget.getItem();\r\n        return {\r\n            isWidgetDragging: true,\r\n            widget,\r\n            item,\r\n        };\r\n    },\r\n    // endDrag(props, monitor, component) {\r\n    //     console.log('endDrag')\r\n    // },\r\n    // canDrag(props) {\r\n    //     return !props.disabled;\r\n    // }\r\n};\r\n\r\nconst collect = (connect, monitor) => {\r\n    return {\r\n        connectDragSource: connect.dragSource(),\r\n        isDragging: monitor.isDragging(),\r\n    };\r\n};\r\n\r\nclass WidgetItem extends React.Component {\r\n\r\n    render() {\r\n        const { disabled, widget, connectDragSource, isDragging } = this.props;\r\n        const { title = \"未知组件\", icon } = widget;\r\n        return connectDragSource(\r\n            <div className={cx({\r\n                \"widget-item\": true,\r\n                \"widget-item-dragging\": isDragging,\r\n                \"widget-item-disabled\": disabled,\r\n            })}>\r\n                <div className=\"widget-item-title\">\r\n                    <img src={icon} />\r\n                    <span className=\"widget-text\">{title}</span>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DragSource(WIDGET_DRAG_DROP_SCOPE, spec, collect)(WidgetItem);","import React from 'react';\r\nimport DesignContext from '../DesignContext';\r\n// import { getWidgetPropertyPanel } from './widgets';\r\n// import {\r\n//     Form,\r\n//     FormItem,\r\n//     NativeField,\r\n// } from 'components/Form';\r\n\r\nexport default class PropertyPanel extends React.Component {\r\n\r\n    static contextType = DesignContext;\r\n\r\n    onItemChange = (item) => {\r\n        const designer = this.context;\r\n        const activeItem = designer.getActiveItem();\r\n\r\n        designer.updateItem({\r\n            ...activeItem,\r\n            ...item,\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const designer = this.context;\r\n        const activeItem = designer.getActiveItem();\r\n        if (!activeItem) {\r\n            return (\r\n                <div className=\"property-panel\">\r\n                    <div style={{ padding: 30, textAlign: 'center' }}>请先选择控件</div>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        const widget = designer.getWidget(activeItem.xtype);\r\n\r\n        if (!widget) {\r\n            return (\r\n                <div className=\"property-panel\">\r\n                    <div style={{ padding: 30, textAlign: 'center' }}>无.</div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div className=\"property-panel\">\r\n                <widget.WidgetProperty\r\n                    widget={widget}\r\n                    onChange={this.onItemChange}\r\n                    item={{ ...activeItem }}\r\n                    key={activeItem.fieldId}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport WidgetDropAccepter from './WidgetDropAccepter';\r\n\r\nexport default class DesignPanel extends React.Component {\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div className=\"design-panel\">\r\n                <WidgetDropAccepter />\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport {\r\n    DragSource,\r\n    DropTarget,\r\n} from 'react-dnd';\r\nimport cx from 'classnames';\r\nimport {\r\n    WIDGET_DRAG_DROP_SCOPE\r\n} from '../../constants';\r\nimport DesignContext from '../../DesignContext';\r\n\r\nimport PreviewItem from './PreviewItem';\r\n\r\nconst spec = {\r\n    canDrop(props, monitor) {\r\n        const dragItem = monitor.getItem();\r\n        return dragItem.isWidgetDragging;\r\n        // return isWidget(item);\r\n    },\r\n    // hover() {\r\n    //     console.log('WidgetDropAccepter over...')\r\n    // },\r\n    drop(props, monitor, component) {\r\n        if (monitor.didDrop()) {\r\n            // console.log('widget has did drop')\r\n            return;\r\n        }\r\n        const dragItem = monitor.getItem();\r\n        const designer = component.context;\r\n        designer.addItem(dragItem.item);\r\n    }\r\n};\r\n\r\nconst collect = (connect, monitor) => {\r\n    return {\r\n        connectDropTarget: connect.dropTarget(),\r\n        isOver: monitor.isOver({ shallow: true }),\r\n        canDrop: monitor.canDrop(),\r\n        dragItem: monitor.getItem(),\r\n    }\r\n}\r\n\r\nclass WidgetDropAccepter extends React.Component {\r\n\r\n    static contextType = DesignContext;\r\n\r\n    rendrePlaceholder() {\r\n        const { dragItem } = this.props;\r\n        const { widget, item } = dragItem\r\n\r\n        return (\r\n            <widget.PlaceholderPreview widget={widget} item={item} />\r\n        );\r\n    }\r\n\r\n    renderItem = (item, i) => {\r\n        const designer = this.context;\r\n        const xtype = item.xtype;\r\n        const widget = designer.getWidget(xtype);\r\n\r\n        return <PreviewItem key={item.fieldId} widget={widget} item={item} />\r\n    }\r\n\r\n    render() {\r\n        const { connectDropTarget, isOver, canDrop, dragItem } = this.props;\r\n        const designer = this.context;\r\n        const items = designer.getItems();\r\n\r\n        return connectDropTarget(\r\n            <div className={cx({\r\n                \"design-layout-container\": true,\r\n                \"drag-over\": isOver,\r\n                \"dropable\": canDrop,\r\n            })}>\r\n                {\r\n                    items.map(this.renderItem)\r\n                }\r\n                {\r\n                    isOver && dragItem.isWidgetDragging ? this.rendrePlaceholder() : null\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DropTarget(WIDGET_DRAG_DROP_SCOPE, spec, collect)(WidgetDropAccepter);","import React from 'react';\r\nimport { findDOMNode } from 'react-dom';\r\nimport flow from 'lodash/flow';\r\nimport get from 'lodash/get';\r\nimport {\r\n    DragSource,\r\n    DropTarget,\r\n} from 'react-dnd';\r\nimport cx from 'classnames';\r\nimport {\r\n    WIDGET_DRAG_DROP_SCOPE\r\n} from '../../constants';\r\nimport DesignContext from '../../DesignContext';\r\n\r\nconst dragSpec = {\r\n    beginDrag(props) {\r\n        const widget = props.widget;\r\n        const item = props.item;\r\n        return {\r\n            isWidgetDragging: false,\r\n            isPreviewDragging: false,\r\n            widget: widget,\r\n            item: item,\r\n        };\r\n    },\r\n    // endDrag(props, monitor, component) {\r\n    //     console.log('endDrag')\r\n    // }\r\n};\r\n\r\nconst dragCollect = (connect, monitor) => {\r\n    return {\r\n        connectDragSource: connect.dragSource(),\r\n        isDragging: monitor.isDragging(),\r\n    };\r\n}\r\n\r\nconst dropSpec = {\r\n\r\n    canDrop(props, monitor, component) {\r\n        const dragItem = monitor.getItem();\r\n        if (dragItem.isWidgetDragging) return true;\r\n\r\n        return props.item.fieldId !== dragItem.item.fieldId;\r\n    },\r\n\r\n    hover(props, monitor, component) {\r\n        const { placeholderPosition } = component.state;\r\n        const designer = component.context;\r\n        const { item } = props;\r\n        const dragItem = monitor.getItem();\r\n        const dragItemFieldId = dragItem.item.fieldId;\r\n        let isSortMode = false;\r\n\r\n        if (!dragItem.isWidgetDragging) {\r\n            isSortMode = true;\r\n        }\r\n\r\n        const dragOffset = monitor.getClientOffset();\r\n        const previewDOM = findDOMNode(component);\r\n\r\n        if (isSortMode) {\r\n            //顺序调整模式\r\n            if (item.fieldId === dragItemFieldId) {\r\n                return;\r\n            } else {\r\n                const targetOffset = previewDOM.querySelector('.widget-preview-item').getBoundingClientRect();\r\n                const middleY = targetOffset.bottom - (targetOffset.height / 2);\r\n                if (dragOffset.y <= middleY) {\r\n                    designer.insertBefore(dragItem.item, item.fieldId);\r\n                } else {\r\n                    designer.insertAfter(dragItem.item, item.fieldId);\r\n                }\r\n            }\r\n\r\n        } else {\r\n            //新增模式\r\n            const targetOffset = previewDOM.getBoundingClientRect();\r\n            const middleY = targetOffset.bottom - (targetOffset.height / 2);\r\n\r\n            let pos = 'none';\r\n\r\n            if (dragOffset.y <= middleY) {\r\n                pos = 'top';\r\n            } else {\r\n                pos = 'bottom';\r\n            }\r\n            //设置放置位置\r\n            if (placeholderPosition !== pos) {\r\n                dragItem._dropTarget = {\r\n                    id: item.fieldId,\r\n                    pos,\r\n                }\r\n\r\n                component.setState({\r\n                    placeholderPosition: pos\r\n                });\r\n            }\r\n\r\n        }\r\n\r\n    },\r\n\r\n    drop(props, monitor, component) {\r\n        const designer = component.context;\r\n        let dragItem = monitor.getItem();\r\n\r\n        if (!dragItem.isWidgetDragging) {\r\n            return;\r\n        }\r\n\r\n        const dropId = get(dragItem, '_dropTarget.id', null);\r\n        const dropPos = get(dragItem, '_dropTarget.pos', 'none');\r\n\r\n        delete dragItem._dropTarget;\r\n\r\n        if (dropId) {\r\n            if (dropPos === 'top') {\r\n                designer.insertBefore(dragItem.item, dropId);\r\n            } else if (dropPos === 'bottom') {\r\n                designer.insertAfter(dragItem.item, dropId);\r\n            } else {\r\n                designer.addItem(dragItem.item);\r\n            }\r\n        } else {\r\n            designer.addItem(dragItem.item);\r\n        }\r\n    }\r\n};\r\n\r\nconst dropCollect = (connect, monitor) => {\r\n    return {\r\n        connectDropTarget: connect.dropTarget(),\r\n        isOver: monitor.isOver({ shallow: true }),\r\n        canDrop: monitor.canDrop(),\r\n        dragItem: monitor.getItem(),\r\n    }\r\n}\r\n\r\nclass WidgetPreviewItem extends React.Component {\r\n\r\n    static contextType = DesignContext;\r\n\r\n    state = {\r\n        placeholderPosition: 'none', //none after before top bottom\r\n    }\r\n\r\n    handlePreviewClick(item) {\r\n        const designer = this.context;\r\n        designer.setActiveId(item.fieldId);\r\n    }\r\n\r\n    handleRemove = () => {\r\n        const designer = this.context;\r\n        const { item } = this.props;\r\n        designer.removeItem(item.fieldId)\r\n    }\r\n\r\n    render() {\r\n        const { connectDropTarget, connectDragSource, isDragging, isOver, widget, item, dragItem } = this.props;\r\n        const { placeholderPosition } = this.state;\r\n        const designer = this.context;\r\n        const activeId = designer.getActiveId();\r\n        //如果来源不是组建面板,则是排序模式\r\n        const isSortMode = dragItem && !dragItem.isWidgetDragging;\r\n        // const items = layout.getLayoutChildren(data.id);\r\n\r\n        return connectDropTarget(\r\n            <div className={cx({\r\n                \"widget-preview-item-wrapper\": true,\r\n                \"droppable\": isOver,\r\n                \"dragging\": isDragging,\r\n                // \"drop-tips\": canDrop,\r\n            })}>\r\n                {placeholderPosition === 'top' && isOver && !isSortMode ? <widget.PlaceholderPreview /> : null}\r\n                <div\r\n                    ref={connectDragSource}\r\n                    className={cx({\r\n                        \"widget-preview-item\": true,\r\n                        \"widget-preview-item-selected\": activeId === item.fieldId,\r\n                    })}\r\n                    onClick={this.handlePreviewClick.bind(this, item)}\r\n                >\r\n                    <widget.Preview item={item} />\r\n                    <span className=\"widget-preview-close\" onClick={this.handleRemove}>x</span>\r\n                </div>\r\n                {placeholderPosition === 'bottom' && isOver && !isSortMode ? <widget.PlaceholderPreview /> : null}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default flow(\r\n    DropTarget(WIDGET_DRAG_DROP_SCOPE, dropSpec, dropCollect),\r\n    DragSource(WIDGET_DRAG_DROP_SCOPE, dragSpec, dragCollect),\r\n)(WidgetPreviewItem)","import TextField from './TextField';\r\nimport TextareaField from './TextareaField';\r\nimport SelectField from './SelectField';\r\n// import MultiSelectField from './MultiSelectField';\r\n// import NumberField from './NumberField';\r\n// import DateField from './DateField';\r\nimport URLField from './URLField';\r\n// import FileField from './FileField';\r\n\r\nexport default [\r\n    TextField,\r\n    TextareaField,\r\n    SelectField,\r\n    // MultiSelectField,\r\n    // NumberField,\r\n    // DateField,\r\n    URLField,\r\n    // FileField,\r\n];","import data from '../common/data';\r\nimport PropertyPanel from './PropertyPanel';\r\nimport icon from './icon.png';\r\n\r\nconst XType = 'EX_TEXT_FIELD';\r\nconst Title = '文本';\r\n\r\nexport default {\r\n    xtype: \"EX_TEXT_FIELD\",\r\n    title: \"文本\",\r\n    icon: icon,\r\n    WidgetProperty: PropertyPanel,\r\n\r\n    data() {\r\n        return {\r\n            ...data(),\r\n            xtype: XType,\r\n            title: Title,\r\n        }\r\n    }\r\n};","export function uuid() {\r\n    return Math.random().toString(16).slice(2, 8);\r\n}\r\n","import React from 'react';\r\nimport PropertyForm from '../PropertyForm';\r\n// import {\r\n//     FormItem,\r\n//     NativeField,\r\n// } from 'components/Form';\r\n\r\nimport CommonPropertyPanel from '../common/CommonPropertyPanel';\r\nimport ValidatePropertyPanel from '../common/ValidatePropertyPanel';\r\n\r\nexport default function (props) {\r\n\r\n    return (\r\n        <PropertyForm {...props}>\r\n            <CommonPropertyPanel />\r\n            <ValidatePropertyPanel />\r\n        </PropertyForm>\r\n    );\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classnames from 'classnames';\r\nimport AsyncValidator from 'async-validator';\r\nimport set from 'lodash/set';\r\nimport get from 'lodash/get';\r\nimport scrollIntoView from 'bplokjs-dom-utils/scrollIntoView';\r\nimport FormContext from './FormContext';\r\n\r\nAsyncValidator.warning = function () { };\r\n\r\nexport default class Form extends React.Component {\r\n    static propTypes = {\r\n        prefixCls: PropTypes.string,\r\n        className: PropTypes.string,\r\n        style: PropTypes.object,\r\n        path2obj: PropTypes.bool,\r\n        formDefaultValue: PropTypes.object,\r\n        formValue: PropTypes.object,\r\n        validateDelay: PropTypes.number,\r\n        validateTrigger: PropTypes.string, //change blur none\r\n        component: PropTypes.node,\r\n        rules: PropTypes.oneOfType([PropTypes.object, PropTypes.array, PropTypes.func]),\r\n        labelWidth: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n        labelPosition: PropTypes.oneOf(['top', 'left', 'right']),\r\n        alignItems: PropTypes.oneOf(['top', 'center', 'bottom']),\r\n        inline: PropTypes.bool,\r\n        onSubmit: PropTypes.func,\r\n        onChange: PropTypes.func,\r\n        validateFieldsAndScroll: PropTypes.bool,\r\n        showMessage: PropTypes.bool,\r\n        getFormItemInputProps: PropTypes.func,\r\n    }\r\n\r\n    static defaultProps = {\r\n        prefixCls: 'rw-form',\r\n        className: '',\r\n        style: {},\r\n        rules: {},\r\n        path2obj: true,\r\n        component: 'form',\r\n        validateDelay: 0,\r\n        validateTrigger: 'none',\r\n        labelPosition: 'left',\r\n        alignItems: \"center\",\r\n        inline: false,\r\n        showMessage: true,\r\n    }\r\n\r\n    static getDerivedStateFromProps(nextProps, prevState) {\r\n        return {\r\n            formValue: nextProps.formValue || prevState.formValue,\r\n        }\r\n    }\r\n\r\n    fields = []\r\n    _valiateCb = []\r\n\r\n    state = {\r\n        formError: {},\r\n        validatingFields: {},\r\n        formValue: this.props.formDefaultValue || {},\r\n    }\r\n\r\n    addField(field) {\r\n        this.fields.push(field);\r\n    }\r\n\r\n    removeField(field) {\r\n        var idx = this.fields.indexOf(field);\r\n        if (idx !== -1) {\r\n            this.fields.splice(idx, 1);\r\n        }\r\n    }\r\n\r\n    getValue(name) {\r\n        const path2obj = this.props.path2obj;\r\n        const formValue = this.state.formValue;\r\n        if (path2obj) {\r\n            return get(formValue, name);\r\n        }\r\n        return formValue[name];\r\n    }\r\n\r\n    setValue(name, value, event, cb) {\r\n        const { path2obj, onChange } = this.props;\r\n        const formValue = this.state.formValue;\r\n\r\n        const nextFormValue = {\r\n            ...formValue\r\n        };\r\n\r\n        if (path2obj) {\r\n            set(nextFormValue, name, value);\r\n        } else {\r\n            nextFormValue[name] = value;\r\n        }\r\n\r\n        if (!('formValue' in this.props)) {\r\n            this.setState({\r\n                formValue: nextFormValue\r\n            });\r\n        }\r\n\r\n        if (onChange) {\r\n            onChange(nextFormValue, event);\r\n        }\r\n\r\n        if (cb) {\r\n            this._valiateCb.push(cb);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        const formValue = this.state.formValue;\r\n        const validateProcess = this._valiateCb;\r\n        this._valiateCb = [];\r\n        validateProcess.forEach(cb => {\r\n            cb(formValue);\r\n        });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._valiateCb = [];\r\n    }\r\n\r\n    getError(name) {\r\n        const { formError } = this.state;\r\n        if (!arguments.length) return formError;\r\n        return formError[name];\r\n    }\r\n\r\n    cleanErrors() {\r\n        this.setState({\r\n            validatingFields: {},\r\n            formError: {}\r\n        });\r\n    }\r\n\r\n    setErrors(errors) {\r\n        const { formError } = this.state;\r\n        this.setState({\r\n            ...formError,\r\n            ...errors\r\n        });\r\n    }\r\n\r\n    getFieldRules(name) {\r\n        const fieldRules = [];\r\n        this.fields\r\n            .filter(field => field.props.name === name)\r\n            .forEach(field => {\r\n                const fieldProps = field.props;\r\n                let rules = fieldProps.rules || [];\r\n                if (typeof rules === 'function') {\r\n                    rules = [\r\n                        {\r\n                            validator: rules\r\n                        }\r\n                    ]\r\n                } else if (!Array.isArray(rules)) {\r\n                    rules = [rules];\r\n                }\r\n                if (fieldProps.required) {\r\n                    rules.unshift({\r\n                        required: true\r\n                    });\r\n                }\r\n\r\n                fieldRules.push(...rules);\r\n            });\r\n\r\n        let rules = this.props.rules[name] || [];\r\n        if (rules) {\r\n            if (typeof rules === 'function') {\r\n                rules = [\r\n                    {\r\n                        validator: rules\r\n                    }\r\n                ]\r\n            } else if (!Array.isArray(rules)) {\r\n                rules = [rules];\r\n            }\r\n        }\r\n\r\n        return rules ? fieldRules.concat(rules) : fieldRules;\r\n    }\r\n\r\n    isValidatingField(name) {\r\n        const validatingFields = this.state.validatingFields;\r\n        return !!validatingFields[name];\r\n    }\r\n\r\n    validateField(name, cb) {\r\n        const { formError, validatingFields } = this.state;\r\n        const value = this.getValue(name);\r\n        const rules = this.getFieldRules(name);\r\n\r\n        if (!rules || rules.length === 0) {\r\n            if (cb instanceof Function) {\r\n                cb(null, value);\r\n            }\r\n            return;\r\n        }\r\n\r\n        this.setState({\r\n            validatingFields: {\r\n                ...validatingFields,\r\n                [name]: true,\r\n            }\r\n        });\r\n\r\n        const descriptor = { [name]: rules };\r\n        const validator = new AsyncValidator(descriptor);\r\n        const data = { [name]: value };\r\n\r\n        validator.validate(data, { firstFields: true }, errors => {\r\n            this.setState({\r\n                formError: {\r\n                    ...formError,\r\n                    [name]: errors ? errors[0].message : null\r\n                },\r\n                validatingFields: {\r\n                    ...validatingFields,\r\n                    [name]: false,\r\n                },\r\n            }, () => {\r\n                if (cb instanceof Function) {\r\n                    cb(errors, value);\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    validate(callback) {\r\n        const { formValue } = this.state;\r\n        const fields = this.fields;\r\n        const rules = {};\r\n\r\n        if (fields.length === 0 && callback) {\r\n            callback(null, formValue);\r\n            return;\r\n        }\r\n\r\n        fields.forEach(field => {\r\n            const name = field.props.name;\r\n            if (!name || name in rules) return;\r\n            const fieldRules = this.getFieldRules(name);\r\n            if (fieldRules && fieldRules.length) {\r\n                rules[name] = fieldRules;\r\n            }\r\n        });\r\n\r\n        const validatingFields = {};\r\n\r\n        const validator = new AsyncValidator(rules);\r\n        const data = {};\r\n        Object.keys(rules).forEach(key => {\r\n            data[key] = get(formValue, key);\r\n            validatingFields[key] = true;\r\n        });\r\n\r\n        this.setState({\r\n            validatingFields\r\n        });\r\n\r\n        validator.validate(data, { firstFields: true }, errors => {\r\n            const formError = {};\r\n            if (errors) {\r\n                errors.forEach(error => {\r\n                    formError[error.field] = error.message;\r\n                });\r\n            }\r\n            this.setState({\r\n                formError,\r\n                validatingFields: {},\r\n            }, () => {\r\n                if (callback instanceof Function) {\r\n                    callback(errors, formValue);\r\n                }\r\n            });\r\n\r\n        });\r\n    }\r\n\r\n    validateAndScroll(callback) {\r\n        this.validate((errors, formValue) => {\r\n            if (errors) {\r\n                let field;\r\n                const formError = this.state.formError;\r\n                const fields = this.fields;\r\n                fields.forEach(f => {\r\n                    const name = f.props.name;\r\n                    if (!name) return;\r\n                    if (!field && (name in formError)) {\r\n                        field = f;\r\n                    }\r\n                });\r\n\r\n                if (field) {\r\n                    scrollIntoView(field.getDOM());\r\n                }\r\n            }\r\n\r\n            callback(errors, formValue);\r\n        });\r\n    }\r\n\r\n    onFieldChange(name, value) {\r\n        const { formValue } = this.state;\r\n\r\n        formValue.set(name, value);\r\n    }\r\n\r\n    getFormContext() {\r\n        return {\r\n            form: this,\r\n        };\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            prefixCls,\r\n            style,\r\n            className,\r\n            onSubmit,\r\n            component: Component,\r\n            children\r\n        } = this.props;\r\n\r\n        return (\r\n            <FormContext.Provider value={this.getFormContext()}>\r\n                <Component\r\n                    style={style}\r\n                    className={classnames(prefixCls, className)}\r\n                    onSubmit={onSubmit}\r\n                >\r\n                    {typeof children === 'function' ? children(this) : children}\r\n                </Component>\r\n            </FormContext.Provider>\r\n        )\r\n    }\r\n}\r\n\r\n","import React from 'react';\r\n\r\nexport default React.createContext({});","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classnames from 'classnames';\r\nimport FormContext from './FormContext';\r\nexport default class FormItem extends React.Component {\r\n\r\n    static contextType = FormContext;\r\n\r\n    static propTypes = {\r\n        label: PropTypes.node,\r\n        labelFor: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n        labelWidth: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n        labelPosition: PropTypes.oneOf(['top', 'left', 'right']),\r\n        alignItems: PropTypes.oneOf(['top', 'center', 'bottom']),\r\n        name: PropTypes.string,\r\n        rules: PropTypes.oneOfType([PropTypes.object, PropTypes.array, PropTypes.func]),\r\n        required: PropTypes.bool,\r\n        normalize: PropTypes.func,\r\n        validateDelay: PropTypes.number,\r\n        validateTrigger: PropTypes.string, //change blur none\r\n        inline: PropTypes.bool,\r\n        showMessage: PropTypes.bool,\r\n        help: PropTypes.node,\r\n        style: PropTypes.object,\r\n        //extra: PropTypes.node,\r\n    }\r\n\r\n    static defaultProps = {\r\n        prefixCls: 'rw-form-item',\r\n        // labelPosition: 'left',\r\n        // alignItems: \"center\",\r\n        // inline: false,\r\n        //showMessage: true,\r\n    }\r\n\r\n    saveDOM = dom => {\r\n        this._dom = dom;\r\n    }\r\n\r\n    getDOM() {\r\n        return this._dom;\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { form } = this.context;\r\n        const { name } = this.props;\r\n\r\n        if (name) {\r\n            form.addField(this);\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        const { form } = this.context;\r\n        form.removeField(this);\r\n    }\r\n\r\n    isRequired() {\r\n        const { form } = this.context;\r\n        const { name } = this.props;\r\n        let rules = form.getFieldRules(name);\r\n        let isRequired = false;\r\n\r\n        if (rules && rules.length) {\r\n            isRequired = rules.some(rule => rule.required);\r\n        }\r\n\r\n        return isRequired;\r\n    }\r\n\r\n    _validateTimer = null\r\n\r\n    getValidateTrigger() {\r\n        const { form } = this.context;\r\n        const { validateTrigger } = form.props;\r\n        const props = this.props;\r\n\r\n        return 'validateTrigger' in props ? props.validateTrigger : validateTrigger;\r\n    }\r\n\r\n    getValidateDelay() {\r\n        const { form } = this.context;\r\n        const { validateDelay } = form.props;\r\n        const props = this.props;\r\n\r\n        return 'validateDelay' in props ? props.validateDelay : validateDelay;\r\n    }\r\n\r\n    onFieldBlur() {\r\n        const { form } = this.context;\r\n        const validateTrigger = this.getValidateTrigger();\r\n        const validateDelay = this.getValidateDelay();\r\n        const { name } = this.props;\r\n\r\n        if (validateTrigger === 'blur') {\r\n            if (validateDelay > 0) {\r\n                if (this._validateTimer) clearTimeout(this._validateTimer)\r\n                this._validateTimer = setTimeout(() => {\r\n                    form.validateField(name);\r\n                }, validateDelay);\r\n            } else {\r\n                form.validateField(name);\r\n            }\r\n        }\r\n    }\r\n\r\n    getValue() {\r\n        const { name } = this.props;\r\n        const { form } = this.context;\r\n\r\n        return form.getValue(name);\r\n    }\r\n\r\n    onFieldChange(value, e) {\r\n        const { form } = this.context;\r\n        const { name } = this.props;\r\n\r\n        form.setValue(name, value, e, () => {\r\n            const validateTrigger = this.getValidateTrigger();\r\n            const validateDelay = this.getValidateDelay();\r\n\r\n            if (validateTrigger === 'change') {\r\n                if (validateDelay > 0) {\r\n                    if (this._validateTimer) clearTimeout(this._validateTimer)\r\n                    this._validateTimer = setTimeout(() => {\r\n                        form.validateField(name);\r\n                    }, validateDelay);\r\n                } else {\r\n                    form.validateField(name);\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    getLabelProps() {\r\n        const { form } = this.context;\r\n        const formProps = form.props;\r\n        const props = this.props;\r\n\r\n        return {\r\n            inline: 'inline' in props ? props.inline : formProps.inline,\r\n            labelPosition: 'labelPosition' in props ? props.labelPosition : formProps.labelPosition,\r\n            labelWidth: 'labelWidth' in props ? props.labelWidth : formProps.labelWidth,\r\n            alignItems: 'alignItems' in props ? props.alignItems : formProps.alignItems,\r\n            showMessage: 'showMessage' in props ? props.showMessage : formProps.showMessage,\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { form } = this.context;\r\n        const {\r\n            normalize,\r\n            label,\r\n            required,\r\n            labelFor,\r\n            className,\r\n            prefixCls,\r\n            name,\r\n            help,\r\n            style,\r\n            //extra,\r\n        } = this.props;\r\n        const { inline, labelPosition, labelWidth, alignItems, showMessage } = this.getLabelProps();\r\n        const error = form.getError(name);\r\n        const validating = form.isValidatingField(name);\r\n\r\n        const children = React.Children.only(this.props.children);\r\n\r\n        const {\r\n            onChange,\r\n            onBlur\r\n        } = children.props;\r\n\r\n        const getFormItemInputProps = form.props.getInputProps || function () { return {} };\r\n\r\n        const onFieldChange = this.onFieldChange.bind(this);\r\n        const onFieldBlur = this.onFieldBlur.bind(this);\r\n\r\n        const InputComponent = React.cloneElement(children, {\r\n            ...getFormItemInputProps(name),\r\n            value: this.getValue(),\r\n            onChange: function (value, event) {\r\n                if (normalize) {\r\n                    value = normalize(value);\r\n                }\r\n\r\n                onChange && onChange(value, event);\r\n\r\n                onFieldChange(value, event)\r\n            },\r\n            onBlur: function (e) {\r\n                onBlur && onBlur(e);\r\n                onFieldBlur(e)\r\n            },\r\n        });\r\n\r\n        return (\r\n            <div\r\n                style={style}\r\n                ref={this.saveDOM}\r\n                className={classnames(prefixCls, {\r\n                    [`${prefixCls}-inline`]: inline,\r\n                    [`${prefixCls}-position-${labelPosition}`]: labelPosition,\r\n                    [`${prefixCls}-align-items-${alignItems}`]: alignItems !== 'center',\r\n                    [`${prefixCls}-error`]: error,\r\n                    [`${prefixCls}-validating`]: validating,\r\n                    [`${prefixCls}-required`]: this.isRequired() || required,\r\n                    [`${prefixCls}-with-help`]: help,\r\n                    [`${className}`]: className,\r\n                })}\r\n            >\r\n                {\r\n                    label && (\r\n                        <label\r\n                            htmlFor={labelFor}\r\n                            className={`${prefixCls}-label`}\r\n                            style={{\r\n                                width: labelWidth\r\n                            }}\r\n                        >\r\n                            {label}\r\n                        </label>\r\n                    )\r\n                }\r\n                <div className={`${prefixCls}-content`}>\r\n                    {InputComponent}\r\n                    {\r\n                        !help && showMessage && error ? (\r\n                            <div className={`${prefixCls}-error-tip`} >{error}</div>\r\n                        ) : null\r\n                    }\r\n                    {\r\n                        help ? (\r\n                            <div className={`${prefixCls}-help`} >{help}</div>\r\n                        ) : null\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\n\r\nexport default function NativeField(props) {\r\n    const {\r\n        component: Component = 'input',\r\n        value,\r\n        inputRef,\r\n        onChange,\r\n        ...others\r\n    } = props;\r\n\r\n    const onInputChange = (e) => {\r\n        const value = e.target.value;\r\n        onChange && onChange(value, e);\r\n    }\r\n\r\n    return (\r\n        <Component\r\n            ref={inputRef}\r\n            onChange={onInputChange}\r\n            value={value}\r\n            {...others}\r\n        />\r\n    );\r\n}","import React from 'react';\r\n// import { FormItem } from '../Form';\r\nimport Icon from '../Icon';\r\n\r\nexport default class MultipleInputField extends React.Component {\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n        let value = props.value || state.value;\r\n\r\n        if (!Array.isArray(value)) {\r\n            value = [];\r\n        }\r\n\r\n        if (!value.length) {\r\n            value.push({\r\n                value: '选项1',\r\n                label: '选项1',\r\n            });\r\n        }\r\n\r\n        return {\r\n            value: [...value],\r\n            sIndex: Math.max(value.length, state.sIndex),\r\n        }\r\n    }\r\n    state = {\r\n        value: this.props.defaultValue || [],\r\n        sIndex: 1,\r\n    }\r\n\r\n    onItemChange(index, e) {\r\n        const { onChange } = this.props;\r\n        const { value } = this.state;\r\n        value[index] = {\r\n            value: e.target.value,\r\n            label: e.target.value,\r\n        };\r\n\r\n        onChange && onChange(value);\r\n    }\r\n\r\n    onAddItem(index) {\r\n        const { onChange } = this.props;\r\n        const { value, sIndex } = this.state;\r\n\r\n        const text = '选项' + (1 + sIndex);\r\n\r\n        this.setState({\r\n            sIndex: sIndex + 1,\r\n        });\r\n\r\n        const item = {\r\n            value: text,\r\n            label: text,\r\n        };\r\n\r\n        value.splice(index, 1,\r\n            value[index],\r\n            item\r\n        )\r\n\r\n        onChange && onChange(value);\r\n    }\r\n\r\n    onRemoveItem(index) {\r\n        const { onChange } = this.props;\r\n        const { value } = this.state;\r\n\r\n        if (value.length <= 1) return;\r\n\r\n        value.splice(index, 1)\r\n\r\n        onChange && onChange(value);\r\n    }\r\n\r\n    renderItem = (item, i) => {\r\n\r\n        return (\r\n            <div className=\"multi-input-item\" key={i}>\r\n                <div className=\"multi-input\">\r\n                    <input\r\n                        value={item.label}\r\n                        placeholder=\"选项名称\"\r\n                        onChange={this.onItemChange.bind(this, i)}\r\n                    />\r\n                </div>\r\n                <div className=\"multi-input-tools\">\r\n                    <Icon type=\"add\" onClick={this.onAddItem.bind(this, i)}>+</Icon>\r\n                    <Icon type=\"remove\" onClick={this.onRemoveItem.bind(this, i)}>-</Icon>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const { value } = this.state;\r\n\r\n        return (\r\n            <div className=\"multi-input-wrapper\">\r\n                {\r\n                    value.map(this.renderItem)\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\n\r\nexport default props => {\r\n    return (\r\n        <span>{props.value}</span>\r\n    )\r\n}","import React from 'react';\r\nimport Icon from '../Icon';\r\n\r\nfunction getUnit(value) {\r\n\r\n    if (/px$/.test(value)) {\r\n        return 'px';\r\n    }\r\n\r\n    if (/%$/.test(value)) {\r\n        return '%';\r\n    }\r\n\r\n    return 'px';\r\n\r\n}\r\n\r\nfunction toValue(value) {\r\n    value = parseFloat(value);\r\n    return isNaN(value) ? 0 : value;\r\n}\r\n\r\nexport default class WidthInputField extends React.Component {\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if ('value' in props) {\r\n            return {\r\n                value: toValue(props.value),\r\n                unit: getUnit(props.value)\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    constructor(props, ...a) {\r\n        super(props, ...a);\r\n\r\n        const value = props.defaultValue || '';\r\n        this.state = {\r\n            value: toValue(value),\r\n            unit: getUnit(value),\r\n        }\r\n\r\n    }\r\n\r\n    renderSuffix() {\r\n        const { unit } = this.state;\r\n\r\n        return (\r\n            <div className=\"width-suffix\">\r\n                <div className=\"width-suffix-text\">\r\n                    <span>{unit}</span>\r\n                    <div className=\"width-suffix-unit\">\r\n                        <div className=\"width-suffix-unit-item\" onClick={this.onUnitChange.bind(this, 'px')}>px</div>\r\n                        <div className=\"width-suffix-unit-item\" onClick={this.onUnitChange.bind(this, '%')}>%</div>\r\n                    </div>\r\n                </div>\r\n                <Icon type=\"caret-down\" />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    onUnitChange(unit) {\r\n        const props = this.props;\r\n        let { value } = this.state;\r\n\r\n        if (unit === '%') {\r\n            value = Math.max(Math.min(value, 100), 0);\r\n        }\r\n\r\n        if (!('value' in props)) {\r\n            this.setState({\r\n                unit,\r\n                value\r\n            });\r\n        }\r\n\r\n        props.onChange && props.onChange(value + unit);\r\n    }\r\n\r\n    handleInputChange = e => {\r\n        const { unit } = this.state;\r\n        const props = this.props;\r\n\r\n        let value = toValue(e.target.value);\r\n\r\n        if (unit === '%') {\r\n            value = Math.max(Math.min(value, 100), 0);\r\n        }\r\n\r\n        if (!('value' in props)) {\r\n            this.setState({\r\n                value\r\n            });\r\n        }\r\n\r\n        const v = (value + unit);\r\n\r\n        props.onChange && props.onChange(v);\r\n    }\r\n\r\n    render() {\r\n        const { value } = this.state;\r\n\r\n        return (\r\n            <div className=\"width-input-field\">\r\n                <input\r\n                    onChange={this.handleInputChange}\r\n                    value={value}\r\n                />\r\n                {\r\n                    this.renderSuffix()\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAxklEQVRYR+2WXRHCMBCE9xwgAQfgAOrgogALSAAHOOk6AByAExwskw7w0FKGTmlaZnLvl+/L5tcwctnIfGSBnEBOYDoJuPsBwCLVvUCyiKxXAiGEE4BVKoGyLCv2O4GzpCgzRM3NbBMHbhWQtCe5G4Lu7mszO34t8GiQpCvJW1+pzgIhBEWopIJk72XJAjmBv0yg2vmStiQvyY9hX2C9v/MSjCLwa2jbeJ8eoyQODQF3XwKYJaEDeF7t0/kRpZp5nZMTyAncAYM54iEqZrwtAAAAAElFTkSuQmCC\"","import PropertyPanel from './PropertyPanel';\r\n\r\nimport data from '../common/data';\r\nimport icon from './icon.png';\r\n\r\nconst XType = 'EX_TEXTAREA_FIELD';\r\nconst Title = '多行文本';\r\n\r\nexport default {\r\n    xtype: \"EX_TEXTAREA_FIELD\",\r\n    title: \"多行文本\",\r\n    icon: icon,\r\n    WidgetProperty: PropertyPanel,\r\n\r\n    data() {\r\n        return {\r\n            ...data(),\r\n            xtype: XType,\r\n            title: Title,\r\n            height: '70'\r\n        }\r\n    }\r\n};","import React from 'react';\r\nimport {\r\n    FormItem,\r\n    NativeField,\r\n} from 'components/Form';\r\n\r\nimport PropertyForm from '../PropertyForm';\r\n\r\nimport CommonPropertyPanel from '../common/CommonPropertyPanel';\r\nimport ValidatePropertyPanel from '../common/ValidatePropertyPanel';\r\n\r\nexport default function (props) {\r\n\r\n    return (\r\n        <PropertyForm {...props}>\r\n            <CommonPropertyPanel />\r\n            <FormItem\r\n                className=\"design-property-field\"\r\n                label=\"高度\"\r\n                name=\"height\"\r\n            >\r\n                <NativeField\r\n                    component=\"input\"\r\n                />\r\n            </FormItem>\r\n            <ValidatePropertyPanel />\r\n        </PropertyForm>\r\n    );\r\n}","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAv0lEQVRYR+2W4QnCMBBGXzfpJuoG3cBuYEdwFN3EbtARHKEbKB80UDFIhGuOwgX6r+R7eXdpr8F5Nc75BEAYWBs4AodKTXkHnspaA1yBAZg2htAhT8AjByALerZcr90AdIum2VhHsYGPFw0hAiAM7MeArl+6ioaXgGIDbfpeW6ZDOYBxLj1w8wJQsIzqP1NcAisDCj8DowdACtdhXAByFn+W4FJhIFEfZAeSGsNIMqLSfI1kVk331z4xlocBdwNvGE5RIQon4uUAAAAASUVORK5CYII=\"","import PropertyPanel from './PropertyPanel';\r\n\r\nimport data from '../common/data';\r\nimport icon from './icon.png';\r\n\r\nconst XType = 'EX_SELECT_FIELD';\r\nconst Title = '单选列表';\r\n\r\nexport default {\r\n    xtype: XType,\r\n    title: Title,\r\n    icon: icon,\r\n    WidgetProperty: PropertyPanel,\r\n\r\n    data() {\r\n        return {\r\n            ...data(),\r\n            xtype: XType,\r\n            title: Title,\r\n            data: [\r\n                {\r\n                    value: '选项1',\r\n                    label: '选项1',\r\n                },\r\n                {\r\n                    value: '选项2',\r\n                    label: '选项2',\r\n                },\r\n                {\r\n                    value: '选项3',\r\n                    label: '选项3',\r\n                }\r\n            ]\r\n        }\r\n    }\r\n};\r\n","import React from 'react';\r\nimport {\r\n    FormItem,\r\n    NativeField,\r\n} from 'components/Form';\r\nimport {\r\n    MultipleInputField,\r\n} from 'components/FormField';\r\n\r\nimport PropertyForm from '../PropertyForm';\r\n\r\nimport CommonPropertyPanel from '../common/CommonPropertyPanel';\r\nimport ValidatePropertyPanel from '../common/ValidatePropertyPanel';\r\n\r\nexport default function (props) {\r\n\r\n    return (\r\n        <PropertyForm {...props}>\r\n            <CommonPropertyPanel />\r\n            <FormItem\r\n                className=\"design-property-field\"\r\n                label=\"选项值\"\r\n                name=\"data\"\r\n            >\r\n                <MultipleInputField />\r\n            </FormItem>\r\n            <ValidatePropertyPanel />\r\n        </PropertyForm>\r\n    );\r\n}","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAA0UlEQVRYR+2WURHCMBBE9xSAAyzgAHCQOKiESgAlgIKuBCSAA3CAg2XCUKZ0ypQPkv7cfaYz2deXm1wME5dNnA8HcANvAzHGK4BFqaaUtCO57QKoVHib0zSNDQHcACQbuWoJYJY2HwSQtCF5ypUeY0x7rxzADWQxEEIIZtb0G1jSkWSV1rM3YQihMrN9B+IiaU3yXgQghXQgPsKLAbwgagCH9s9bI9mPYOwCc4BfDKRBlHUYmdn86z0wdob//N6fhgTwJCtRks4ka38TugE34AYe7FjWIZhHzn8AAAAASUVORK5CYII=\"","import data from '../common/data';\r\nimport PropertyPanel from './PropertyPanel';\r\nimport icon from './icon.png';\r\n\r\nconst XType = 'EX_TEXT_FIELD';\r\nconst Title = '文本';\r\n\r\nexport default {\r\n    xtype: \"EX_URL_FIELD\",\r\n    title: \"URL\",\r\n    icon: icon,\r\n    WidgetProperty: PropertyPanel,\r\n\r\n    data() {\r\n        return {\r\n            ...data(),\r\n            xtype: XType,\r\n            title: Title,\r\n        }\r\n    }\r\n};","import React from 'react';\r\nimport PropertyForm from '../PropertyForm';\r\n\r\nimport CommonPropertyPanel from '../common/CommonPropertyPanel';\r\nimport ValidatePropertyPanel from '../common/ValidatePropertyPanel';\r\n\r\nexport default function (props) {\r\n\r\n    return (\r\n        <PropertyForm {...props}>\r\n            <CommonPropertyPanel />\r\n            <ValidatePropertyPanel />\r\n        </PropertyForm>\r\n    );\r\n}","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAxklEQVRYR+2WXRHCMBCE9xwgAQfgAOrgogALSAAHOOk6AByAExwskw7w0FKGTmlaZnLvl+/L5tcwctnIfGSBnEBOYDoJuPsBwCLVvUCyiKxXAiGEE4BVKoGyLCv2O4GzpCgzRM3NbBMHbhWQtCe5G4Lu7mszO34t8GiQpCvJW1+pzgIhBEWopIJk72XJAjmBv0yg2vmStiQvyY9hX2C9v/MSjCLwa2jbeJ8eoyQODQF3XwKYJaEDeF7t0/kRpZp5nZMTyAncAYM54iEqZrwtAAAAAElFTkSuQmCC\"","import \"./index.scss\";","\r\n//设计平台\r\nconst P_PC = 1;\r\nconst P_MOBILE = 2;\r\nconst P_IPAD = 3;\r\n\r\nconst WIDGET_DRAG_DROP_SCOPE = '__WIDGET_DRAG_DROP_SCOPE__';\r\n\r\nexport {\r\n    P_PC,\r\n    P_MOBILE,\r\n    P_IPAD,\r\n    WIDGET_DRAG_DROP_SCOPE,\r\n}\r\n\r\n","import { uuid } from '../../utils';\r\n\r\nexport default () => {\r\n    return {\r\n        fieldId: uuid(),\r\n        fieldName: 'field_' + uuid(),\r\n        placeholder: \"请输入\",\r\n        dataType: 'varchar',\r\n        dataLength: '255',\r\n        required: '0',\r\n        defaultValue: '',\r\n        width: '100%',\r\n    }\r\n}","import React from 'react';\r\nimport {\r\n    Form,\r\n    FormItem,\r\n    NativeField,\r\n} from 'components/Form';\r\n\r\nimport 'components/Form/style/index.scss';\r\n\r\nexport default class PropertyPanel extends React.Component {\r\n\r\n    render() {\r\n        const { item, onChange, children } = this.props;\r\n\r\n        return (\r\n            <Form\r\n                onChange={onChange}\r\n                formValue={item}\r\n                labelWidth={60}\r\n            >\r\n                {children}\r\n            </Form>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport {\r\n    FormItem,\r\n    NativeField,\r\n} from 'components/Form';\r\nimport 'components/Form/style/index.scss';\r\nimport {\r\n    MultipleInputField,\r\n    DisplayField,\r\n    WidthInputField\r\n} from 'components/FormField';\r\nimport SingleCheck from 'components/HTMLForm/SingleCheck';\r\n\r\nexport default function () {\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"property-header-title\">基础属性</div>\r\n            <FormItem\r\n                className=\"design-property-field\"\r\n                label=\"控件ID\"\r\n                name=\"fieldId\"\r\n            >\r\n                <DisplayField />\r\n            </FormItem>\r\n            {/* <FormItem\r\n                className=\"design-property-field\"\r\n                label=\"字段名称\"\r\n                name=\"titlex\"\r\n            >\r\n                <MultipleInputField />\r\n            </FormItem> */}\r\n            <FormItem\r\n                className=\"design-property-field\"\r\n                label=\"字段名称\"\r\n                name=\"title\"\r\n            >\r\n                <NativeField\r\n                    component=\"input\"\r\n                />\r\n            </FormItem>\r\n            <FormItem\r\n                className=\"design-property-field\"\r\n                label=\"提示文本\"\r\n                name=\"placeholder\"\r\n            >\r\n                <NativeField\r\n                    component=\"input\"\r\n                />\r\n            </FormItem>\r\n            <FormItem\r\n                className=\"design-property-field\"\r\n                label=\"默认值\"\r\n                name=\"defaultValue\"\r\n            >\r\n                <NativeField\r\n                    component=\"input\"\r\n                />\r\n            </FormItem>\r\n            {/* <FormItem\r\n                className=\"design-property-field\"\r\n                label=\"宽度\"\r\n                name=\"width\"\r\n            >\r\n                <WidthInputField />\r\n            </FormItem> */}\r\n            {/* <FormItem\r\n                className=\"design-property-field\"\r\n                label=\"必填\"\r\n                name=\"required\"\r\n            >\r\n                <SingleCheck\r\n                    on=\"1\"\r\n                    off=\"0\"\r\n                />\r\n            </FormItem> */}\r\n        </div >\r\n    );\r\n}","import React from 'react';\r\nimport {\r\n    FormItem,\r\n    NativeField,\r\n} from 'components/Form';\r\nimport 'components/Form/style/index.scss';\r\nimport {\r\n    MultipleInputField,\r\n    DisplayField,\r\n    WidthInputField\r\n} from 'components/FormField';\r\nimport SingleCheck from 'components/HTMLForm/SingleCheck';\r\n\r\nexport default function () {\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"property-header-title\">输入校验</div>\r\n            <FormItem\r\n                className=\"design-property-field\"\r\n                label=\"必填\"\r\n                name=\"required\"\r\n            >\r\n                <SingleCheck\r\n                    on=\"1\"\r\n                    off=\"0\"\r\n                />\r\n            </FormItem>\r\n        </div >\r\n    );\r\n}"],"sourceRoot":""}