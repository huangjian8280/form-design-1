{"version":3,"sources":["webpack:///./demo/components/FormField/index.js","webpack:///./src/panels/DesignPanel/WidgetDropAccepter.js","webpack:///./demo/components/Form/FormContext.js","webpack:///./demo/components/Icon/index.js","webpack:///./demo/components/HTMLForm/SingleCheck.js","webpack:///./demo/index.js","webpack:///./src/index.js","webpack:///./src/Designer.js","webpack:///./src/DesignModel/index.js","webpack:///./src/DesignModel/Widget/index.js","webpack:///./src/DesignModel/Widget/Preview.js","webpack:///./src/DesignModel/Widget/DragPreview.js","webpack:///./src/DesignModel/Widget/PlaceholderPreview.js","webpack:///./src/DesignModel/Widget/WidgetProperty.js","webpack:///./src/panels/WidgetsPanel/index.js","webpack:///./src/panels/WidgetsPanel/WidgetItem.js","webpack:///./src/DesignContext.js","webpack:///./src/panels/PropertyPanel.js","webpack:///./src/panels/DesignPanel/index.js","webpack:///./src/panels/DesignPanel/PreviewItem.js","webpack:///./src/panels/DesignPanel/canDrop.js","webpack:///./demo/widgets/index.js","webpack:///./demo/widgets/TextField/index.js","webpack:///./demo/utils/index.js","webpack:///./demo/widgets/TextField/PropertyPanel.js","webpack:///./demo/components/Form/Form.js","webpack:///./demo/components/Form/index.js","webpack:///./demo/components/Form/FormItem.js","webpack:///./demo/components/Form/NativeField.js","webpack:///./demo/components/FormField/MultipleInputField.js","webpack:///./demo/components/FormField/DisplayField.js","webpack:///./demo/components/FormField/WidthInputField.js","webpack:///./demo/widgets/TextField/icon.png","webpack:///./demo/widgets/TextareaField/index.js","webpack:///./demo/widgets/TextareaField/PropertyPanel.js","webpack:///./demo/widgets/TextareaField/icon.png","webpack:///./demo/widgets/SelectField/index.js","webpack:///./demo/widgets/SelectField/PropertyPanel.js","webpack:///./demo/widgets/SelectField/icon.png","webpack:///./demo/widgets/URLField/index.js","webpack:///./demo/widgets/URLField/PropertyPanel.js","webpack:///./demo/widgets/URLField/icon.png","webpack:///./demo/widgets/DetailedField/index.js","webpack:///./demo/widgets/DetailedField/PropertyPanel.js","webpack:///./demo/widgets/DetailedField/Preview.js","webpack:///./demo/widgets/DetailedField/icon.png","webpack:///./src/style/index.js","webpack:///./demo/widgets/common/data.js","webpack:///./demo/widgets/PropertyForm.js","webpack:///./demo/widgets/common/CommonPropertyPanel.js","webpack:///./demo/widgets/common/ValidatePropertyPanel.js","webpack:///./src/constants.js"],"names":["__webpack_require__","_MultipleInputField","_interopRequireDefault","_DisplayField","_WidthInputField","_react","_reactDnd","_classnames","_constants","_DesignContext","_PreviewItem","spec","canDrop","props","monitor","hover","component","isOver","shallow","designer","context","dragItem","getItem","pid","dragItemFieldId","item","fieldId","targetPids","getPids","push","indexOf","$pid","updateItemPid","drop","commitItem","WidgetDropAccepter","i","isHover","_this","shouldHide","isTmpItem","xtype","widget","getWidget","default","createElement","key","visible","this","PlaceholderPreview","_this$props","connectDropTarget","items","_this$props$style","style","ref","className","design-layout-container","drag-over","dropable","map","renderItem","React","Component","DesignContext","DropTarget","WIDGET_DRAG_DROP_SCOPE","connect","dropTarget","createContext","_extends2","type","checked","value","on","onChange","e","target","off","_reactDom","_src","_widgets","ReactDOM","render","_React$useState","useState","_React$useState2","_slicedToArray2","metadata","onMetadataChange","position","top","left","right","bottom","widgets","document","getElementById","Designer","_propTypes","_reactDndHtml5Backend","_DesignModel","_WidgetsPanel","_PropertyPanel","_DesignPanel","_objectSpread2","_this$props2","platform","DndProvider","backend","HTML5Backend","handleModelChange","PropTypes","array","oneOf","P_PC","P_MOBILE","P_IPAD","object","_Widget","_find","_findIndex","DesignModel","widgetsMap","activeId","state","concat","setState","arguments","length","undefined","getAllItems","filter","_toConsumableArray2","pids","node","pNode","currentFieldId","idx","getItemIndex","_this2","ret","shouldRemove","_idx","oIdx","splice","bItem","prevItem","newItems","__tmp__","bind","getWidgets","setActiveId","getActiveId","getActiveItem","addItem","updateItem","getItems","removeItem","insertBefore","insertAfter","clearTmpItems","children","Provider","getModel","w","Widget","_reactIs","_Preview","_DragPreview","_PlaceholderPreview","_WidgetProperty","options","_classCallCheck2","$$widget","title","icon","Preview","isValidElementType","WPreview","DragPreview","WDragPreview","WPlaceholderPreview","WidgetProperty","WWidgetProperty","data","name","classString","_defineProperty2","widget-preview-item-inner","placeholder","_ref","_WidgetItem","WidgetsPanel","beginDrag","console","log","endDrag","WidgetItem","disabled","connectDragSource","isDragging","_widget$title","widget-item","widget-item-dragging","widget-item-disabled","src","DragSource","dragSource","PropertyPanel","activeItem","padding","textAlign","onItemChange","_WidgetDropAccepter","DesignPanel","_flow","_canDrop","dropSpec","dragOffset","getClientOffset","previewDOM","findDOMNode","targetOffset","getBoundingClientRect","middleY","height","y","didDrop","WidgetPreviewItem","isDefaultPrevented","preventDefault","isWidgetDragging","widget-preview-item-wrapper","droppable","dragging","display","width","widget-preview-item","widget-preview-item-selected","onClick","handlePreviewClick","handleRemove","isPreviewDragging","targetFieldId","_TextField","_TextareaField","_SelectField","_URLField","_DetailedField","TextField","TextareaField","SelectField","URLField","DetailedField","_data2","_icon","Math","random","toString","slice","_PropertyForm","_CommonPropertyPanel","_ValidatePropertyPanel","_asyncValidator","_set","_get","_scrollIntoView","_FormContext","AsyncValidator","warning","Form","formError","validatingFields","formValue","formDefaultValue","field","fields","path2obj","event","cb","nextFormValue","_objectSpread5","_valiateCb","validateProcess","forEach","errors","fieldRules","fieldProps","rules","validator","_isArray","required","unshift","apply","_this$state","getValue","getFieldRules","descriptor","validate","firstFields","message","Function","callback","_this3","_keys","error","_this4","f","getDOM","set","form","prefixCls","onSubmit","getFormContext","nextProps","prevState","string","bool","validateDelay","number","validateTrigger","oneOfType","func","labelWidth","labelPosition","alignItems","inline","validateFieldsAndScroll","showMessage","getFormItemInputProps","_Form","_FormItem","_NativeField","Item","FormItem","NativeField","_classnames2","dom","_dom","addField","removeField","isRequired","some","rule","getValidateTrigger","getValidateDelay","_validateTimer","clearTimeout","setTimeout","validateField","setValue","formProps","normalize","label","labelFor","help","_this$getLabelProps","getLabelProps","getError","validating","isValidatingField","Children","only","_children$props","onBlur","getInputProps","onFieldChange","onFieldBlur","InputComponent","cloneElement","saveDOM","htmlFor","FormContext","_props$component","inputRef","others","_objectWithoutProperties2","_Icon","MultipleInputField","defaultValue","sIndex","_assertThisInitialized2","onAddItem","onRemoveItem","index","text","max","getUnit","test","toValue","_parseFloat2","isNaN","WidthInputField","_getPrototypeOf2","_len","a","Array","_key","_possibleConstructorReturn2","_getPrototypeOf3","call","unit","min","v","onUnitChange","handleInputChange","renderSuffix","module","exports","_FormField","XType","widget-preview-item-detailed","minHeight","paddingBottom","border","_utils","uuid","fieldName","dataType","dataLength","DisplayField","_SingleCheck"],"mappings":"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","file":"js/index.081057af.chunk.js","sourcesContent":["import \"./style/index.scss\"\r\n\r\nimport MultipleInputField from './MultipleInputField';\r\nimport DisplayField from './DisplayField';\r\nimport WidthInputField from './WidthInputField';\r\n\r\nexport {\r\n    MultipleInputField,\r\n    DisplayField,\r\n    WidthInputField,\r\n}","import React from 'react';\r\nimport {\r\n    DragSource,\r\n    DropTarget,\r\n} from 'react-dnd';\r\nimport cx from 'classnames';\r\nimport {\r\n    WIDGET_DRAG_DROP_SCOPE\r\n} from '../../constants';\r\nimport DesignContext from '../../DesignContext';\r\n\r\nimport PreviewItem from './PreviewItem';\r\n\r\nfunction canDrop(props, monitor, component) {\r\n    const isOver = monitor.isOver({ shallow: true });\r\n    if (!isOver) return false;\r\n    //子容器拖动过程中不再接受释放处理\r\n    const designer = component.context;\r\n    const dragItem = monitor.getItem();\r\n    const pid = props.pid;\r\n    const dragItemFieldId = dragItem.item.fieldId;\r\n    const targetPids = pid ? designer.getPids(pid) : [];\r\n    pid && targetPids.push(pid);\r\n    // console.log(targetPids, dragItemFieldId, 'canDrop1')\r\n    //解决父节点拖动到子节点的情况\r\n    return targetPids.indexOf(dragItemFieldId) === -1;\r\n}\r\n\r\nconst spec = {\r\n    canDrop(props, monitor) {\r\n        return true;\r\n        // const dragItem = monitor.getItem();\r\n        // return dragItem.isWidgetDragging;\r\n    },\r\n    hover(props, monitor, component) {\r\n        if (!monitor.canDrop() || !canDrop(props, monitor, component)) return;\r\n        const isOver = monitor.isOver({ shallow: true });\r\n        if (isOver) {\r\n            const designer = component.context;\r\n            const pid = props.pid;\r\n            const dragItem = monitor.getItem();\r\n            const item = dragItem.item;\r\n\r\n            if (pid !== item.$pid) {\r\n                designer.updateItemPid(item, pid);\r\n            }\r\n        }\r\n    },\r\n    drop(props, monitor, component) {\r\n        const dragItem = monitor.getItem();\r\n        const designer = component.context;\r\n        //根节点统一commit\r\n        // monitor.canDrop() &&\r\n        if (props.pid == null) {\r\n            designer.commitItem(dragItem.item);\r\n        }\r\n\r\n        // if (monitor.didDrop() || !canDrop(props, monitor, component)) {\r\n        //     return;\r\n        // }\r\n\r\n        // const dragItem = monitor.getItem();\r\n        // const designer = component.context;\r\n        // console.log('drop', props.pid);\r\n        // designer.commitItem(dragItem.item, props.pid)\r\n\r\n    }\r\n};\r\n\r\nconst collect = (connect, monitor) => {\r\n    return {\r\n        connectDropTarget: connect.dropTarget(),\r\n        isHover: monitor.isOver(),\r\n        isOver: monitor.isOver({ shallow: true }),\r\n        canDrop: monitor.canDrop(),\r\n        dragItem: monitor.getItem(),\r\n    }\r\n}\r\n\r\nclass WidgetDropAccepter extends React.Component {\r\n\r\n    static contextType = DesignContext;\r\n\r\n    static defaultProps = {\r\n        pid: null,\r\n    }\r\n\r\n    rendrePlaceholder() {\r\n        const { dragItem } = this.props;\r\n        const { widget, item } = dragItem\r\n\r\n        return (\r\n            <widget.PlaceholderPreview widget={widget} item={item} />\r\n        );\r\n    }\r\n\r\n    renderItem = (item, i) => {\r\n        const { isHover } = this.props;\r\n        const designer = this.context;\r\n        const shouldHide = !isHover && designer.isTmpItem(item)\r\n\r\n        const xtype = item.xtype;\r\n        const widget = designer.getWidget(xtype);\r\n\r\n        return (\r\n            <PreviewItem\r\n                designer={designer}\r\n                key={item.fieldId}\r\n                widget={widget}\r\n                item={item}\r\n                visible={!shouldHide}\r\n            />\r\n        )\r\n    }\r\n\r\n    // connectDropTarget = (dom) => {\r\n    //     const { connectDropTarget, pid } = this.props;\r\n    //     const designer = this.context;\r\n\r\n    //     if (pid) {\r\n    //         const pItem = designer.getItem(pid);\r\n    //         if (!designer.isTmpItem(pItem)) {\r\n    //             connectDropTarget(dom);\r\n    //         } else {\r\n    //             const tmpDOM = document.createElement('div');\r\n    //             connectDropTarget(tmpDOM);\r\n    //             console.log('x')\r\n    //         }\r\n    //     } else {\r\n    //         connectDropTarget(dom);\r\n    //     }\r\n    // }\r\n\r\n    render() {\r\n        const { connectDropTarget, isOver, canDrop, dragItem, items, style = {} } = this.props;\r\n        // const designer = this.context;\r\n        // const items = designer.getItems(pid);\r\n\r\n        return (\r\n            <div\r\n                ref={connectDropTarget}\r\n                style={style}\r\n                className={cx({\r\n                    \"design-layout-container\": true,\r\n                    \"drag-over\": isOver,\r\n                    \"dropable\": canDrop,\r\n                })}>\r\n                {\r\n                    items.map(this.renderItem)\r\n                }\r\n                {/* {\r\n                    isOver && dragItem.isWidgetDragging ? this.rendrePlaceholder() : null\r\n                } */}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DropTarget(WIDGET_DRAG_DROP_SCOPE, spec, collect)(WidgetDropAccepter);","import React from 'react';\r\n\r\nexport default React.createContext({});\r\n","import React from 'react';\r\nimport classNames from 'classnames';\r\n\r\nexport default (props) => {\r\n\r\n    return <span {...props} className={\r\n        classNames(props.className, 'icon-' + props.type)\r\n    } />\r\n}","import React from 'react';\r\nimport { FormItem, NativeField } from '../Form'\r\nimport classNames from 'classnames';\r\n\r\nexport default function Checkbox(props) {\r\n\r\n    const onChange = (e) => {\r\n        const target = e.target;\r\n        if (target.checked) {\r\n            props.onChange && props.onChange(props.on);\r\n        } else {\r\n            props.onChange && props.onChange(props.off);\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <input\r\n            {...props}\r\n            checked={props.value === props.on}\r\n            type=\"checkbox\"\r\n            onChange={onChange}\r\n        />\r\n    );\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport FormDesigner from '../src';\r\n\r\nimport widgets from './widgets';\r\n\r\nimport '../src/style';\r\n\r\nfunction App() {\r\n    const [metadata, onMetadataChange] = React.useState({\r\n        items: []\r\n    })\r\n\r\n    return (\r\n        <div style={{\r\n            position: 'fixed',\r\n            top: 0,\r\n            left: 0,\r\n            right: 0,\r\n            bottom: 0,\r\n        }}>\r\n            <FormDesigner\r\n                widgets={widgets}\r\n                metadata={metadata}\r\n                onChange={onMetadataChange}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))","\r\nimport Designer from './Designer';\r\nexport default Designer;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { DndProvider } from 'react-dnd';\r\nimport HTML5Backend from 'react-dnd-html5-backend';\r\n\r\nimport DesignModel from './DesignModel';\r\nimport WidgetsPanel from './panels/WidgetsPanel';\r\nimport PropertyPanel from './panels/PropertyPanel';\r\nimport DesignPanel from './panels/DesignPanel';\r\n\r\nimport {\r\n    P_PC,\r\n    P_MOBILE,\r\n    P_IPAD,\r\n} from './constants';\r\n\r\nexport default class Designer extends React.Component {\r\n    static propTypes = {\r\n        widgets: PropTypes.array,\r\n        platform: PropTypes.oneOf([P_PC, P_MOBILE, P_IPAD]),\r\n        metadata: PropTypes.object,\r\n    }\r\n\r\n    static defaultProps = {\r\n        onChange: null,\r\n        platform: P_PC,\r\n        widgets: [],\r\n        metadata: {\r\n            items: [],\r\n        }\r\n    }\r\n\r\n    handleModelChange = (items) => {\r\n        const { onChange, metadata } = this.props;\r\n\r\n        onChange && onChange({\r\n            ...metadata,\r\n            items,\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { widgets, metadata, platform } = this.props;\r\n\r\n        return (\r\n            <DndProvider backend={HTML5Backend}>\r\n                <DesignModel\r\n                    widgets={widgets}\r\n                    items={metadata.items}\r\n                    platform={platform}\r\n                    onChange={this.handleModelChange}\r\n                >\r\n                    <div className=\"csos-form-designer\">\r\n                        <div className=\"csos-form-designer-container\">\r\n                            <WidgetsPanel />\r\n                            <DesignPanel />\r\n                            <PropertyPanel />\r\n                        </div>\r\n                    </div>\r\n                </DesignModel>\r\n            </DndProvider>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport DesignContext from '../DesignContext';\r\nimport Widget from './Widget';\r\n\r\nimport find from 'lodash/find';\r\nimport findIndex from 'lodash/findIndex';\r\n\r\nexport default class DesignModel extends React.Component {\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        const widgetsMap = {};\r\n        const widgets = props.widgets.map(widget => {\r\n            const w = new Widget(widget);\r\n            widgetsMap[widget.xtype] = w;\r\n            return w;\r\n        });\r\n\r\n        return {\r\n            widgets,\r\n            widgetsMap,\r\n            items: props.items || [],\r\n        }\r\n    }\r\n\r\n    static defaultProps = {\r\n        onChange: null,\r\n        widgets: [],\r\n        items: [],\r\n    }\r\n\r\n    state = {\r\n        widgets: [],\r\n        widgetsMap: {},\r\n        items: [],\r\n        activeId: null\r\n    }\r\n\r\n    onChange(items) {\r\n        const props = this.props;\r\n        const { onChange } = props;\r\n\r\n        if (onChange) {\r\n            onChange(items);\r\n        }\r\n    }\r\n\r\n    getWidget(xtype) {\r\n        const { widgetsMap } = this.state;\r\n        return widgetsMap[xtype] || null;\r\n    }\r\n\r\n    getWidgets() {\r\n        const { widgets } = this.state;\r\n        return [].concat(widgets);\r\n    }\r\n\r\n    setActiveId(activeId) {\r\n        this.setState({\r\n            activeId\r\n        });\r\n    }\r\n\r\n    getActiveId() {\r\n        return this.state.activeId;\r\n    }\r\n\r\n    getActiveItem() {\r\n        const activeId = this.state.activeId;\r\n        return this.getItem(activeId) || null;\r\n    }\r\n\r\n    getItems(pid = null) {\r\n        const items = this.getAllItems();\r\n        return items.filter(item => item.$pid == pid);\r\n    }\r\n\r\n    getAllItems() {\r\n        return [...this.state.items];\r\n    }\r\n\r\n    //获取组件的所有父级ID\r\n    getPids(fieldId) {\r\n        const pids = [];\r\n        let node = this.getItem(fieldId);\r\n        if (!node.$pid) return pids;\r\n\r\n        let currentFieldId = node.$pid;\r\n        let pNode;\r\n        while (pNode = this.getItem(currentFieldId)) {\r\n            pids.push(pNode.fieldId);\r\n            currentFieldId = pNode.$pid;\r\n            if (!currentFieldId) break;\r\n        }\r\n\r\n        return pids;\r\n    }\r\n\r\n    updateItem(item) {\r\n        const items = this.getAllItems();\r\n        const fieldId = item.fieldId;\r\n        const idx = this.getItemIndex(fieldId);\r\n\r\n        if (idx !== -1) {\r\n            items[idx] = item;\r\n        }\r\n\r\n        this.onChange(items);\r\n    }\r\n\r\n    addItem(item, pid = null) {\r\n        const items = this.getAllItems();\r\n\r\n        item.$pid = pid;\r\n\r\n        items.push(item);\r\n\r\n        this.onChange(items);\r\n    }\r\n\r\n    removeItem(fieldId) {\r\n        const items = this.getAllItems();\r\n        //移除指定项目及子项目\r\n        const ret = items.filter(item => {\r\n            let shouldRemove = item.fieldId === fieldId;\r\n\r\n            if (!shouldRemove) {\r\n                const pids = this.getPids(item.fieldId);\r\n                shouldRemove = pids.indexOf(fieldId) > -1;\r\n            }\r\n\r\n            return !shouldRemove;\r\n        });\r\n\r\n        this.onChange(ret);\r\n    }\r\n\r\n    getItemIndex(fieldId, items) {\r\n        items = items || this.getAllItems();\r\n        return findIndex(items, item => item.fieldId === fieldId)\r\n    }\r\n\r\n    getItem(fieldId) {\r\n        const items = this.getAllItems();\r\n        return find(items, item => item.fieldId === fieldId)\r\n    }\r\n\r\n    insertBefore(item, fieldId) {\r\n        const items = this.getAllItems();\r\n\r\n        //判断是否需要移动\r\n        const _idx = this.getItemIndex(fieldId);\r\n        if (_idx !== 0) {\r\n            const prevItem = items[_idx - 1];\r\n            if (prevItem.fieldId === item.fieldId) {\r\n                return;\r\n            }\r\n        }\r\n\r\n        //判断当前item是否已经存在, 如果存在则先删除\r\n        const oIdx = this.getItemIndex(item.fieldId);\r\n        if (oIdx > -1) {\r\n            items.splice(oIdx, 1);\r\n        }\r\n\r\n        const bItem = this.getItem(fieldId);\r\n        item.$pid = bItem.$pid;\r\n\r\n        //插入操作\r\n        const idx = this.getItemIndex(fieldId, items);\r\n        items.splice(idx, 0, item);\r\n\r\n        this.onChange(items);\r\n    }\r\n\r\n    insertAfter(item, fieldId) {\r\n        const items = this.getAllItems();\r\n\r\n        //判断是否需要移动\r\n        const _idx = this.getItemIndex(fieldId);\r\n        if (_idx !== (items.length - 1)) {\r\n            const nextItem = items[_idx + 1];\r\n            if (nextItem.fieldId === item.fieldId) {\r\n                return;\r\n            }\r\n        }\r\n\r\n        //判断当前item是否已经存在, 如果存在则先删除\r\n        const oIdx = this.getItemIndex(item.fieldId);\r\n        if (oIdx > -1) {\r\n            items.splice(oIdx, 1);\r\n        }\r\n\r\n        const prevItem = this.getItem(fieldId);\r\n        item.$pid = prevItem.$pid;\r\n\r\n        //插入操作 之前有删除操作, 要重新查找index\r\n        const idx = findIndex(items, item => item.fieldId === fieldId);\r\n        items.splice(idx, 1, items[idx], item);\r\n\r\n        this.onChange(items);\r\n    }\r\n\r\n    clearTmpItems() {\r\n        const items = this.getAllItems();\r\n        const newItems = items.filter(item => !item.__tmp__);\r\n\r\n        this.onChange(newItems);\r\n    }\r\n\r\n    updateItemPid(item, pid = null) {\r\n        const items = this.getAllItems();\r\n        const fieldId = item.fieldId;\r\n        const idx = this.getItemIndex(fieldId);\r\n\r\n        if (idx !== -1) {\r\n            item.$pid = pid;\r\n            items[idx] = item;\r\n        }\r\n\r\n        this.onChange(items);\r\n    }\r\n\r\n    commitItem(item) {\r\n        const items = this.getAllItems();\r\n        const fieldId = item.fieldId;\r\n        const idx = this.getItemIndex(fieldId);\r\n\r\n        if (idx !== -1) {\r\n            item.__tmp__ = false;\r\n            delete item.__tmp__;\r\n            items[idx] = item;\r\n        }\r\n\r\n        this.onChange(items);\r\n    }\r\n\r\n    isTmpItem(item) {\r\n        return !!item.__tmp__;\r\n    }\r\n\r\n    getModel() {\r\n        return {\r\n            //   isWidget: this.isWidget.bind(this),\r\n            getWidget: this.getWidget.bind(this),\r\n            getWidgets: this.getWidgets.bind(this),\r\n            setActiveId: this.setActiveId.bind(this),\r\n            getActiveId: this.getActiveId.bind(this),\r\n            getActiveItem: this.getActiveItem.bind(this),\r\n            addItem: this.addItem.bind(this),\r\n            getPids: this.getPids.bind(this),\r\n            updateItem: this.updateItem.bind(this),\r\n            getItems: this.getItems.bind(this),\r\n            getAllItems: this.getAllItems.bind(this),\r\n            removeItem: this.removeItem.bind(this),\r\n            getItemIndex: this.getItemIndex.bind(this),\r\n            getItem: this.getItem.bind(this),\r\n            insertBefore: this.insertBefore.bind(this),\r\n            insertAfter: this.insertAfter.bind(this),\r\n            clearTmpItems: this.clearTmpItems.bind(this),\r\n            commitItem: this.commitItem.bind(this),\r\n            isTmpItem: this.isTmpItem.bind(this),\r\n            updateItemPid: this.updateItemPid.bind(this),\r\n\r\n        };\r\n    }\r\n\r\n    render() {\r\n        const { children } = this.props;\r\n        return (\r\n            <DesignContext.Provider value={this.getModel()}>\r\n                {children}\r\n            </DesignContext.Provider>\r\n        )\r\n    }\r\n}","\r\nimport React from 'react';\r\nimport { isValidElementType } from 'react-is';\r\nimport WPreview from './Preview';\r\nimport WDragPreview from './DragPreview';\r\nimport WPlaceholderPreview from './PlaceholderPreview';\r\nimport WWidgetProperty from './WidgetProperty';\r\n\r\nexport default class Widget {\r\n    /**\r\n         *\r\n         * @param {object} options 控件基本信息: 名称 图标 属性面板组件 预览组件 属性等\r\n         * @param {string} optopns.xtype 控件ID\r\n         * @param {string} optopns.title 控件名称\r\n         * @param {string} optopns.icon  控件图标\r\n         * @param {ReactElementType} optopns.Preview  控件拖放后预览组件\r\n         * @param {ReactElementType} optopns.DragPreview  控件拖拽时预览组件\r\n         * @param {ReactElementType} optopns.PlaceholderPreview  控件拖拽时占位预览组件\r\n         * @param {ReactElementType} optopns.WidgetProperty  控件属性面板组件\r\n         * @param {function|object} optopns.data 控件属性\r\n         * @memberof WidgetManager\r\n         */\r\n    constructor(options = {}) {\r\n        this.$$widget = true;\r\n        this.options = options;\r\n\r\n        this.xtype = options.xtype;\r\n        this.title = options.title;\r\n        this.icon = options.icon;\r\n\r\n        this.Preview = isValidElementType(options.Preview) ? options.Preview : WPreview;\r\n        this.DragPreview = isValidElementType(options.DragPreview) ? options.DragPreview : WDragPreview;\r\n        this.PlaceholderPreview = isValidElementType(options.PlaceholderPreview) ? options.PlaceholderPreview : WPlaceholderPreview;\r\n        this.WidgetProperty = isValidElementType(options.WidgetProperty) ? options.WidgetProperty : WWidgetProperty;\r\n\r\n    }\r\n\r\n    getItem() {\r\n        const data = this.options.data;\r\n        const ret = typeof data === 'function' ? data() : data;\r\n\r\n        return {\r\n            ...ret,\r\n            xtype: this.xtype,\r\n            __tmp__: true,\r\n            $pid: null,\r\n        }\r\n    }\r\n\r\n    get(name) {\r\n        return this.options[name];\r\n    }\r\n\r\n    set(name, value) {\r\n        this.options[name] = value;\r\n\r\n        return this;\r\n    }\r\n\r\n}","import React from 'react';\r\nimport classNames from 'classnames';\r\n\r\nexport default function (props) {\r\n    const item = props.item;\r\n    const classString = classNames({\r\n        'widget-preview-item-inner': true,\r\n        [props.className]: props.className\r\n    });\r\n\r\n    return (\r\n        <div\r\n            className={classString}\r\n        >\r\n            <label className=\"widget-preview-title\">{item.title}</label>\r\n            <span className=\"widget-preview-input\">{item.placeholder}</span>\r\n            {/* <span className=\"widget-preview-close\" onClick={onRemove}>x</span> */}\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\n\r\nexport default () => {\r\n    return null;\r\n}","import React from 'react';\r\n\r\nexport default function WidgetPlaceholderItem() {\r\n\r\n    return (\r\n        <div className=\"drag-item-placeholder\">\r\n            <div className=\"drag-item-placeholder-inner\">\r\n            </div>\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\n\r\nexport default ({\r\n    item,\r\n    onChange\r\n}) => {\r\n\r\n    return (\r\n        <div>\r\n            默认属性面板\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\nimport DesignContext from '../../DesignContext';\r\nimport WidgetItem from './WidgetItem';\r\n\r\nexport default class WidgetsPanel extends React.Component {\r\n\r\n    static contextType = DesignContext;\r\n\r\n    render() {\r\n        const designer = this.context;\r\n        const widgets = designer.getWidgets();\r\n\r\n        return (\r\n            <div className=\"widgets-panel\">\r\n                <div className=\"widgets-panel-header\">\r\n                    控件列表\r\n                </div>\r\n                <div className=\"widgets-panel-body\">\r\n                    {\r\n                        widgets.map(widget => {\r\n                            return (\r\n                                <WidgetItem\r\n                                    designer={designer}\r\n                                    key={widget.xtype}\r\n                                    widget={widget}\r\n                                />\r\n                            );\r\n                        })\r\n                    }\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport {\r\n    DragSource,\r\n    DropTarget,\r\n} from 'react-dnd';\r\nimport cx from 'classnames';\r\nimport {\r\n    WIDGET_DRAG_DROP_SCOPE\r\n} from '../../constants';\r\n\r\nconst spec = {\r\n    beginDrag(props, monitor, component) {\r\n        const designer = props.designer;\r\n        const widget = props.widget;\r\n        const item = widget.getItem();\r\n        designer.addItem(item);\r\n        console.log(item)\r\n\r\n        return {\r\n            // isWidgetDragging: true,\r\n            widget,\r\n            item,\r\n        };\r\n    },\r\n    endDrag(props, monitor, component) {\r\n        const designer = props.designer;\r\n        designer.clearTmpItems();\r\n        console.log('endDrag')\r\n    },\r\n    // canDrag(props) {\r\n    //     return !props.disabled;\r\n    // }\r\n};\r\n\r\nconst collect = (connect, monitor) => {\r\n    return {\r\n        connectDragSource: connect.dragSource(),\r\n        isDragging: monitor.isDragging(),\r\n    };\r\n};\r\n\r\nclass WidgetItem extends React.Component {\r\n\r\n    render() {\r\n        const { disabled, widget, connectDragSource, isDragging } = this.props;\r\n        const { title = \"未知组件\", icon } = widget;\r\n        return connectDragSource(\r\n            <div className={cx({\r\n                \"widget-item\": true,\r\n                \"widget-item-dragging\": isDragging,\r\n                \"widget-item-disabled\": disabled,\r\n            })}>\r\n                <div className=\"widget-item-title\">\r\n                    <img src={icon} />\r\n                    <span className=\"widget-text\">{title}</span>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DragSource(WIDGET_DRAG_DROP_SCOPE, spec, collect)(WidgetItem);","import React from 'react';\r\n\r\nexport default React.createContext({});","import React from 'react';\r\nimport DesignContext from '../DesignContext';\r\n// import { getWidgetPropertyPanel } from './widgets';\r\n// import {\r\n//     Form,\r\n//     FormItem,\r\n//     NativeField,\r\n// } from 'components/Form';\r\n\r\nexport default class PropertyPanel extends React.Component {\r\n\r\n    static contextType = DesignContext;\r\n\r\n    onItemChange = (item) => {\r\n        const designer = this.context;\r\n        const activeItem = designer.getActiveItem();\r\n\r\n        designer.updateItem({\r\n            ...activeItem,\r\n            ...item,\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const designer = this.context;\r\n        const activeItem = designer.getActiveItem();\r\n        if (!activeItem) {\r\n            return (\r\n                <div className=\"property-panel\">\r\n                    <div style={{ padding: 30, textAlign: 'center' }}>请先选择控件</div>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        const widget = designer.getWidget(activeItem.xtype);\r\n\r\n        if (!widget) {\r\n            return (\r\n                <div className=\"property-panel\">\r\n                    <div style={{ padding: 30, textAlign: 'center' }}>无.</div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div className=\"property-panel\">\r\n                <widget.WidgetProperty\r\n                    widget={widget}\r\n                    onChange={this.onItemChange}\r\n                    item={{ ...activeItem }}\r\n                    key={activeItem.fieldId}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport DesignContext from '../../DesignContext';\r\nimport WidgetDropAccepter from './WidgetDropAccepter';\r\n\r\nexport default class DesignPanel extends React.Component {\r\n    static contextType = DesignContext;\r\n\r\n    render() {\r\n        const pid = null\r\n        const designer = this.context;\r\n        const items = designer.getItems(pid);\r\n\r\n        return (\r\n            <div className=\"design-panel\">\r\n                <WidgetDropAccepter items={items} pid={pid} />\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport { findDOMNode } from 'react-dom';\r\nimport flow from 'lodash/flow';\r\nimport get from 'lodash/get';\r\nimport {\r\n    DragSource,\r\n    DropTarget,\r\n} from 'react-dnd';\r\nimport cx from 'classnames';\r\nimport {\r\n    WIDGET_DRAG_DROP_SCOPE\r\n} from '../../constants';\r\nimport DesignContext from '../../DesignContext';\r\n\r\nimport canDrop from './canDrop';\r\n\r\nconst dragSpec = {\r\n    beginDrag(props) {\r\n        const widget = props.widget;\r\n        const item = props.item;\r\n        return {\r\n            isWidgetDragging: false,\r\n            isPreviewDragging: false,\r\n            widget: widget,\r\n            item: item,\r\n        };\r\n    },\r\n    // endDrag(props, monitor, component) {\r\n    //     console.log('endDrag')\r\n    // }\r\n};\r\n\r\nconst dragCollect = (connect, monitor) => {\r\n    return {\r\n        connectDragSource: connect.dragSource(),\r\n        isDragging: monitor.isDragging(),\r\n    };\r\n}\r\n\r\n// function canDrop(props, monitor) {\r\n//     const designer = props.designer;\r\n//     const dragItem = monitor.getItem();\r\n//     const dragItemFieldId = dragItem.item.fieldId;\r\n//     const targetFieldId = props.item.fieldId;\r\n//     const pids = designer.getPids(targetFieldId);\r\n//     console.log(targetFieldId, 'pids: ', pids, dragItemFieldId);\r\n//     //解决父节点拖动到子节点的情况\r\n//     if (pids.indexOf(dragItemFieldId) > -1) return false;\r\n\r\n//     return targetFieldId !== dragItemFieldId;\r\n// }\r\n\r\nconst dropSpec = {\r\n    canDrop(props, monitor) {\r\n        return true;\r\n        // const designer = props.designer;\r\n        // const dragItem = monitor.getItem();\r\n        // // if (dragItem.isWidgetDragging) return true;\r\n        // const dragItemFieldId = dragItem.item.fieldId;\r\n        // const targetFieldId = props.item.fieldId; //currentFieldId;\r\n        // const pids = designer.getPids(targetFieldId);\r\n        // console.log(targetFieldId, 'pids: ', pids, dragItemFieldId);\r\n        // //解决父节点拖动到子节点的情况\r\n        // if (pids.indexOf(dragItemFieldId) > -1) return false;\r\n\r\n        // return targetFieldId !== dragItemFieldId;\r\n    },\r\n\r\n    hover(props, monitor, component) {\r\n        if (!canDrop(props, monitor, component)) return;\r\n\r\n        const isOver = monitor.isOver({ shallow: true });\r\n        if (!isOver) return;\r\n\r\n        const designer = component.context;\r\n        const { item } = props;\r\n        const dragItem = monitor.getItem();\r\n        const dragItemFieldId = dragItem.item.fieldId;\r\n        const isSortMode = true;\r\n        const dragOffset = monitor.getClientOffset();\r\n        const previewDOM = findDOMNode(component);\r\n\r\n        if (isSortMode) {\r\n            //顺序调整模式\r\n            if (item.fieldId === dragItemFieldId) {\r\n                return;\r\n            } else {\r\n                const targetOffset = previewDOM.getBoundingClientRect();\r\n                const middleY = targetOffset.bottom - (targetOffset.height / 2);\r\n                if (dragOffset.y <= middleY) {\r\n                    designer.insertBefore(dragItem.item, item.fieldId);\r\n                } else {\r\n                    designer.insertAfter(dragItem.item, item.fieldId);\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n    },\r\n\r\n    drop(props, monitor, component) {\r\n        if (monitor.didDrop() || !canDrop(props, monitor, component)) {\r\n            return;\r\n        }\r\n    }\r\n};\r\n\r\nconst dropCollect = (connect, monitor) => {\r\n    return {\r\n        connectDropTarget: connect.dropTarget(),\r\n        isOver: monitor.isOver({ shallow: true }),\r\n        canDrop: monitor.canDrop(),\r\n        dragItem: monitor.getItem(),\r\n    }\r\n}\r\n\r\nclass WidgetPreviewItem extends React.Component {\r\n\r\n    static contextType = DesignContext;\r\n\r\n    state = {\r\n        // placeholderPosition: 'none', //none after before top bottom\r\n    }\r\n\r\n    handlePreviewClick(item, e) {\r\n        if (e.isDefaultPrevented()) {\r\n            return;\r\n        }\r\n        e.preventDefault();\r\n        const designer = this.context;\r\n        designer.setActiveId(item.fieldId);\r\n    }\r\n\r\n    handleRemove = () => {\r\n        const designer = this.context;\r\n        const { item } = this.props;\r\n        designer.removeItem(item.fieldId)\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            connectDropTarget,\r\n            connectDragSource,\r\n            isDragging,\r\n            isOver,\r\n            widget,\r\n            item,\r\n            dragItem,\r\n            visible,\r\n        } = this.props;\r\n        // const { placeholderPosition } = this.state;\r\n        const designer = this.context;\r\n        const activeId = designer.getActiveId();\r\n        //如果来源不是组建面板,则是排序模式\r\n        const isSortMode = dragItem && !dragItem.isWidgetDragging;\r\n        // const items = layout.getLayoutChildren(data.id);\r\n\r\n        return connectDropTarget(\r\n            <div\r\n                className={cx({\r\n                    \"widget-preview-item-wrapper\": true,\r\n                    \"droppable\": isOver,\r\n                    \"dragging\": isDragging,\r\n                    // \"drop-tips\": canDrop,\r\n                })}\r\n\r\n                style={{\r\n                    display: visible ? 'inline-block' : 'none',\r\n                    width: item.width || '100%'\r\n                }}\r\n\r\n            >\r\n                {/* {placeholderPosition === 'top' && isOver && !isSortMode ? <widget.PlaceholderPreview /> : null} */}\r\n                <div\r\n                    ref={connectDragSource}\r\n                    className={cx({\r\n                        \"widget-preview-item\": true,\r\n                        \"widget-preview-item-selected\": activeId === item.fieldId,\r\n                    })}\r\n                    onClick={this.handlePreviewClick.bind(this, item)}\r\n                >\r\n                    <widget.Preview item={item} designer={designer} />\r\n                    <span className=\"widget-preview-close\" onClick={this.handleRemove}>x</span>\r\n                </div>\r\n                {/* {placeholderPosition === 'bottom' && isOver && !isSortMode ? <widget.PlaceholderPreview /> : null} */}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default flow(\r\n    DropTarget(WIDGET_DRAG_DROP_SCOPE, dropSpec, dropCollect),\r\n    DragSource(WIDGET_DRAG_DROP_SCOPE, dragSpec, dragCollect),\r\n)(WidgetPreviewItem)","export default function canDrop(props, monitor) {\r\n    const designer = props.designer;\r\n    const dragItem = monitor.getItem();\r\n    const dragItemFieldId = dragItem.item.fieldId;\r\n    const targetFieldId = props.item.fieldId;\r\n    const pids = designer.getPids(targetFieldId);\r\n    //解决父节点拖动到子节点的情况\r\n    if (pids.indexOf(dragItemFieldId) > -1) return false;\r\n\r\n    return targetFieldId !== dragItemFieldId;\r\n}","import TextField from './TextField';\r\nimport TextareaField from './TextareaField';\r\nimport SelectField from './SelectField';\r\n// import MultiSelectField from './MultiSelectField';\r\n// import NumberField from './NumberField';\r\n// import DateField from './DateField';\r\nimport URLField from './URLField';\r\n// import FileField from './FileField';\r\nimport DetailedField from './DetailedField';\r\n\r\nexport default [\r\n    TextField,\r\n    TextareaField,\r\n    SelectField,\r\n    // MultiSelectField,\r\n    // NumberField,\r\n    // DateField,\r\n    URLField,\r\n    DetailedField,\r\n    // FileField,\r\n];","import data from '../common/data';\r\nimport PropertyPanel from './PropertyPanel';\r\nimport icon from './icon.png';\r\n\r\nconst XType = 'EX_TEXT_FIELD';\r\nconst Title = '文本';\r\n\r\nexport default {\r\n    xtype: \"EX_TEXT_FIELD\",\r\n    title: \"文本\",\r\n    icon: icon,\r\n    WidgetProperty: PropertyPanel,\r\n\r\n    data() {\r\n        return {\r\n            ...data(),\r\n            xtype: XType,\r\n            title: Title,\r\n        }\r\n    }\r\n};","export function uuid() {\r\n    return Math.random().toString(16).slice(2, 8);\r\n}\r\n","import React from 'react';\r\nimport PropertyForm from '../PropertyForm';\r\n// import {\r\n//     FormItem,\r\n//     NativeField,\r\n// } from 'components/Form';\r\n\r\nimport CommonPropertyPanel from '../common/CommonPropertyPanel';\r\nimport ValidatePropertyPanel from '../common/ValidatePropertyPanel';\r\n\r\nexport default function (props) {\r\n\r\n    return (\r\n        <PropertyForm {...props}>\r\n            <CommonPropertyPanel />\r\n            <ValidatePropertyPanel />\r\n        </PropertyForm>\r\n    );\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classnames from 'classnames';\r\nimport AsyncValidator from 'async-validator';\r\nimport set from 'lodash/set';\r\nimport get from 'lodash/get';\r\nimport scrollIntoView from 'bplokjs-dom-utils/scrollIntoView';\r\nimport FormContext from './FormContext';\r\n\r\nAsyncValidator.warning = function () { };\r\n\r\nexport default class Form extends React.Component {\r\n    static propTypes = {\r\n        prefixCls: PropTypes.string,\r\n        className: PropTypes.string,\r\n        style: PropTypes.object,\r\n        path2obj: PropTypes.bool,\r\n        formDefaultValue: PropTypes.object,\r\n        formValue: PropTypes.object,\r\n        validateDelay: PropTypes.number,\r\n        validateTrigger: PropTypes.string, //change blur none\r\n        component: PropTypes.node,\r\n        rules: PropTypes.oneOfType([PropTypes.object, PropTypes.array, PropTypes.func]),\r\n        labelWidth: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n        labelPosition: PropTypes.oneOf(['top', 'left', 'right']),\r\n        alignItems: PropTypes.oneOf(['top', 'center', 'bottom']),\r\n        inline: PropTypes.bool,\r\n        onSubmit: PropTypes.func,\r\n        onChange: PropTypes.func,\r\n        validateFieldsAndScroll: PropTypes.bool,\r\n        showMessage: PropTypes.bool,\r\n        getFormItemInputProps: PropTypes.func,\r\n    }\r\n\r\n    static defaultProps = {\r\n        prefixCls: 'rw-form',\r\n        className: '',\r\n        style: {},\r\n        rules: {},\r\n        path2obj: true,\r\n        component: 'form',\r\n        validateDelay: 0,\r\n        validateTrigger: 'none',\r\n        labelPosition: 'left',\r\n        alignItems: \"center\",\r\n        inline: false,\r\n        showMessage: true,\r\n    }\r\n\r\n    static getDerivedStateFromProps(nextProps, prevState) {\r\n        return {\r\n            formValue: nextProps.formValue || prevState.formValue,\r\n        }\r\n    }\r\n\r\n    fields = []\r\n    _valiateCb = []\r\n\r\n    state = {\r\n        formError: {},\r\n        validatingFields: {},\r\n        formValue: this.props.formDefaultValue || {},\r\n    }\r\n\r\n    addField(field) {\r\n        this.fields.push(field);\r\n    }\r\n\r\n    removeField(field) {\r\n        var idx = this.fields.indexOf(field);\r\n        if (idx !== -1) {\r\n            this.fields.splice(idx, 1);\r\n        }\r\n    }\r\n\r\n    getValue(name) {\r\n        const path2obj = this.props.path2obj;\r\n        const formValue = this.state.formValue;\r\n        if (path2obj) {\r\n            return get(formValue, name);\r\n        }\r\n        return formValue[name];\r\n    }\r\n\r\n    setValue(name, value, event, cb) {\r\n        const { path2obj, onChange } = this.props;\r\n        const formValue = this.state.formValue;\r\n\r\n        const nextFormValue = {\r\n            ...formValue\r\n        };\r\n\r\n        if (path2obj) {\r\n            set(nextFormValue, name, value);\r\n        } else {\r\n            nextFormValue[name] = value;\r\n        }\r\n\r\n        if (!('formValue' in this.props)) {\r\n            this.setState({\r\n                formValue: nextFormValue\r\n            });\r\n        }\r\n\r\n        if (onChange) {\r\n            onChange(nextFormValue, event);\r\n        }\r\n\r\n        if (cb) {\r\n            this._valiateCb.push(cb);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        const formValue = this.state.formValue;\r\n        const validateProcess = this._valiateCb;\r\n        this._valiateCb = [];\r\n        validateProcess.forEach(cb => {\r\n            cb(formValue);\r\n        });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._valiateCb = [];\r\n    }\r\n\r\n    getError(name) {\r\n        const { formError } = this.state;\r\n        if (!arguments.length) return formError;\r\n        return formError[name];\r\n    }\r\n\r\n    cleanErrors() {\r\n        this.setState({\r\n            validatingFields: {},\r\n            formError: {}\r\n        });\r\n    }\r\n\r\n    setErrors(errors) {\r\n        const { formError } = this.state;\r\n        this.setState({\r\n            ...formError,\r\n            ...errors\r\n        });\r\n    }\r\n\r\n    getFieldRules(name) {\r\n        const fieldRules = [];\r\n        this.fields\r\n            .filter(field => field.props.name === name)\r\n            .forEach(field => {\r\n                const fieldProps = field.props;\r\n                let rules = fieldProps.rules || [];\r\n                if (typeof rules === 'function') {\r\n                    rules = [\r\n                        {\r\n                            validator: rules\r\n                        }\r\n                    ]\r\n                } else if (!Array.isArray(rules)) {\r\n                    rules = [rules];\r\n                }\r\n                if (fieldProps.required) {\r\n                    rules.unshift({\r\n                        required: true\r\n                    });\r\n                }\r\n\r\n                fieldRules.push(...rules);\r\n            });\r\n\r\n        let rules = this.props.rules[name] || [];\r\n        if (rules) {\r\n            if (typeof rules === 'function') {\r\n                rules = [\r\n                    {\r\n                        validator: rules\r\n                    }\r\n                ]\r\n            } else if (!Array.isArray(rules)) {\r\n                rules = [rules];\r\n            }\r\n        }\r\n\r\n        return rules ? fieldRules.concat(rules) : fieldRules;\r\n    }\r\n\r\n    isValidatingField(name) {\r\n        const validatingFields = this.state.validatingFields;\r\n        return !!validatingFields[name];\r\n    }\r\n\r\n    validateField(name, cb) {\r\n        const { formError, validatingFields } = this.state;\r\n        const value = this.getValue(name);\r\n        const rules = this.getFieldRules(name);\r\n\r\n        if (!rules || rules.length === 0) {\r\n            if (cb instanceof Function) {\r\n                cb(null, value);\r\n            }\r\n            return;\r\n        }\r\n\r\n        this.setState({\r\n            validatingFields: {\r\n                ...validatingFields,\r\n                [name]: true,\r\n            }\r\n        });\r\n\r\n        const descriptor = { [name]: rules };\r\n        const validator = new AsyncValidator(descriptor);\r\n        const data = { [name]: value };\r\n\r\n        validator.validate(data, { firstFields: true }, errors => {\r\n            this.setState({\r\n                formError: {\r\n                    ...formError,\r\n                    [name]: errors ? errors[0].message : null\r\n                },\r\n                validatingFields: {\r\n                    ...validatingFields,\r\n                    [name]: false,\r\n                },\r\n            }, () => {\r\n                if (cb instanceof Function) {\r\n                    cb(errors, value);\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    validate(callback) {\r\n        const { formValue } = this.state;\r\n        const fields = this.fields;\r\n        const rules = {};\r\n\r\n        if (fields.length === 0 && callback) {\r\n            callback(null, formValue);\r\n            return;\r\n        }\r\n\r\n        fields.forEach(field => {\r\n            const name = field.props.name;\r\n            if (!name || name in rules) return;\r\n            const fieldRules = this.getFieldRules(name);\r\n            if (fieldRules && fieldRules.length) {\r\n                rules[name] = fieldRules;\r\n            }\r\n        });\r\n\r\n        const validatingFields = {};\r\n\r\n        const validator = new AsyncValidator(rules);\r\n        const data = {};\r\n        Object.keys(rules).forEach(key => {\r\n            data[key] = get(formValue, key);\r\n            validatingFields[key] = true;\r\n        });\r\n\r\n        this.setState({\r\n            validatingFields\r\n        });\r\n\r\n        validator.validate(data, { firstFields: true }, errors => {\r\n            const formError = {};\r\n            if (errors) {\r\n                errors.forEach(error => {\r\n                    formError[error.field] = error.message;\r\n                });\r\n            }\r\n            this.setState({\r\n                formError,\r\n                validatingFields: {},\r\n            }, () => {\r\n                if (callback instanceof Function) {\r\n                    callback(errors, formValue);\r\n                }\r\n            });\r\n\r\n        });\r\n    }\r\n\r\n    validateAndScroll(callback) {\r\n        this.validate((errors, formValue) => {\r\n            if (errors) {\r\n                let field;\r\n                const formError = this.state.formError;\r\n                const fields = this.fields;\r\n                fields.forEach(f => {\r\n                    const name = f.props.name;\r\n                    if (!name) return;\r\n                    if (!field && (name in formError)) {\r\n                        field = f;\r\n                    }\r\n                });\r\n\r\n                if (field) {\r\n                    scrollIntoView(field.getDOM());\r\n                }\r\n            }\r\n\r\n            callback(errors, formValue);\r\n        });\r\n    }\r\n\r\n    onFieldChange(name, value) {\r\n        const { formValue } = this.state;\r\n\r\n        formValue.set(name, value);\r\n    }\r\n\r\n    getFormContext() {\r\n        return {\r\n            form: this,\r\n        };\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            prefixCls,\r\n            style,\r\n            className,\r\n            onSubmit,\r\n            component: Component,\r\n            children\r\n        } = this.props;\r\n\r\n        return (\r\n            <FormContext.Provider value={this.getFormContext()}>\r\n                <Component\r\n                    style={style}\r\n                    className={classnames(prefixCls, className)}\r\n                    onSubmit={onSubmit}\r\n                >\r\n                    {typeof children === 'function' ? children(this) : children}\r\n                </Component>\r\n            </FormContext.Provider>\r\n        )\r\n    }\r\n}\r\n\r\n","import Form from './Form';\r\nimport FormItem from './FormItem';\r\nimport NativeField from './NativeField';\r\n\r\nexport {\r\n    Form,\r\n    FormItem,\r\n    NativeField,\r\n};\r\n\r\nForm.Item = FormItem;\r\nForm.NativeField = NativeField;\r\n\r\nexport default Form;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classnames from 'classnames';\r\nimport FormContext from './FormContext';\r\nexport default class FormItem extends React.Component {\r\n\r\n    static contextType = FormContext;\r\n\r\n    static propTypes = {\r\n        label: PropTypes.node,\r\n        labelFor: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n        labelWidth: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n        labelPosition: PropTypes.oneOf(['top', 'left', 'right']),\r\n        alignItems: PropTypes.oneOf(['top', 'center', 'bottom']),\r\n        name: PropTypes.string,\r\n        rules: PropTypes.oneOfType([PropTypes.object, PropTypes.array, PropTypes.func]),\r\n        required: PropTypes.bool,\r\n        normalize: PropTypes.func,\r\n        validateDelay: PropTypes.number,\r\n        validateTrigger: PropTypes.string, //change blur none\r\n        inline: PropTypes.bool,\r\n        showMessage: PropTypes.bool,\r\n        help: PropTypes.node,\r\n        style: PropTypes.object,\r\n        //extra: PropTypes.node,\r\n    }\r\n\r\n    static defaultProps = {\r\n        prefixCls: 'rw-form-item',\r\n        // labelPosition: 'left',\r\n        // alignItems: \"center\",\r\n        // inline: false,\r\n        //showMessage: true,\r\n    }\r\n\r\n    saveDOM = dom => {\r\n        this._dom = dom;\r\n    }\r\n\r\n    getDOM() {\r\n        return this._dom;\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { form } = this.context;\r\n        const { name } = this.props;\r\n\r\n        if (name) {\r\n            form.addField(this);\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        const { form } = this.context;\r\n        form.removeField(this);\r\n    }\r\n\r\n    isRequired() {\r\n        const { form } = this.context;\r\n        const { name } = this.props;\r\n        let rules = form.getFieldRules(name);\r\n        let isRequired = false;\r\n\r\n        if (rules && rules.length) {\r\n            isRequired = rules.some(rule => rule.required);\r\n        }\r\n\r\n        return isRequired;\r\n    }\r\n\r\n    _validateTimer = null\r\n\r\n    getValidateTrigger() {\r\n        const { form } = this.context;\r\n        const { validateTrigger } = form.props;\r\n        const props = this.props;\r\n\r\n        return 'validateTrigger' in props ? props.validateTrigger : validateTrigger;\r\n    }\r\n\r\n    getValidateDelay() {\r\n        const { form } = this.context;\r\n        const { validateDelay } = form.props;\r\n        const props = this.props;\r\n\r\n        return 'validateDelay' in props ? props.validateDelay : validateDelay;\r\n    }\r\n\r\n    onFieldBlur() {\r\n        const { form } = this.context;\r\n        const validateTrigger = this.getValidateTrigger();\r\n        const validateDelay = this.getValidateDelay();\r\n        const { name } = this.props;\r\n\r\n        if (validateTrigger === 'blur') {\r\n            if (validateDelay > 0) {\r\n                if (this._validateTimer) clearTimeout(this._validateTimer)\r\n                this._validateTimer = setTimeout(() => {\r\n                    form.validateField(name);\r\n                }, validateDelay);\r\n            } else {\r\n                form.validateField(name);\r\n            }\r\n        }\r\n    }\r\n\r\n    getValue() {\r\n        const { name } = this.props;\r\n        const { form } = this.context;\r\n\r\n        return form.getValue(name);\r\n    }\r\n\r\n    onFieldChange(value, e) {\r\n        const { form } = this.context;\r\n        const { name } = this.props;\r\n\r\n        form.setValue(name, value, e, () => {\r\n            const validateTrigger = this.getValidateTrigger();\r\n            const validateDelay = this.getValidateDelay();\r\n\r\n            if (validateTrigger === 'change') {\r\n                if (validateDelay > 0) {\r\n                    if (this._validateTimer) clearTimeout(this._validateTimer)\r\n                    this._validateTimer = setTimeout(() => {\r\n                        form.validateField(name);\r\n                    }, validateDelay);\r\n                } else {\r\n                    form.validateField(name);\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    getLabelProps() {\r\n        const { form } = this.context;\r\n        const formProps = form.props;\r\n        const props = this.props;\r\n\r\n        return {\r\n            inline: 'inline' in props ? props.inline : formProps.inline,\r\n            labelPosition: 'labelPosition' in props ? props.labelPosition : formProps.labelPosition,\r\n            labelWidth: 'labelWidth' in props ? props.labelWidth : formProps.labelWidth,\r\n            alignItems: 'alignItems' in props ? props.alignItems : formProps.alignItems,\r\n            showMessage: 'showMessage' in props ? props.showMessage : formProps.showMessage,\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { form } = this.context;\r\n        const {\r\n            normalize,\r\n            label,\r\n            required,\r\n            labelFor,\r\n            className,\r\n            prefixCls,\r\n            name,\r\n            help,\r\n            style,\r\n            //extra,\r\n        } = this.props;\r\n        const { inline, labelPosition, labelWidth, alignItems, showMessage } = this.getLabelProps();\r\n        const error = form.getError(name);\r\n        const validating = form.isValidatingField(name);\r\n\r\n        const children = React.Children.only(this.props.children);\r\n\r\n        const {\r\n            onChange,\r\n            onBlur\r\n        } = children.props;\r\n\r\n        const getFormItemInputProps = form.props.getInputProps || function () { return {} };\r\n\r\n        const onFieldChange = this.onFieldChange.bind(this);\r\n        const onFieldBlur = this.onFieldBlur.bind(this);\r\n\r\n        const InputComponent = React.cloneElement(children, {\r\n            ...getFormItemInputProps(name),\r\n            value: this.getValue(),\r\n            onChange: function (value, event) {\r\n                if (normalize) {\r\n                    value = normalize(value);\r\n                }\r\n\r\n                onChange && onChange(value, event);\r\n\r\n                onFieldChange(value, event)\r\n            },\r\n            onBlur: function (e) {\r\n                onBlur && onBlur(e);\r\n                onFieldBlur(e)\r\n            },\r\n        });\r\n\r\n        return (\r\n            <div\r\n                style={style}\r\n                ref={this.saveDOM}\r\n                className={classnames(prefixCls, {\r\n                    [`${prefixCls}-inline`]: inline,\r\n                    [`${prefixCls}-position-${labelPosition}`]: labelPosition,\r\n                    [`${prefixCls}-align-items-${alignItems}`]: alignItems !== 'center',\r\n                    [`${prefixCls}-error`]: error,\r\n                    [`${prefixCls}-validating`]: validating,\r\n                    [`${prefixCls}-required`]: this.isRequired() || required,\r\n                    [`${prefixCls}-with-help`]: help,\r\n                    [`${className}`]: className,\r\n                })}\r\n            >\r\n                {\r\n                    label && (\r\n                        <label\r\n                            htmlFor={labelFor}\r\n                            className={`${prefixCls}-label`}\r\n                            style={{\r\n                                width: labelWidth\r\n                            }}\r\n                        >\r\n                            {label}\r\n                        </label>\r\n                    )\r\n                }\r\n                <div className={`${prefixCls}-content`}>\r\n                    {InputComponent}\r\n                    {\r\n                        !help && showMessage && error ? (\r\n                            <div className={`${prefixCls}-error-tip`} >{error}</div>\r\n                        ) : null\r\n                    }\r\n                    {\r\n                        help ? (\r\n                            <div className={`${prefixCls}-help`} >{help}</div>\r\n                        ) : null\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\n\r\nexport default function NativeField(props) {\r\n    const {\r\n        component: Component = 'input',\r\n        value,\r\n        inputRef,\r\n        onChange,\r\n        ...others\r\n    } = props;\r\n\r\n    const onInputChange = (e) => {\r\n        const value = e.target.value;\r\n        onChange && onChange(value, e);\r\n    }\r\n\r\n    return (\r\n        <Component\r\n            ref={inputRef}\r\n            onChange={onInputChange}\r\n            value={value}\r\n            {...others}\r\n        />\r\n    );\r\n}","import React from 'react';\r\n// import { FormItem } from '../Form';\r\nimport Icon from '../Icon';\r\n\r\nexport default class MultipleInputField extends React.Component {\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n        let value = props.value || state.value;\r\n\r\n        if (!Array.isArray(value)) {\r\n            value = [];\r\n        }\r\n\r\n        if (!value.length) {\r\n            value.push({\r\n                value: '选项1',\r\n                label: '选项1',\r\n            });\r\n        }\r\n\r\n        return {\r\n            value: [...value],\r\n            sIndex: Math.max(value.length, state.sIndex),\r\n        }\r\n    }\r\n    state = {\r\n        value: this.props.defaultValue || [],\r\n        sIndex: 1,\r\n    }\r\n\r\n    onItemChange(index, e) {\r\n        const { onChange } = this.props;\r\n        const { value } = this.state;\r\n        value[index] = {\r\n            value: e.target.value,\r\n            label: e.target.value,\r\n        };\r\n\r\n        onChange && onChange(value);\r\n    }\r\n\r\n    onAddItem(index) {\r\n        const { onChange } = this.props;\r\n        const { value, sIndex } = this.state;\r\n\r\n        const text = '选项' + (1 + sIndex);\r\n\r\n        this.setState({\r\n            sIndex: sIndex + 1,\r\n        });\r\n\r\n        const item = {\r\n            value: text,\r\n            label: text,\r\n        };\r\n\r\n        value.splice(index, 1,\r\n            value[index],\r\n            item\r\n        )\r\n\r\n        onChange && onChange(value);\r\n    }\r\n\r\n    onRemoveItem(index) {\r\n        const { onChange } = this.props;\r\n        const { value } = this.state;\r\n\r\n        if (value.length <= 1) return;\r\n\r\n        value.splice(index, 1)\r\n\r\n        onChange && onChange(value);\r\n    }\r\n\r\n    renderItem = (item, i) => {\r\n\r\n        return (\r\n            <div className=\"multi-input-item\" key={i}>\r\n                <div className=\"multi-input\">\r\n                    <input\r\n                        value={item.label}\r\n                        placeholder=\"选项名称\"\r\n                        onChange={this.onItemChange.bind(this, i)}\r\n                    />\r\n                </div>\r\n                <div className=\"multi-input-tools\">\r\n                    <Icon type=\"add\" onClick={this.onAddItem.bind(this, i)}>+</Icon>\r\n                    <Icon type=\"remove\" onClick={this.onRemoveItem.bind(this, i)}>-</Icon>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const { value } = this.state;\r\n\r\n        return (\r\n            <div className=\"multi-input-wrapper\">\r\n                {\r\n                    value.map(this.renderItem)\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\n\r\nexport default props => {\r\n    return (\r\n        <span>{props.value}</span>\r\n    )\r\n}","import React from 'react';\r\nimport Icon from '../Icon';\r\n\r\nfunction getUnit(value) {\r\n\r\n    if (/px$/.test(value)) {\r\n        return 'px';\r\n    }\r\n\r\n    if (/%$/.test(value)) {\r\n        return '%';\r\n    }\r\n\r\n    return 'px';\r\n\r\n}\r\n\r\nfunction toValue(value) {\r\n    value = parseFloat(value);\r\n    return isNaN(value) ? 0 : value;\r\n}\r\n\r\nexport default class WidthInputField extends React.Component {\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if ('value' in props) {\r\n            return {\r\n                value: toValue(props.value),\r\n                unit: getUnit(props.value)\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    constructor(props, ...a) {\r\n        super(props, ...a);\r\n\r\n        const value = props.defaultValue || '';\r\n        this.state = {\r\n            value: toValue(value),\r\n            unit: getUnit(value),\r\n        }\r\n\r\n    }\r\n\r\n    renderSuffix() {\r\n        const { unit } = this.state;\r\n\r\n        return (\r\n            <div className=\"width-suffix\">\r\n                <div className=\"width-suffix-text\">\r\n                    <span>{unit}</span>\r\n                    <div className=\"width-suffix-unit\">\r\n                        <div className=\"width-suffix-unit-item\" onClick={this.onUnitChange.bind(this, 'px')}>px</div>\r\n                        <div className=\"width-suffix-unit-item\" onClick={this.onUnitChange.bind(this, '%')}>%</div>\r\n                    </div>\r\n                </div>\r\n                <Icon type=\"caret-down\" />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    onUnitChange(unit) {\r\n        const props = this.props;\r\n        let { value } = this.state;\r\n\r\n        if (unit === '%') {\r\n            value = Math.max(Math.min(value, 100), 0);\r\n        }\r\n\r\n        if (!('value' in props)) {\r\n            this.setState({\r\n                unit,\r\n                value\r\n            });\r\n        }\r\n\r\n        props.onChange && props.onChange(value + unit);\r\n    }\r\n\r\n    handleInputChange = e => {\r\n        const { unit } = this.state;\r\n        const props = this.props;\r\n\r\n        let value = toValue(e.target.value);\r\n\r\n        if (unit === '%') {\r\n            value = Math.max(Math.min(value, 100), 0);\r\n        }\r\n\r\n        if (!('value' in props)) {\r\n            this.setState({\r\n                value\r\n            });\r\n        }\r\n\r\n        const v = (value + unit);\r\n\r\n        props.onChange && props.onChange(v);\r\n    }\r\n\r\n    render() {\r\n        const { value } = this.state;\r\n\r\n        return (\r\n            <div className=\"width-input-field\">\r\n                <input\r\n                    onChange={this.handleInputChange}\r\n                    value={value}\r\n                />\r\n                {\r\n                    this.renderSuffix()\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAxklEQVRYR+2WXRHCMBCE9xwgAQfgAOrgogALSAAHOOk6AByAExwskw7w0FKGTmlaZnLvl+/L5tcwctnIfGSBnEBOYDoJuPsBwCLVvUCyiKxXAiGEE4BVKoGyLCv2O4GzpCgzRM3NbBMHbhWQtCe5G4Lu7mszO34t8GiQpCvJW1+pzgIhBEWopIJk72XJAjmBv0yg2vmStiQvyY9hX2C9v/MSjCLwa2jbeJ8eoyQODQF3XwKYJaEDeF7t0/kRpZp5nZMTyAncAYM54iEqZrwtAAAAAElFTkSuQmCC\"","import PropertyPanel from './PropertyPanel';\r\n\r\nimport data from '../common/data';\r\nimport icon from './icon.png';\r\n\r\nconst XType = 'EX_TEXTAREA_FIELD';\r\nconst Title = '多行文本';\r\n\r\nexport default {\r\n    xtype: \"EX_TEXTAREA_FIELD\",\r\n    title: \"多行文本\",\r\n    icon: icon,\r\n    WidgetProperty: PropertyPanel,\r\n\r\n    data() {\r\n        return {\r\n            ...data(),\r\n            xtype: XType,\r\n            title: Title,\r\n            height: '70'\r\n        }\r\n    }\r\n};","import React from 'react';\r\nimport {\r\n    FormItem,\r\n    NativeField,\r\n} from 'components/Form';\r\n\r\nimport PropertyForm from '../PropertyForm';\r\n\r\nimport CommonPropertyPanel from '../common/CommonPropertyPanel';\r\nimport ValidatePropertyPanel from '../common/ValidatePropertyPanel';\r\n\r\nexport default function (props) {\r\n\r\n    return (\r\n        <PropertyForm {...props}>\r\n            <CommonPropertyPanel />\r\n            <FormItem\r\n                className=\"design-property-field\"\r\n                label=\"高度\"\r\n                name=\"height\"\r\n            >\r\n                <NativeField\r\n                    component=\"input\"\r\n                />\r\n            </FormItem>\r\n            <ValidatePropertyPanel />\r\n        </PropertyForm>\r\n    );\r\n}","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAv0lEQVRYR+2W4QnCMBBGXzfpJuoG3cBuYEdwFN3EbtARHKEbKB80UDFIhGuOwgX6r+R7eXdpr8F5Nc75BEAYWBs4AodKTXkHnspaA1yBAZg2htAhT8AjByALerZcr90AdIum2VhHsYGPFw0hAiAM7MeArl+6ioaXgGIDbfpeW6ZDOYBxLj1w8wJQsIzqP1NcAisDCj8DowdACtdhXAByFn+W4FJhIFEfZAeSGsNIMqLSfI1kVk331z4xlocBdwNvGE5RIQon4uUAAAAASUVORK5CYII=\"","import PropertyPanel from './PropertyPanel';\r\n\r\nimport data from '../common/data';\r\nimport icon from './icon.png';\r\n\r\nconst XType = 'EX_SELECT_FIELD';\r\nconst Title = '单选列表';\r\n\r\nexport default {\r\n    xtype: XType,\r\n    title: Title,\r\n    icon: icon,\r\n    WidgetProperty: PropertyPanel,\r\n\r\n    data() {\r\n        return {\r\n            ...data(),\r\n            xtype: XType,\r\n            title: Title,\r\n            data: [\r\n                {\r\n                    value: '选项1',\r\n                    label: '选项1',\r\n                },\r\n                {\r\n                    value: '选项2',\r\n                    label: '选项2',\r\n                },\r\n                {\r\n                    value: '选项3',\r\n                    label: '选项3',\r\n                }\r\n            ]\r\n        }\r\n    }\r\n};\r\n","import React from 'react';\r\nimport {\r\n    FormItem,\r\n    NativeField,\r\n} from 'components/Form';\r\nimport {\r\n    MultipleInputField,\r\n} from 'components/FormField';\r\n\r\nimport PropertyForm from '../PropertyForm';\r\n\r\nimport CommonPropertyPanel from '../common/CommonPropertyPanel';\r\nimport ValidatePropertyPanel from '../common/ValidatePropertyPanel';\r\n\r\nexport default function (props) {\r\n\r\n    return (\r\n        <PropertyForm {...props}>\r\n            <CommonPropertyPanel />\r\n            <FormItem\r\n                className=\"design-property-field\"\r\n                label=\"选项值\"\r\n                name=\"data\"\r\n            >\r\n                <MultipleInputField />\r\n            </FormItem>\r\n            <ValidatePropertyPanel />\r\n        </PropertyForm>\r\n    );\r\n}","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAA0UlEQVRYR+2WURHCMBBE9xSAAyzgAHCQOKiESgAlgIKuBCSAA3CAg2XCUKZ0ypQPkv7cfaYz2deXm1wME5dNnA8HcANvAzHGK4BFqaaUtCO57QKoVHib0zSNDQHcACQbuWoJYJY2HwSQtCF5ypUeY0x7rxzADWQxEEIIZtb0G1jSkWSV1rM3YQihMrN9B+IiaU3yXgQghXQgPsKLAbwgagCH9s9bI9mPYOwCc4BfDKRBlHUYmdn86z0wdob//N6fhgTwJCtRks4ka38TugE34AYe7FjWIZhHzn8AAAAASUVORK5CYII=\"","import data from '../common/data';\r\nimport PropertyPanel from './PropertyPanel';\r\nimport icon from './icon.png';\r\n\r\nconst XType = 'EX_TEXT_FIELD';\r\nconst Title = '文本';\r\n\r\nexport default {\r\n    xtype: \"EX_URL_FIELD\",\r\n    title: \"URL\",\r\n    icon: icon,\r\n    WidgetProperty: PropertyPanel,\r\n\r\n    data() {\r\n        return {\r\n            ...data(),\r\n            xtype: XType,\r\n            title: Title,\r\n        }\r\n    }\r\n};","import React from 'react';\r\nimport PropertyForm from '../PropertyForm';\r\n\r\nimport CommonPropertyPanel from '../common/CommonPropertyPanel';\r\nimport ValidatePropertyPanel from '../common/ValidatePropertyPanel';\r\n\r\nexport default function (props) {\r\n\r\n    return (\r\n        <PropertyForm {...props}>\r\n            <CommonPropertyPanel />\r\n            <ValidatePropertyPanel />\r\n        </PropertyForm>\r\n    );\r\n}","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAxklEQVRYR+2WXRHCMBCE9xwgAQfgAOrgogALSAAHOOk6AByAExwskw7w0FKGTmlaZnLvl+/L5tcwctnIfGSBnEBOYDoJuPsBwCLVvUCyiKxXAiGEE4BVKoGyLCv2O4GzpCgzRM3NbBMHbhWQtCe5G4Lu7mszO34t8GiQpCvJW1+pzgIhBEWopIJk72XJAjmBv0yg2vmStiQvyY9hX2C9v/MSjCLwa2jbeJ8eoyQODQF3XwKYJaEDeF7t0/kRpZp5nZMTyAncAYM54iEqZrwtAAAAAElFTkSuQmCC\"","import PropertyPanel from './PropertyPanel';\r\nimport Preview from './Preview';\r\nimport data from '../common/data';\r\nimport icon from './icon.png';\r\n\r\nconst XType = 'EX_DETAILED_FIELD';\r\nconst Title = '明细';\r\n\r\nexport default {\r\n    xtype: XType,\r\n    title: Title,\r\n    icon: icon,\r\n    WidgetProperty: PropertyPanel,\r\n    Preview: Preview,\r\n    data() {\r\n        return {\r\n            ...data(),\r\n            xtype: XType,\r\n            title: Title,\r\n        }\r\n    }\r\n};","import React from 'react';\r\n\r\nimport PropertyForm from '../PropertyForm';\r\n\r\nimport CommonPropertyPanel from '../common/CommonPropertyPanel';\r\nimport ValidatePropertyPanel from '../common/ValidatePropertyPanel';\r\n\r\nexport default function (props) {\r\n\r\n    return (\r\n        <PropertyForm {...props}>\r\n            <CommonPropertyPanel />\r\n            <ValidatePropertyPanel />\r\n        </PropertyForm>\r\n    );\r\n}","import React from 'react';\r\nimport classNames from 'classnames';\r\nimport WidgetDropAccepter from '../../../src/panels/DesignPanel/WidgetDropAccepter';\r\nimport \"./Preview.scss\"\r\n\r\nexport default function (props) {\r\n    const item = props.item;\r\n    const designer = props.designer;\r\n    const classString = classNames({\r\n        // 'widget-preview-item-inner': true,\r\n        'widget-preview-item-detailed': true,\r\n        [props.className]: props.className\r\n    });\r\n    const items = designer.getItems(item.fieldId);\r\n    console.log(item.fieldId, items, designer.getAllItems(), 'xxx')\r\n\r\n    return (\r\n        <div\r\n            className={classString}\r\n        >\r\n            <label className=\"widget-preview-detailed-sub\">{item.title}</label>\r\n            <div className=\"widget-preview-detailed-list\">\r\n                <WidgetDropAccepter\r\n                    style={{\r\n                        width: 'auto',\r\n                        height: 'auto',\r\n                        minHeight: 150,\r\n                        paddingBottom: 10,\r\n                        border: 'none',\r\n                    }}\r\n                    items={items}\r\n                    pid={item.fieldId}\r\n                />\r\n            </div>\r\n        </div>\r\n    )\r\n}","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAv0lEQVRYR+2W4QnCMBBGXzfpJuoG3cBuYEdwFN3EbtARHKEbKB80UDFIhGuOwgX6r+R7eXdpr8F5Nc75BEAYWBs4AodKTXkHnspaA1yBAZg2htAhT8AjByALerZcr90AdIum2VhHsYGPFw0hAiAM7MeArl+6ioaXgGIDbfpeW6ZDOYBxLj1w8wJQsIzqP1NcAisDCj8DowdACtdhXAByFn+W4FJhIFEfZAeSGsNIMqLSfI1kVk331z4xlocBdwNvGE5RIQon4uUAAAAASUVORK5CYII=\"","import \"./index.scss\";","import { uuid } from '../../utils';\r\n\r\nexport default () => {\r\n    return {\r\n        $pid: null,\r\n        fieldId: uuid(),\r\n        fieldName: 'field_' + uuid(),\r\n        placeholder: \"请输入\",\r\n        dataType: 'varchar',\r\n        dataLength: '255',\r\n        required: '0',\r\n        defaultValue: '',\r\n        width: '100%',\r\n    }\r\n}","import React from 'react';\r\nimport {\r\n    Form,\r\n    FormItem,\r\n    NativeField,\r\n} from 'components/Form';\r\n\r\nimport 'components/Form/style/index.scss';\r\n\r\nexport default class PropertyPanel extends React.Component {\r\n\r\n    render() {\r\n        const { item, onChange, children } = this.props;\r\n\r\n        return (\r\n            <Form\r\n                onChange={onChange}\r\n                formValue={item}\r\n                labelWidth={60}\r\n            >\r\n                {children}\r\n            </Form>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport {\r\n    FormItem,\r\n    NativeField,\r\n} from 'components/Form';\r\nimport 'components/Form/style/index.scss';\r\nimport {\r\n    MultipleInputField,\r\n    DisplayField,\r\n    WidthInputField\r\n} from 'components/FormField';\r\nimport SingleCheck from 'components/HTMLForm/SingleCheck';\r\n\r\nexport default function () {\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"property-header-title\">基础属性</div>\r\n            <FormItem\r\n                className=\"design-property-field\"\r\n                label=\"控件ID\"\r\n                name=\"fieldId\"\r\n            >\r\n                <DisplayField />\r\n            </FormItem>\r\n            {/* <FormItem\r\n                className=\"design-property-field\"\r\n                label=\"字段名称\"\r\n                name=\"titlex\"\r\n            >\r\n                <MultipleInputField />\r\n            </FormItem> */}\r\n            <FormItem\r\n                className=\"design-property-field\"\r\n                label=\"字段名称\"\r\n                name=\"title\"\r\n            >\r\n                <NativeField\r\n                    component=\"input\"\r\n                />\r\n            </FormItem>\r\n            <FormItem\r\n                className=\"design-property-field\"\r\n                label=\"提示文本\"\r\n                name=\"placeholder\"\r\n            >\r\n                <NativeField\r\n                    component=\"input\"\r\n                />\r\n            </FormItem>\r\n            <FormItem\r\n                className=\"design-property-field\"\r\n                label=\"默认值\"\r\n                name=\"defaultValue\"\r\n            >\r\n                <NativeField\r\n                    component=\"input\"\r\n                />\r\n            </FormItem>\r\n            {/* <FormItem\r\n                className=\"design-property-field\"\r\n                label=\"宽度\"\r\n                name=\"width\"\r\n            >\r\n                <WidthInputField />\r\n            </FormItem> */}\r\n            {/* <FormItem\r\n                className=\"design-property-field\"\r\n                label=\"必填\"\r\n                name=\"required\"\r\n            >\r\n                <SingleCheck\r\n                    on=\"1\"\r\n                    off=\"0\"\r\n                />\r\n            </FormItem> */}\r\n        </div >\r\n    );\r\n}","import React from 'react';\r\nimport {\r\n    FormItem,\r\n    NativeField,\r\n} from 'components/Form';\r\nimport 'components/Form/style/index.scss';\r\nimport {\r\n    MultipleInputField,\r\n    DisplayField,\r\n    WidthInputField\r\n} from 'components/FormField';\r\nimport SingleCheck from 'components/HTMLForm/SingleCheck';\r\n\r\nexport default function () {\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"property-header-title\">输入校验</div>\r\n            <FormItem\r\n                className=\"design-property-field\"\r\n                label=\"必填\"\r\n                name=\"required\"\r\n            >\r\n                <SingleCheck\r\n                    on=\"1\"\r\n                    off=\"0\"\r\n                />\r\n            </FormItem>\r\n        </div >\r\n    );\r\n}","\r\n//设计平台\r\nconst P_PC = 1;\r\nconst P_MOBILE = 2;\r\nconst P_IPAD = 3;\r\n\r\nconst WIDGET_DRAG_DROP_SCOPE = '__WIDGET_DRAG_DROP_SCOPE__';\r\n\r\nexport {\r\n    P_PC,\r\n    P_MOBILE,\r\n    P_IPAD,\r\n    WIDGET_DRAG_DROP_SCOPE,\r\n}\r\n\r\n"],"sourceRoot":""}