(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{114:function(e,t,a){},115:function(e,t,a){"use strict";var l=a(0),n=a(2);n(t,"__esModule",{value:!0}),n(t,"MultipleInputField",{enumerable:!0,get:function(){return i.default}}),n(t,"DisplayField",{enumerable:!0,get:function(){return u.default}}),n(t,"WidthInputField",{enumerable:!0,get:function(){return r.default}}),a(491);var i=l(a(492)),u=l(a(493)),r=l(a(494))},193:function(e,t,a){"use strict";var l=a(0);a(2)(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(1)).default.createContext({});t.default=n},194:function(e,t,a){"use strict";var l=a(0);a(2)(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(113)),i=l(a(1)),u=l(a(24));t.default=function(e){return i.default.createElement("span",(0,n.default)({},e,{className:(0,u.default)(e.className,"icon-"+e.type)}))}},195:function(e,t,a){"use strict";var l=a(0);a(2)(t,"__esModule",{value:!0}),t.default=function(e){return i.default.createElement("input",(0,n.default)({},e,{checked:e.value===e.on,type:"checkbox",onChange:function(t){t.target.checked?e.onChange&&e.onChange(e.on):e.onChange&&e.onChange(e.off)}}))};var n=l(a(113)),i=l(a(1));a(38),l(a(24))},197:function(e,t,a){a(198),e.exports=a(218)},218:function(e,t,a){"use strict";var l=a(0),n=l(a(219)),i=l(a(1)),u=l(a(135)),r=l(a(232)),d=l(a(435));a(505),u.default.render(i.default.createElement(function(){var e=i.default.useState({items:[]}),t=(0,n.default)(e,2),a=t[0],l=t[1];return i.default.createElement("div",{style:{margin:"30px auto",width:1400,minHeight:500}},i.default.createElement(r.default,{widgets:d.default,metadata:a,onChange:l}))},null),document.getElementById("root"))},232:function(e,t,a){"use strict";var l=a(0);a(2)(t,"__esModule",{value:!0}),t.default=void 0;var n=a(55),i=l(a(278)),u=l(a(288)),r=(0,n.DragDropContext)(i.default)(u.default);t.default=r},288:function(e,t,a){"use strict";var l=a(0);a(2)(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(21)),i=l(a(9)),u=l(a(10)),r=l(a(12)),d=l(a(13)),o=l(a(18)),f=l(a(14)),s=l(a(15)),c=l(a(1)),v=l(a(95)),m=l(a(313)),g=l(a(410)),h=l(a(412)),p=l(a(413)),y=a(67),E=function(e){function t(){var e,a;(0,i.default)(this,t);for(var l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];return a=(0,r.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(u))),(0,s.default)((0,o.default)(a),"handleModelChange",function(e){var t=a.props,l=t.onChange,i=t.metadata;l&&l((0,n.default)({},i,{items:e}))}),a}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.widgets,a=e.metadata,l=e.platform;return c.default.createElement(m.default,{widgets:t,items:a.items,platform:l,onChange:this.handleModelChange},c.default.createElement("div",{className:"csos-form-designer"},c.default.createElement("div",{className:"csos-form-designer-container"},c.default.createElement(g.default,null),c.default.createElement(p.default,null),c.default.createElement(h.default,null))))}}]),t}(c.default.Component);t.default=E,(0,s.default)(E,"propTypes",{widgets:v.default.array,platform:v.default.oneOf([y.P_PC,y.P_MOBILE,y.P_IPAD]),metadata:v.default.object}),(0,s.default)(E,"defaultProps",{onChange:null,platform:y.P_PC,widgets:[],metadata:{items:[]}})},313:function(e,t,a){"use strict";var l=a(0);a(2)(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(96)),i=l(a(9)),u=l(a(10)),r=l(a(12)),d=l(a(13)),o=l(a(18)),f=l(a(14)),s=l(a(15)),c=l(a(1)),v=l(a(45)),m=l(a(324)),g=l(a(329)),h=l(a(180)),p=function(e){function t(){var e,a;(0,i.default)(this,t);for(var l=arguments.length,n=new Array(l),u=0;u<l;u++)n[u]=arguments[u];return a=(0,r.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(n))),(0,s.default)((0,o.default)(a),"state",{widgets:[],widgetsMap:{},items:[],activeId:null}),a}return(0,f.default)(t,e),(0,u.default)(t,[{key:"onChange",value:function(e){var t=this.props.onChange;t&&t(e)}},{key:"getWidget",value:function(e){return this.state.widgetsMap[e]||null}},{key:"getWidgets",value:function(){var e=this.state.widgets;return[].concat(e)}},{key:"setActiveId",value:function(e){this.setState({activeId:e})}},{key:"getActiveId",value:function(){return this.state.activeId}},{key:"getActiveItem",value:function(){var e=this.state.activeId;return this.getItem(e)||null}},{key:"getItems",value:function(){return(0,n.default)(this.state.items)}},{key:"updateItem",value:function(e){var t=this.getItems(),a=e.fieldId,l=this.getItemIndex(a);-1!==l&&(t[l]=e),this.onChange(t)}},{key:"addItem",value:function(e){var t=this.getItems();t.push(e),this.onChange(t)}},{key:"removeItem",value:function(e){var t=this.getItems().filter(function(t){return t.fieldId!==e});this.onChange(t)}},{key:"getItemIndex",value:function(e){var t=this.getItems();return(0,h.default)(t,function(t){return t.fieldId===e})}},{key:"getItem",value:function(e){var t=this.getItems();return(0,g.default)(t,function(t){return t.fieldId===e})}},{key:"insertBefore",value:function(e,t){var a=this.getItems(),l=this.getItemIndex(e.fieldId);l>-1&&a.splice(l,1);var n=this.getItemIndex(t);a.splice(n,0,e),this.onChange(a)}},{key:"insertAfter",value:function(e,t){var a=this.getItems(),l=this.getItemIndex(e.fieldId);l>-1&&a.splice(l,1);var n=this.getItemIndex(t);a.splice(n,1,a[n],e),this.onChange(a)}},{key:"getModel",value:function(){return{getWidget:this.getWidget.bind(this),getWidgets:this.getWidgets.bind(this),setActiveId:this.setActiveId.bind(this),getActiveId:this.getActiveId.bind(this),getActiveItem:this.getActiveItem.bind(this),addItem:this.addItem.bind(this),updateItem:this.updateItem.bind(this),getItems:this.getItems.bind(this),removeItem:this.removeItem.bind(this),getItemIndex:this.getItemIndex.bind(this),getItem:this.getItem.bind(this),insertBefore:this.insertBefore.bind(this),insertAfter:this.insertAfter.bind(this)}}},{key:"render",value:function(){var e=this.props.children;return c.default.createElement(v.default.Provider,{value:this.getModel()},e)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};return{widgets:e.widgets.map(function(e){var t=new m.default(e);return a[e.xtype]=t,t}),widgetsMap:a,items:e.items||[]}}}]),t}(c.default.Component);t.default=p,(0,s.default)(p,"defaultProps",{onChange:null,widgets:[],items:[]})},324:function(e,t,a){"use strict";var l=a(0);a(2)(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(21)),i=l(a(9)),u=l(a(10)),r=(l(a(1)),a(140)),d=l(a(325)),o=l(a(326)),f=l(a(327)),s=l(a(328)),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.default)(this,e),this.$$widget=!0,this.options=t,this.xtype=t.xtype,this.title=t.title,this.icon=t.icon,this.Preview=(0,r.isValidElementType)(t.Preview)?t.Preview:d.default,this.DragPreview=(0,r.isValidElementType)(t.DragPreview)?t.DragPreview:o.default,this.PlaceholderPreview=(0,r.isValidElementType)(t.PlaceholderPreview)?t.PlaceholderPreview:f.default,this.WidgetProperty=(0,r.isValidElementType)(t.WidgetProperty)?t.WidgetProperty:s.default}return(0,u.default)(e,[{key:"getItem",value:function(){var e=this.options.data,t="function"==typeof e?e():e;return(0,n.default)({},t,{xtype:this.xtype})}},{key:"get",value:function(e){return this.options[e]}},{key:"set",value:function(e,t){return this.options[e]=t,this}}]),e}();t.default=c},325:function(e,t,a){"use strict";var l=a(0);a(2)(t,"__esModule",{value:!0}),t.default=function(e){var t=e.item,a=(0,u.default)((0,n.default)({"widget-preview-item-inner":!0},e.className,e.className));return i.default.createElement("div",{className:a},i.default.createElement("label",{className:"widget-preview-title"},t.title),i.default.createElement("span",{className:"widget-preview-input"},t.placeholder))};var n=l(a(15)),i=l(a(1)),u=l(a(24))},326:function(e,t,a){"use strict";var l=a(0);a(2)(t,"__esModule",{value:!0}),t.default=void 0;l(a(1));t.default=function(){return null}},327:function(e,t,a){"use strict";var l=a(0);a(2)(t,"__esModule",{value:!0}),t.default=function(){return n.default.createElement("div",{className:"drag-item-placeholder"},n.default.createElement("div",{className:"drag-item-placeholder-inner"}))};var n=l(a(1))},328:function(e,t,a){"use strict";var l=a(0);a(2)(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(1));t.default=function(e){e.item,e.onChange;return n.default.createElement("div",null,"默认属性面板")}},38:function(e,t,a){"use strict";var l=a(0),n=a(2);n(t,"__esModule",{value:!0}),n(t,"Form",{enumerable:!0,get:function(){return i.default}}),n(t,"FormItem",{enumerable:!0,get:function(){return u.default}}),n(t,"NativeField",{enumerable:!0,get:function(){return r.default}}),t.default=void 0;var i=l(a(439)),u=l(a(486)),r=l(a(487));i.default.Item=u.default,i.default.NativeField=r.default;var d=i.default;t.default=d},410:function(e,t,a){"use strict";var l=a(0);a(2)(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(9)),i=l(a(10)),u=l(a(12)),r=l(a(13)),d=l(a(14)),o=l(a(15)),f=l(a(1)),s=l(a(45)),c=l(a(411)),v=function(e){function t(){return(0,n.default)(this,t),(0,u.default)(this,(0,r.default)(t).apply(this,arguments))}return(0,d.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.context.getWidgets();return f.default.createElement("div",{className:"widgets-panel"},f.default.createElement("div",{className:"widgets-panel-header"},"控件列表"),f.default.createElement("div",{className:"widgets-panel-body"},e.map(function(e){return f.default.createElement(c.default,{key:e.xtype,widget:e})})))}}]),t}(f.default.Component);t.default=v,(0,o.default)(v,"contextType",s.default)},411:function(e,t,a){"use strict";var l=a(0);a(2)(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(9)),i=l(a(10)),u=l(a(12)),r=l(a(13)),d=l(a(14)),o=l(a(1)),f=a(55),s=l(a(24)),c=a(67),v=function(e){function t(){return(0,n.default)(this,t),(0,u.default)(this,(0,r.default)(t).apply(this,arguments))}return(0,d.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.disabled,a=e.widget,l=e.connectDragSource,n=e.isDragging,i=a.title,u=void 0===i?"未知组件":i,r=a.icon;return l(o.default.createElement("div",{className:(0,s.default)({"widget-item":!0,"widget-item-dragging":n,"widget-item-disabled":t})},o.default.createElement("div",{className:"widget-item-title"},o.default.createElement("img",{src:r}),o.default.createElement("span",{className:"widget-text"},u))))}}]),t}(o.default.Component),m=(0,f.DragSource)(c.WIDGET_DRAG_DROP_SCOPE,{beginDrag:function(e){var t=e.widget,a=t.getItem();return{isWidgetDragging:!0,widget:t,item:a}}},function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}})(v);t.default=m},412:function(e,t,a){"use strict";var l=a(0);a(2)(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(21)),i=l(a(9)),u=l(a(10)),r=l(a(12)),d=l(a(13)),o=l(a(18)),f=l(a(14)),s=l(a(15)),c=l(a(1)),v=l(a(45)),m=function(e){function t(){var e,a;(0,i.default)(this,t);for(var l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];return a=(0,r.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(u))),(0,s.default)((0,o.default)(a),"onItemChange",function(e){var t=a.context,l=t.getActiveItem();t.updateItem((0,n.default)({},l,e))}),a}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.context,t=e.getActiveItem();if(!t)return c.default.createElement("div",{className:"property-panel"},c.default.createElement("div",{style:{padding:30,textAlign:"center"}},"请先选择控件"));var a=e.getWidget(t.xtype);return a?c.default.createElement("div",{className:"property-panel"},c.default.createElement(a.WidgetProperty,{widget:a,onChange:this.onItemChange,item:(0,n.default)({},t),key:t.fieldId})):c.default.createElement("div",{className:"property-panel"},c.default.createElement("div",{style:{padding:30,textAlign:"center"}},"无."))}}]),t}(c.default.Component);t.default=m,(0,s.default)(m,"contextType",v.default)},413:function(e,t,a){"use strict";var l=a(0);a(2)(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(9)),i=l(a(10)),u=l(a(12)),r=l(a(13)),d=l(a(14)),o=l(a(1)),f=l(a(414)),s=function(e){function t(){return(0,n.default)(this,t),(0,u.default)(this,(0,r.default)(t).apply(this,arguments))}return(0,d.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){return o.default.createElement("div",{className:"design-panel"},o.default.createElement(f.default,null))}}]),t}(o.default.Component);t.default=s},414:function(e,t,a){"use strict";var l=a(0);a(2)(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(9)),i=l(a(10)),u=l(a(12)),r=l(a(13)),d=l(a(18)),o=l(a(14)),f=l(a(15)),s=l(a(1)),c=a(55),v=l(a(24)),m=a(67),g=l(a(45)),h=l(a(415)),p=function(e){function t(){var e,a;(0,n.default)(this,t);for(var l=arguments.length,i=new Array(l),o=0;o<l;o++)i[o]=arguments[o];return a=(0,u.default)(this,(e=(0,r.default)(t)).call.apply(e,[this].concat(i))),(0,f.default)((0,d.default)(a),"renderItem",function(e,t){var l=a.context,n=e.xtype,i=l.getWidget(n);return s.default.createElement(h.default,{key:e.fieldId,widget:i,item:e})}),a}return(0,o.default)(t,e),(0,i.default)(t,[{key:"rendrePlaceholder",value:function(){var e=this.props.dragItem,t=e.widget,a=e.item;return s.default.createElement(t.PlaceholderPreview,{widget:t,item:a})}},{key:"render",value:function(){var e=this.props,t=e.connectDropTarget,a=e.isOver,l=e.canDrop,n=e.dragItem,i=this.context.getItems();return t(s.default.createElement("div",{className:(0,v.default)({"design-layout-container":!0,"drag-over":a,dropable:l})},i.map(this.renderItem),a&&n.isWidgetDragging?this.rendrePlaceholder():null))}}]),t}(s.default.Component);(0,f.default)(p,"contextType",g.default);var y=(0,c.DropTarget)(m.WIDGET_DRAG_DROP_SCOPE,{canDrop:function(e,t){return t.getItem().isWidgetDragging},drop:function(e,t,a){if(!t.didDrop()){var l=t.getItem();a.context.addItem(l.item)}}},function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver({shallow:!0}),canDrop:t.canDrop(),dragItem:t.getItem()}})(p);t.default=y},415:function(e,t,a){"use strict";var l=a(0);a(2)(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(9)),i=l(a(10)),u=l(a(12)),r=l(a(13)),d=l(a(18)),o=l(a(14)),f=l(a(15)),s=l(a(1)),c=a(135),v=l(a(416)),m=l(a(104)),g=a(55),h=l(a(24)),p=a(67),y=l(a(45)),E={canDrop:function(e,t,a){var l=t.getItem();return!!l.isWidgetDragging||e.item.fieldId!==l.item.fieldId},hover:function(e,t,a){var l=a.state.placeholderPosition,n=a.context,i=e.item,u=t.getItem(),r=u.item.fieldId,d=!1;u.isWidgetDragging||(d=!0);var o=t.getClientOffset(),f=(0,c.findDOMNode)(a);if(d){if(i.fieldId===r)return;var s=f.querySelector(".widget-preview-item").getBoundingClientRect(),v=s.bottom-s.height/2;o.y<=v?n.insertBefore(u.item,i.fieldId):n.insertAfter(u.item,i.fieldId)}else{var m=f.getBoundingClientRect(),g=m.bottom-m.height/2,h="none";l!==(h=o.y<=g?"top":"bottom")&&(u._dropTarget={id:i.fieldId,pos:h},a.setState({placeholderPosition:h}))}},drop:function(e,t,a){var l=a.context,n=t.getItem();if(n.isWidgetDragging){var i=(0,m.default)(n,"_dropTarget.id",null),u=(0,m.default)(n,"_dropTarget.pos","none");delete n._dropTarget,i?"top"===u?l.insertBefore(n.item,i):"bottom"===u?l.insertAfter(n.item,i):l.addItem(n.item):l.addItem(n.item)}}},A=function(e){function t(){var e,a;(0,n.default)(this,t);for(var l=arguments.length,i=new Array(l),o=0;o<l;o++)i[o]=arguments[o];return a=(0,u.default)(this,(e=(0,r.default)(t)).call.apply(e,[this].concat(i))),(0,f.default)((0,d.default)(a),"state",{placeholderPosition:"none"}),(0,f.default)((0,d.default)(a),"handleRemove",function(){var e=a.context,t=a.props.item;e.removeItem(t.fieldId)}),a}return(0,o.default)(t,e),(0,i.default)(t,[{key:"handlePreviewClick",value:function(e){this.context.setActiveId(e.fieldId)}},{key:"render",value:function(){var e=this.props,t=e.connectDropTarget,a=e.connectDragSource,l=e.isDragging,n=e.isOver,i=e.widget,u=e.item,r=e.dragItem,d=this.state.placeholderPosition,o=this.context.getActiveId(),f=r&&!r.isWidgetDragging;return t(s.default.createElement("div",{className:(0,h.default)({"widget-preview-item-wrapper":!0,droppable:n,dragging:l})},"top"===d&&n&&!f?s.default.createElement(i.PlaceholderPreview,null):null,s.default.createElement("div",{ref:a,className:(0,h.default)({"widget-preview-item":!0,"widget-preview-item-selected":o===u.fieldId}),onClick:this.handlePreviewClick.bind(this,u)},s.default.createElement(i.Preview,{item:u}),s.default.createElement("span",{className:"widget-preview-close",onClick:this.handleRemove},"x")),"bottom"===d&&n&&!f?s.default.createElement(i.PlaceholderPreview,null):null))}}]),t}(s.default.Component);(0,f.default)(A,"contextType",y.default);var I=(0,v.default)((0,g.DropTarget)(p.WIDGET_DRAG_DROP_SCOPE,E,function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver({shallow:!0}),canDrop:t.canDrop(),dragItem:t.getItem()}}),(0,g.DragSource)(p.WIDGET_DRAG_DROP_SCOPE,{beginDrag:function(e){return{isWidgetDragging:!1,isPreviewDragging:!1,widget:e.widget,item:e.item}}},function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(A);t.default=I},435:function(e,t,a){"use strict";var l=a(0);a(2)(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(436)),i=l(a(496)),u=l(a(499)),r=l(a(502)),d=[n.default,i.default,u.default,r.default];t.default=d},436:function(e,t,a){"use strict";var l=a(0);a(2)(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(21)),i=l(a(68)),u=l(a(438)),r=l(a(495)),d={xtype:"EX_TEXT_FIELD",title:"文本",icon:r.default,WidgetProperty:u.default,data:function(){return(0,n.default)({},(0,i.default)(),{xtype:"EX_TEXT_FIELD",title:"文本"})}};t.default=d},437:function(e,t,a){"use strict";a(2)(t,"__esModule",{value:!0}),t.uuid=function(){return Math.random().toString(16).slice(2,8)}},438:function(e,t,a){"use strict";var l=a(0);a(2)(t,"__esModule",{value:!0}),t.default=function(e){return n.default.createElement(i.default,e,n.default.createElement(u.default,null),n.default.createElement(r.default,null))};var n=l(a(1)),i=l(a(69)),u=l(a(71)),r=l(a(72))},439:function(e,t,a){"use strict";var l=a(0);a(2)(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93)),i=l(a(96)),u=l(a(44)),r=l(a(21)),d=l(a(9)),o=l(a(10)),f=l(a(12)),s=l(a(13)),c=l(a(18)),v=l(a(14)),m=l(a(15)),g=l(a(1)),h=l(a(95)),p=l(a(24)),y=l(a(440)),E=l(a(468)),A=l(a(104)),I=l(a(472)),C=l(a(193));y.default.warning=function(){};var _=function(e){function t(){var e,a;(0,d.default)(this,t);for(var l=arguments.length,n=new Array(l),i=0;i<l;i++)n[i]=arguments[i];return a=(0,f.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(n))),(0,m.default)((0,c.default)(a),"fields",[]),(0,m.default)((0,c.default)(a),"_valiateCb",[]),(0,m.default)((0,c.default)(a),"state",{formError:{},validatingFields:{},formValue:a.props.formDefaultValue||{}}),a}return(0,v.default)(t,e),(0,o.default)(t,[{key:"addField",value:function(e){this.fields.push(e)}},{key:"removeField",value:function(e){var t=this.fields.indexOf(e);-1!==t&&this.fields.splice(t,1)}},{key:"getValue",value:function(e){var t=this.props.path2obj,a=this.state.formValue;return t?(0,A.default)(a,e):a[e]}},{key:"setValue",value:function(e,t,a,l){var n=this.props,i=n.path2obj,u=n.onChange,d=this.state.formValue,o=(0,r.default)({},d);return i?(0,E.default)(o,e,t):o[e]=t,"formValue"in this.props||this.setState({formValue:o}),u&&u(o,a),l&&this._valiateCb.push(l),this}},{key:"componentDidUpdate",value:function(){var e=this.state.formValue,t=this._valiateCb;this._valiateCb=[],t.forEach(function(t){t(e)})}},{key:"componentWillUnmount",value:function(){this._valiateCb=[]}},{key:"getError",value:function(e){var t=this.state.formError;return arguments.length?t[e]:t}},{key:"cleanErrors",value:function(){this.setState({validatingFields:{},formError:{}})}},{key:"setErrors",value:function(e){var t=this.state.formError;this.setState((0,r.default)({},t,e))}},{key:"getFieldRules",value:function(e){var t=[];this.fields.filter(function(t){return t.props.name===e}).forEach(function(e){var a=e.props,l=a.rules||[];"function"==typeof l?l=[{validator:l}]:(0,u.default)(l)||(l=[l]),a.required&&l.unshift({required:!0}),t.push.apply(t,(0,i.default)(l))});var a=this.props.rules[e]||[];return a&&("function"==typeof a?a=[{validator:a}]:(0,u.default)(a)||(a=[a])),a?t.concat(a):t}},{key:"isValidatingField",value:function(e){return!!this.state.validatingFields[e]}},{key:"validateField",value:function(e,t){var a=this,l=this.state,n=l.formError,i=l.validatingFields,u=this.getValue(e),d=this.getFieldRules(e);if(d&&0!==d.length){this.setState({validatingFields:(0,r.default)({},i,(0,m.default)({},e,!0))});var o=(0,m.default)({},e,d),f=new y.default(o),s=(0,m.default)({},e,u);f.validate(s,{firstFields:!0},function(l){a.setState({formError:(0,r.default)({},n,(0,m.default)({},e,l?l[0].message:null)),validatingFields:(0,r.default)({},i,(0,m.default)({},e,!1))},function(){t instanceof Function&&t(l,u)})})}else t instanceof Function&&t(null,u)}},{key:"validate",value:function(e){var t=this,a=this.state.formValue,l=this.fields,i={};if(0===l.length&&e)e(null,a);else{l.forEach(function(e){var a=e.props.name;if(a&&!(a in i)){var l=t.getFieldRules(a);l&&l.length&&(i[a]=l)}});var u={},r=new y.default(i),d={};(0,n.default)(i).forEach(function(e){d[e]=(0,A.default)(a,e),u[e]=!0}),this.setState({validatingFields:u}),r.validate(d,{firstFields:!0},function(l){var n={};l&&l.forEach(function(e){n[e.field]=e.message}),t.setState({formError:n,validatingFields:{}},function(){e instanceof Function&&e(l,a)})})}}},{key:"validateAndScroll",value:function(e){var t=this;this.validate(function(a,l){if(a){var n,i=t.state.formError;t.fields.forEach(function(e){var t=e.props.name;t&&!n&&t in i&&(n=e)}),n&&(0,I.default)(n.getDOM())}e(a,l)})}},{key:"onFieldChange",value:function(e,t){this.state.formValue.set(e,t)}},{key:"getFormContext",value:function(){return{form:this}}},{key:"render",value:function(){var e=this.props,t=e.prefixCls,a=e.style,l=e.className,n=e.onSubmit,i=e.component,u=e.children;return g.default.createElement(C.default.Provider,{value:this.getFormContext()},g.default.createElement(i,{style:a,className:(0,p.default)(t,l),onSubmit:n},"function"==typeof u?u(this):u))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{formValue:e.formValue||t.formValue}}}]),t}(g.default.Component);t.default=_,(0,m.default)(_,"propTypes",{prefixCls:h.default.string,className:h.default.string,style:h.default.object,path2obj:h.default.bool,formDefaultValue:h.default.object,formValue:h.default.object,validateDelay:h.default.number,validateTrigger:h.default.string,component:h.default.node,rules:h.default.oneOfType([h.default.object,h.default.array,h.default.func]),labelWidth:h.default.oneOfType([h.default.string,h.default.number]),labelPosition:h.default.oneOf(["top","left","right"]),alignItems:h.default.oneOf(["top","center","bottom"]),inline:h.default.bool,onSubmit:h.default.func,onChange:h.default.func,validateFieldsAndScroll:h.default.bool,showMessage:h.default.bool,getFormItemInputProps:h.default.func}),(0,m.default)(_,"defaultProps",{prefixCls:"rw-form",className:"",style:{},rules:{},path2obj:!0,component:"form",validateDelay:0,validateTrigger:"none",labelPosition:"left",alignItems:"center",inline:!1,showMessage:!0})},45:function(e,t,a){"use strict";var l=a(0);a(2)(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(1)).default.createContext({});t.default=n},486:function(e,t,a){"use strict";var l=a(0);a(2)(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(21)),i=l(a(9)),u=l(a(10)),r=l(a(12)),d=l(a(13)),o=l(a(18)),f=l(a(14)),s=l(a(15)),c=l(a(1)),v=l(a(95)),m=l(a(24)),g=l(a(193)),h=function(e){function t(){var e,a;(0,i.default)(this,t);for(var l=arguments.length,n=new Array(l),u=0;u<l;u++)n[u]=arguments[u];return a=(0,r.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(n))),(0,s.default)((0,o.default)(a),"saveDOM",function(e){a._dom=e}),(0,s.default)((0,o.default)(a),"_validateTimer",null),a}return(0,f.default)(t,e),(0,u.default)(t,[{key:"getDOM",value:function(){return this._dom}},{key:"componentDidMount",value:function(){var e=this.context.form;this.props.name&&e.addField(this)}},{key:"componentWillUnmount",value:function(){this.context.form.removeField(this)}},{key:"isRequired",value:function(){var e=this.context.form,t=this.props.name,a=e.getFieldRules(t),l=!1;return a&&a.length&&(l=a.some(function(e){return e.required})),l}},{key:"getValidateTrigger",value:function(){var e=this.context.form.props.validateTrigger,t=this.props;return"validateTrigger"in t?t.validateTrigger:e}},{key:"getValidateDelay",value:function(){var e=this.context.form.props.validateDelay,t=this.props;return"validateDelay"in t?t.validateDelay:e}},{key:"onFieldBlur",value:function(){var e=this.context.form,t=this.getValidateTrigger(),a=this.getValidateDelay(),l=this.props.name;"blur"===t&&(a>0?(this._validateTimer&&clearTimeout(this._validateTimer),this._validateTimer=setTimeout(function(){e.validateField(l)},a)):e.validateField(l))}},{key:"getValue",value:function(){var e=this.props.name;return this.context.form.getValue(e)}},{key:"onFieldChange",value:function(e,t){var a=this,l=this.context.form,n=this.props.name;l.setValue(n,e,t,function(){var e=a.getValidateTrigger(),t=a.getValidateDelay();"change"===e&&(t>0?(a._validateTimer&&clearTimeout(a._validateTimer),a._validateTimer=setTimeout(function(){l.validateField(n)},t)):l.validateField(n))})}},{key:"getLabelProps",value:function(){var e=this.context.form.props,t=this.props;return{inline:"inline"in t?t.inline:e.inline,labelPosition:"labelPosition"in t?t.labelPosition:e.labelPosition,labelWidth:"labelWidth"in t?t.labelWidth:e.labelWidth,alignItems:"alignItems"in t?t.alignItems:e.alignItems,showMessage:"showMessage"in t?t.showMessage:e.showMessage}}},{key:"render",value:function(){var e,t=this.context.form,a=this.props,l=a.normalize,i=a.label,u=a.required,r=a.labelFor,d=a.className,o=a.prefixCls,f=a.name,v=a.help,g=a.style,h=this.getLabelProps(),p=h.inline,y=h.labelPosition,E=h.labelWidth,A=h.alignItems,I=h.showMessage,C=t.getError(f),_=t.isValidatingField(f),w=c.default.Children.only(this.props.children),b=w.props,D=b.onChange,x=b.onBlur,k=t.props.getInputProps||function(){return{}},P=this.onFieldChange.bind(this),M=this.onFieldBlur.bind(this),F=c.default.cloneElement(w,(0,n.default)({},k(f),{value:this.getValue(),onChange:function(e,t){l&&(e=l(e)),D&&D(e,t),P(e,t)},onBlur:function(e){x&&x(e),M(e)}}));return c.default.createElement("div",{style:g,ref:this.saveDOM,className:(0,m.default)(o,(e={},(0,s.default)(e,"".concat(o,"-inline"),p),(0,s.default)(e,"".concat(o,"-position-").concat(y),y),(0,s.default)(e,"".concat(o,"-align-items-").concat(A),"center"!==A),(0,s.default)(e,"".concat(o,"-error"),C),(0,s.default)(e,"".concat(o,"-validating"),_),(0,s.default)(e,"".concat(o,"-required"),this.isRequired()||u),(0,s.default)(e,"".concat(o,"-with-help"),v),(0,s.default)(e,"".concat(d),d),e))},i&&c.default.createElement("label",{htmlFor:r,className:"".concat(o,"-label"),style:{width:E}},i),c.default.createElement("div",{className:"".concat(o,"-content")},F,!v&&I&&C?c.default.createElement("div",{className:"".concat(o,"-error-tip")},C):null,v?c.default.createElement("div",{className:"".concat(o,"-help")},v):null))}}]),t}(c.default.Component);t.default=h,(0,s.default)(h,"contextType",g.default),(0,s.default)(h,"propTypes",{label:v.default.node,labelFor:v.default.oneOfType([v.default.string,v.default.number]),labelWidth:v.default.oneOfType([v.default.string,v.default.number]),labelPosition:v.default.oneOf(["top","left","right"]),alignItems:v.default.oneOf(["top","center","bottom"]),name:v.default.string,rules:v.default.oneOfType([v.default.object,v.default.array,v.default.func]),required:v.default.bool,normalize:v.default.func,validateDelay:v.default.number,validateTrigger:v.default.string,inline:v.default.bool,showMessage:v.default.bool,help:v.default.node,style:v.default.object}),(0,s.default)(h,"defaultProps",{prefixCls:"rw-form-item"})},487:function(e,t,a){"use strict";var l=a(0);a(2)(t,"__esModule",{value:!0}),t.default=function(e){var t=e.component,a=void 0===t?"input":t,l=e.value,r=e.inputRef,d=e.onChange,o=(0,i.default)(e,["component","value","inputRef","onChange"]);return u.default.createElement(a,(0,n.default)({ref:r,onChange:function(e){var t=e.target.value;d&&d(t,e)},value:l},o))};var n=l(a(113)),i=l(a(489)),u=l(a(1))},491:function(e,t,a){},492:function(e,t,a){"use strict";var l=a(0);a(2)(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(96)),i=l(a(44)),u=l(a(9)),r=l(a(10)),d=l(a(12)),o=l(a(13)),f=l(a(18)),s=l(a(14)),c=l(a(15)),v=l(a(1)),m=l(a(194)),g=function(e){function t(){var e,a;(0,u.default)(this,t);for(var l=arguments.length,n=new Array(l),i=0;i<l;i++)n[i]=arguments[i];return a=(0,d.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(n))),(0,c.default)((0,f.default)(a),"state",{value:a.props.defaultValue||[],sIndex:1}),(0,c.default)((0,f.default)(a),"renderItem",function(e,t){return v.default.createElement("div",{className:"multi-input-item",key:t},v.default.createElement("div",{className:"multi-input"},v.default.createElement("input",{value:e.label,placeholder:"选项名称",onChange:a.onItemChange.bind((0,f.default)(a),t)})),v.default.createElement("div",{className:"multi-input-tools"},v.default.createElement(m.default,{type:"add",onClick:a.onAddItem.bind((0,f.default)(a),t)},"+"),v.default.createElement(m.default,{type:"remove",onClick:a.onRemoveItem.bind((0,f.default)(a),t)},"-")))}),a}return(0,s.default)(t,e),(0,r.default)(t,[{key:"onItemChange",value:function(e,t){var a=this.props.onChange,l=this.state.value;l[e]={value:t.target.value,label:t.target.value},a&&a(l)}},{key:"onAddItem",value:function(e){var t=this.props.onChange,a=this.state,l=a.value,n=a.sIndex,i="选项"+(1+n);this.setState({sIndex:n+1});var u={value:i,label:i};l.splice(e,1,l[e],u),t&&t(l)}},{key:"onRemoveItem",value:function(e){var t=this.props.onChange,a=this.state.value;a.length<=1||(a.splice(e,1),t&&t(a))}},{key:"render",value:function(){var e=this.state.value;return v.default.createElement("div",{className:"multi-input-wrapper"},e.map(this.renderItem))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.value||t.value;return(0,i.default)(a)||(a=[]),a.length||a.push({value:"选项1",label:"选项1"}),{value:(0,n.default)(a),sIndex:Math.max(a.length,t.sIndex)}}}]),t}(v.default.Component);t.default=g},493:function(e,t,a){"use strict";var l=a(0);a(2)(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(1));t.default=function(e){return n.default.createElement("span",null,e.value)}},494:function(e,t,a){"use strict";var l=a(0);a(2)(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(9)),i=l(a(12)),u=l(a(13)),r=l(a(18)),d=l(a(10)),o=l(a(14)),f=l(a(15)),s=l(a(112)),c=l(a(1)),v=l(a(194));function m(e){return/px$/.test(e)?"px":/%$/.test(e)?"%":"px"}function g(e){return e=(0,s.default)(e),isNaN(e)?0:e}var h=function(e){function t(e){var a,l;(0,n.default)(this,t);for(var d=arguments.length,o=new Array(d>1?d-1:0),s=1;s<d;s++)o[s-1]=arguments[s];l=(0,i.default)(this,(a=(0,u.default)(t)).call.apply(a,[this,e].concat(o))),(0,f.default)((0,r.default)(l),"handleInputChange",function(e){var t=l.state.unit,a=l.props,n=g(e.target.value);"%"===t&&(n=Math.max(Math.min(n,100),0)),"value"in a||l.setState({value:n});var i=n+t;a.onChange&&a.onChange(i)});var c=e.defaultValue||"";return l.state={value:g(c),unit:m(c)},l}return(0,o.default)(t,e),(0,d.default)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){if("value"in e)return{value:g(e.value),unit:m(e.value)}}}]),(0,d.default)(t,[{key:"renderSuffix",value:function(){var e=this.state.unit;return c.default.createElement("div",{className:"width-suffix"},c.default.createElement("div",{className:"width-suffix-text"},c.default.createElement("span",null,e),c.default.createElement("div",{className:"width-suffix-unit"},c.default.createElement("div",{className:"width-suffix-unit-item",onClick:this.onUnitChange.bind(this,"px")},"px"),c.default.createElement("div",{className:"width-suffix-unit-item",onClick:this.onUnitChange.bind(this,"%")},"%"))),c.default.createElement(v.default,{type:"caret-down"}))}},{key:"onUnitChange",value:function(e){var t=this.props,a=this.state.value;"%"===e&&(a=Math.max(Math.min(a,100),0)),"value"in t||this.setState({unit:e,value:a}),t.onChange&&t.onChange(a+e)}},{key:"render",value:function(){var e=this.state.value;return c.default.createElement("div",{className:"width-input-field"},c.default.createElement("input",{onChange:this.handleInputChange,value:e}),this.renderSuffix())}}]),t}(c.default.Component);t.default=h},495:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAxklEQVRYR+2WXRHCMBCE9xwgAQfgAOrgogALSAAHOOk6AByAExwskw7w0FKGTmlaZnLvl+/L5tcwctnIfGSBnEBOYDoJuPsBwCLVvUCyiKxXAiGEE4BVKoGyLCv2O4GzpCgzRM3NbBMHbhWQtCe5G4Lu7mszO34t8GiQpCvJW1+pzgIhBEWopIJk72XJAjmBv0yg2vmStiQvyY9hX2C9v/MSjCLwa2jbeJ8eoyQODQF3XwKYJaEDeF7t0/kRpZp5nZMTyAncAYM54iEqZrwtAAAAAElFTkSuQmCC"},496:function(e,t,a){"use strict";var l=a(0);a(2)(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(21)),i=l(a(497)),u=l(a(68)),r=l(a(498)),d={xtype:"EX_TEXTAREA_FIELD",title:"多行文本",icon:r.default,WidgetProperty:i.default,data:function(){return(0,n.default)({},(0,u.default)(),{xtype:"EX_TEXTAREA_FIELD",title:"多行文本",height:"70"})}};t.default=d},497:function(e,t,a){"use strict";var l=a(0);a(2)(t,"__esModule",{value:!0}),t.default=function(e){return n.default.createElement(u.default,e,n.default.createElement(r.default,null),n.default.createElement(i.FormItem,{className:"design-property-field",label:"高度",name:"height"},n.default.createElement(i.NativeField,{component:"input"})),n.default.createElement(d.default,null))};var n=l(a(1)),i=a(38),u=l(a(69)),r=l(a(71)),d=l(a(72))},498:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAv0lEQVRYR+2W4QnCMBBGXzfpJuoG3cBuYEdwFN3EbtARHKEbKB80UDFIhGuOwgX6r+R7eXdpr8F5Nc75BEAYWBs4AodKTXkHnspaA1yBAZg2htAhT8AjByALerZcr90AdIum2VhHsYGPFw0hAiAM7MeArl+6ioaXgGIDbfpeW6ZDOYBxLj1w8wJQsIzqP1NcAisDCj8DowdACtdhXAByFn+W4FJhIFEfZAeSGsNIMqLSfI1kVk331z4xlocBdwNvGE5RIQon4uUAAAAASUVORK5CYII="},499:function(e,t,a){"use strict";var l=a(0);a(2)(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(21)),i=l(a(500)),u=l(a(68)),r=l(a(501)),d={xtype:"EX_SELECT_FIELD",title:"单选列表",icon:r.default,WidgetProperty:i.default,data:function(){return(0,n.default)({},(0,u.default)(),{xtype:"EX_SELECT_FIELD",title:"单选列表",data:[{value:"选项1",label:"选项1"},{value:"选项2",label:"选项2"},{value:"选项3",label:"选项3"}]})}};t.default=d},500:function(e,t,a){"use strict";var l=a(0);a(2)(t,"__esModule",{value:!0}),t.default=function(e){return n.default.createElement(r.default,e,n.default.createElement(d.default,null),n.default.createElement(i.FormItem,{className:"design-property-field",label:"选项值",name:"data"},n.default.createElement(u.MultipleInputField,null)),n.default.createElement(o.default,null))};var n=l(a(1)),i=a(38),u=a(115),r=l(a(69)),d=l(a(71)),o=l(a(72))},501:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAA0UlEQVRYR+2WURHCMBBE9xSAAyzgAHCQOKiESgAlgIKuBCSAA3CAg2XCUKZ0ypQPkv7cfaYz2deXm1wME5dNnA8HcANvAzHGK4BFqaaUtCO57QKoVHib0zSNDQHcACQbuWoJYJY2HwSQtCF5ypUeY0x7rxzADWQxEEIIZtb0G1jSkWSV1rM3YQihMrN9B+IiaU3yXgQghXQgPsKLAbwgagCH9s9bI9mPYOwCc4BfDKRBlHUYmdn86z0wdob//N6fhgTwJCtRks4ka38TugE34AYe7FjWIZhHzn8AAAAASUVORK5CYII="},502:function(e,t,a){"use strict";var l=a(0);a(2)(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(21)),i=l(a(68)),u=l(a(503)),r=l(a(504)),d={xtype:"EX_URL_FIELD",title:"URL",icon:r.default,WidgetProperty:u.default,data:function(){return(0,n.default)({},(0,i.default)(),{xtype:"EX_TEXT_FIELD",title:"文本"})}};t.default=d},503:function(e,t,a){"use strict";var l=a(0);a(2)(t,"__esModule",{value:!0}),t.default=function(e){return n.default.createElement(i.default,e,n.default.createElement(u.default,null),n.default.createElement(r.default,null))};var n=l(a(1)),i=l(a(69)),u=l(a(71)),r=l(a(72))},504:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAxklEQVRYR+2WXRHCMBCE9xwgAQfgAOrgogALSAAHOOk6AByAExwskw7w0FKGTmlaZnLvl+/L5tcwctnIfGSBnEBOYDoJuPsBwCLVvUCyiKxXAiGEE4BVKoGyLCv2O4GzpCgzRM3NbBMHbhWQtCe5G4Lu7mszO34t8GiQpCvJW1+pzgIhBEWopIJk72XJAjmBv0yg2vmStiQvyY9hX2C9v/MSjCLwa2jbeJ8eoyQODQF3XwKYJaEDeF7t0/kRpZp5nZMTyAncAYM54iEqZrwtAAAAAElFTkSuQmCC"},505:function(e,t,a){"use strict";a(506)},506:function(e,t,a){},67:function(e,t,a){"use strict";a(2)(t,"__esModule",{value:!0}),t.WIDGET_DRAG_DROP_SCOPE=t.P_IPAD=t.P_MOBILE=t.P_PC=void 0;t.P_PC=1;t.P_MOBILE=2;t.P_IPAD=3;t.WIDGET_DRAG_DROP_SCOPE="__WIDGET_DRAG_DROP_SCOPE__"},68:function(e,t,a){"use strict";a(2)(t,"__esModule",{value:!0}),t.default=void 0;var l=a(437);t.default=function(){return{fieldId:(0,l.uuid)(),fieldName:"field_"+(0,l.uuid)(),placeholder:"请输入",dataType:"varchar",dataLength:"255",required:"0",defaultValue:"",width:"100%"}}},69:function(e,t,a){"use strict";var l=a(0);a(2)(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(9)),i=l(a(10)),u=l(a(12)),r=l(a(13)),d=l(a(14)),o=l(a(1)),f=a(38);a(114);var s=function(e){function t(){return(0,n.default)(this,t),(0,u.default)(this,(0,r.default)(t).apply(this,arguments))}return(0,d.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.item,a=e.onChange,l=e.children;return o.default.createElement(f.Form,{onChange:a,formValue:t,labelWidth:60},l)}}]),t}(o.default.Component);t.default=s},71:function(e,t,a){"use strict";var l=a(0);a(2)(t,"__esModule",{value:!0}),t.default=function(){return n.default.createElement("div",null,n.default.createElement("div",{className:"property-header-title"},"基础属性"),n.default.createElement(i.FormItem,{className:"design-property-field",label:"控件ID",name:"fieldId"},n.default.createElement(u.DisplayField,null)),n.default.createElement(i.FormItem,{className:"design-property-field",label:"字段名称",name:"title"},n.default.createElement(i.NativeField,{component:"input"})),n.default.createElement(i.FormItem,{className:"design-property-field",label:"提示文本",name:"placeholder"},n.default.createElement(i.NativeField,{component:"input"})),n.default.createElement(i.FormItem,{className:"design-property-field",label:"默认值",name:"defaultValue"},n.default.createElement(i.NativeField,{component:"input"})))};var n=l(a(1)),i=a(38);a(114);var u=a(115);l(a(195))},72:function(e,t,a){"use strict";var l=a(0);a(2)(t,"__esModule",{value:!0}),t.default=function(){return n.default.createElement("div",null,n.default.createElement("div",{className:"property-header-title"},"输入校验"),n.default.createElement(i.FormItem,{className:"design-property-field",label:"必填",name:"required"},n.default.createElement(u.default,{on:"1",off:"0"})))};var n=l(a(1)),i=a(38);a(114);a(115);var u=l(a(195))}},[[197,1,2]]]);
//# sourceMappingURL=index.0d6ad247.chunk.js.map